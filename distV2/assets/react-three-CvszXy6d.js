const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/hls-BzwHmAES.js","assets/vendor-B2CzOxuJ.js"])))=>i.map(i=>d[i]);
import{r as _,a as zh,g as Fl,L as Ka,T as Fo,R as Kh,U as Wh,B as _i,M as Ei,C as bt,b as Zf,O as zs,P as Ri,S as bs,c as Wa,N as Qh,A as Xh,W as Yh,d as qf,e as Vh,f as Zh,V as qh,h as Ke,i as Rt,j as $h,k as ep,l as $f,m as tp,n as dl,o as ed,p as td,q as Si,F as Hs,s as np,t as rp,D as op,u as So,v as Wn,w as qt,I as ip,x as nd,y as Fi,z as Ks,E as sp,G as zr,H as ap,J as Kn,K as rd,Q as hl,X as lp,Y as up,Z as Tl,_ as Ws,$ as cp,a0 as fp,a1 as _o,a2 as dp,a3 as hp,a4 as pp,a5 as mp,a6 as Ps,a7 as _l,a8 as vp,a9 as Ap,aa as gp,ab as od,ac as Br,ad as yp,ae as Bp,af as Cp,ag as Ep,ah as Sp,ai as xp,aj as Mp,ak as id,al as wp,am as pc,an as mc,ao as vc,ap as sd,aq as ad,ar as Fp,as as ar,at as Tp,au as _p,av as Ms,aw as ld,ax as Rp,ay as Dp,az as Ip,aA as Gp,aB as Up,aC as Pp,aD as kp,aE as Rl,aF as Lp,aG as ud,aH as Ns,aI as Dl,aJ as cd,aK as Op,aL as bp,aM as Hp,aN as Ac,aO as pn,aP as Np,aQ as Jp,aR as jp,aS as zp}from"./vendor-B2CzOxuJ.js";var fd={exports:{}},Qs={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp=_,Wp=Symbol.for("react.element"),Qp=Symbol.for("react.fragment"),Xp=Object.prototype.hasOwnProperty,Yp=Kp.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Vp={key:!0,ref:!0,__self:!0,__source:!0};function dd(l,t,s){var d,o={},r=null,i=null;s!==void 0&&(r=""+s),t.key!==void 0&&(r=""+t.key),t.ref!==void 0&&(i=t.ref);for(d in t)Xp.call(t,d)&&!Vp.hasOwnProperty(d)&&(o[d]=t[d]);if(l&&l.defaultProps)for(d in t=l.defaultProps,t)o[d]===void 0&&(o[d]=t[d]);return{$$typeof:Wp,type:l,key:r,ref:i,props:o,_owner:Yp.current}}Qs.Fragment=Qp;Qs.jsx=dd;Qs.jsxs=dd;fd.exports=Qs;var Wt=fd.exports,hd,gc=zh;hd=gc.createRoot,gc.hydrateRoot;var pd={exports:{}},Wr={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */Wr.ConcurrentRoot=1;Wr.ContinuousEventPriority=4;Wr.DefaultEventPriority=16;Wr.DiscreteEventPriority=1;Wr.IdleEventPriority=536870912;Wr.LegacyRoot=0;pd.exports=Wr;var xo=pd.exports;function Zp(l){let t;const s=new Set,d=(f,h)=>{const m=typeof f=="function"?f(t):f;if(m!==t){const A=t;t=h?m:Object.assign({},t,m),s.forEach(y=>y(t,A))}},o=()=>t,r=(f,h=o,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let A=h(t);function y(){const B=h(t);if(!m(A,B)){const C=A;f(A=B,C)}}return s.add(y),()=>s.delete(y)},u={setState:d,getState:o,subscribe:(f,h,m)=>h||m?r(f,h,m):(s.add(f),()=>s.delete(f)),destroy:()=>s.clear()};return t=l(d,o,u),u}const qp=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),yc=qp?_.useEffect:_.useLayoutEffect;function md(l){const t=typeof l=="function"?Zp(l):l,s=(d=t.getState,o=Object.is)=>{const[,r]=_.useReducer(E=>E+1,0),i=t.getState(),c=_.useRef(i),u=_.useRef(d),f=_.useRef(o),h=_.useRef(!1),m=_.useRef();m.current===void 0&&(m.current=d(i));let A,y=!1;(c.current!==i||u.current!==d||f.current!==o||h.current)&&(A=d(i),y=!o(m.current,A)),yc(()=>{y&&(m.current=A),c.current=i,u.current=d,f.current=o,h.current=!1});const B=_.useRef(i);yc(()=>{const E=()=>{try{const x=t.getState(),w=u.current(x);f.current(m.current,w)||(c.current=x,m.current=w,r())}catch{h.current=!0,r()}},S=t.subscribe(E);return t.getState()!==B.current&&E(),S},[]);const C=y?A:m.current;return _.useDebugValue(C),C};return Object.assign(s,t),s[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const d=[s,t];return{next(){const o=d.length<=0;return{value:d.shift(),done:o}}}},s}const $p=l=>typeof l=="object"&&typeof l.then=="function",Jr=[];function vd(l,t,s=(d,o)=>d===o){if(l===t)return!0;if(!l||!t)return!1;const d=l.length;if(t.length!==d)return!1;for(let o=0;o<d;o++)if(!s(l[o],t[o]))return!1;return!0}function Ad(l,t=null,s=!1,d={}){t===null&&(t=[l]);for(const r of Jr)if(vd(t,r.keys,r.equal)){if(s)return;if(Object.prototype.hasOwnProperty.call(r,"error"))throw r.error;if(Object.prototype.hasOwnProperty.call(r,"response"))return d.lifespan&&d.lifespan>0&&(r.timeout&&clearTimeout(r.timeout),r.timeout=setTimeout(r.remove,d.lifespan)),r.response;if(!s)throw r.promise}const o={keys:t,equal:d.equal,remove:()=>{const r=Jr.indexOf(o);r!==-1&&Jr.splice(r,1)},promise:($p(l)?l:l(...t)).then(r=>{o.response=r,d.lifespan&&d.lifespan>0&&(o.timeout=setTimeout(o.remove,d.lifespan))}).catch(r=>o.error=r)};if(Jr.push(o),!s)throw o.promise}const Il=(l,t,s)=>Ad(l,t,!1,s),em=(l,t,s)=>void Ad(l,t,!0,s),tm=l=>{if(l===void 0||l.length===0)Jr.splice(0,Jr.length);else{const t=Jr.find(s=>vd(l,s.keys,s.equal));t&&t.remove()}};var gd={exports:{}},yd={exports:{}},Bd={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(l){function t(Y,J){var k=Y.length;Y.push(J);e:for(;0<k;){var F=k-1>>>1,R=Y[F];if(0<o(R,J))Y[F]=J,Y[k]=R,k=F;else break e}}function s(Y){return Y.length===0?null:Y[0]}function d(Y){if(Y.length===0)return null;var J=Y[0],k=Y.pop();if(k!==J){Y[0]=k;e:for(var F=0,R=Y.length,L=R>>>1;F<L;){var K=2*(F+1)-1,j=Y[K],ne=K+1,q=Y[ne];if(0>o(j,k))ne<R&&0>o(q,j)?(Y[F]=q,Y[ne]=k,F=ne):(Y[F]=j,Y[K]=k,F=K);else if(ne<R&&0>o(q,k))Y[F]=q,Y[ne]=k,F=ne;else break e}}return J}function o(Y,J){var k=Y.sortIndex-J.sortIndex;return k!==0?k:Y.id-J.id}if(typeof performance=="object"&&typeof performance.now=="function"){var r=performance;l.unstable_now=function(){return r.now()}}else{var i=Date,c=i.now();l.unstable_now=function(){return i.now()-c}}var u=[],f=[],h=1,m=null,A=3,y=!1,B=!1,C=!1,E=typeof setTimeout=="function"?setTimeout:null,S=typeof clearTimeout=="function"?clearTimeout:null,x=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(Y){for(var J=s(f);J!==null;){if(J.callback===null)d(f);else if(J.startTime<=Y)d(f),J.sortIndex=J.expirationTime,t(u,J);else break;J=s(f)}}function T(Y){if(C=!1,w(Y),!B)if(s(u)!==null)B=!0,te(D);else{var J=s(f);J!==null&&se(T,J.startTime-Y)}}function D(Y,J){B=!1,C&&(C=!1,S(b),b=-1),y=!0;var k=A;try{for(w(J),m=s(u);m!==null&&(!(m.expirationTime>J)||Y&&!W());){var F=m.callback;if(typeof F=="function"){m.callback=null,A=m.priorityLevel;var R=F(m.expirationTime<=J);J=l.unstable_now(),typeof R=="function"?m.callback=R:m===s(u)&&d(u),w(J)}else d(u);m=s(u)}if(m!==null)var L=!0;else{var K=s(f);K!==null&&se(T,K.startTime-J),L=!1}return L}finally{m=null,A=k,y=!1}}var P=!1,G=null,b=-1,H=5,N=-1;function W(){return!(l.unstable_now()-N<H)}function I(){if(G!==null){var Y=l.unstable_now();N=Y;var J=!0;try{J=G(!0,Y)}finally{J?X():(P=!1,G=null)}}else P=!1}var X;if(typeof x=="function")X=function(){x(I)};else if(typeof MessageChannel<"u"){var Q=new MessageChannel,$=Q.port2;Q.port1.onmessage=I,X=function(){$.postMessage(null)}}else X=function(){E(I,0)};function te(Y){G=Y,P||(P=!0,X())}function se(Y,J){b=E(function(){Y(l.unstable_now())},J)}l.unstable_IdlePriority=5,l.unstable_ImmediatePriority=1,l.unstable_LowPriority=4,l.unstable_NormalPriority=3,l.unstable_Profiling=null,l.unstable_UserBlockingPriority=2,l.unstable_cancelCallback=function(Y){Y.callback=null},l.unstable_continueExecution=function(){B||y||(B=!0,te(D))},l.unstable_forceFrameRate=function(Y){0>Y||125<Y?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):H=0<Y?Math.floor(1e3/Y):5},l.unstable_getCurrentPriorityLevel=function(){return A},l.unstable_getFirstCallbackNode=function(){return s(u)},l.unstable_next=function(Y){switch(A){case 1:case 2:case 3:var J=3;break;default:J=A}var k=A;A=J;try{return Y()}finally{A=k}},l.unstable_pauseExecution=function(){},l.unstable_requestPaint=function(){},l.unstable_runWithPriority=function(Y,J){switch(Y){case 1:case 2:case 3:case 4:case 5:break;default:Y=3}var k=A;A=Y;try{return J()}finally{A=k}},l.unstable_scheduleCallback=function(Y,J,k){var F=l.unstable_now();switch(typeof k=="object"&&k!==null?(k=k.delay,k=typeof k=="number"&&0<k?F+k:F):k=F,Y){case 1:var R=-1;break;case 2:R=250;break;case 5:R=1073741823;break;case 4:R=1e4;break;default:R=5e3}return R=k+R,Y={id:h++,callback:J,priorityLevel:Y,startTime:k,expirationTime:R,sortIndex:-1},k>F?(Y.sortIndex=k,t(f,Y),s(u)===null&&Y===s(f)&&(C?(S(b),b=-1):C=!0,se(T,k-F))):(Y.sortIndex=R,t(u,Y),B||y||(B=!0,te(D))),Y},l.unstable_shouldYield=W,l.unstable_wrapCallback=function(Y){var J=A;return function(){var k=A;A=J;try{return Y.apply(this,arguments)}finally{A=k}}}})(Bd);yd.exports=Bd;var pl=yd.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nm=function(t){var s={},d=_,o=pl,r=Object.assign;function i(e){for(var n="https://reactjs.org/docs/error-decoder.html?invariant="+e,a=1;a<arguments.length;a++)n+="&args[]="+encodeURIComponent(arguments[a]);return"Minified React error #"+e+"; visit "+n+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var c=d.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,u=Symbol.for("react.element"),f=Symbol.for("react.portal"),h=Symbol.for("react.fragment"),m=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),y=Symbol.for("react.provider"),B=Symbol.for("react.context"),C=Symbol.for("react.forward_ref"),E=Symbol.for("react.suspense"),S=Symbol.for("react.suspense_list"),x=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),T=Symbol.for("react.offscreen"),D=Symbol.iterator;function P(e){return e===null||typeof e!="object"?null:(e=D&&e[D]||e["@@iterator"],typeof e=="function"?e:null)}function G(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case h:return"Fragment";case f:return"Portal";case A:return"Profiler";case m:return"StrictMode";case E:return"Suspense";case S:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case B:return(e.displayName||"Context")+".Consumer";case y:return(e._context.displayName||"Context")+".Provider";case C:var n=e.render;return e=e.displayName,e||(e=n.displayName||n.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case x:return n=e.displayName||null,n!==null?n:G(e.type)||"Memo";case w:n=e._payload,e=e._init;try{return G(e(n))}catch{}}return null}function b(e){var n=e.type;switch(e.tag){case 24:return"Cache";case 9:return(n.displayName||"Context")+".Consumer";case 10:return(n._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=n.render,e=e.displayName||e.name||"",n.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return n;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return G(n);case 8:return n===m?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof n=="function")return n.displayName||n.name||null;if(typeof n=="string")return n}return null}function H(e){var n=e,a=e;if(e.alternate)for(;n.return;)n=n.return;else{e=n;do n=e,n.flags&4098&&(a=n.return),e=n.return;while(e)}return n.tag===3?a:null}function N(e){if(H(e)!==e)throw Error(i(188))}function W(e){var n=e.alternate;if(!n){if(n=H(e),n===null)throw Error(i(188));return n!==e?null:e}for(var a=e,p=n;;){var v=a.return;if(v===null)break;var g=v.alternate;if(g===null){if(p=v.return,p!==null){a=p;continue}break}if(v.child===g.child){for(g=v.child;g;){if(g===a)return N(v),e;if(g===p)return N(v),n;g=g.sibling}throw Error(i(188))}if(a.return!==p.return)a=v,p=g;else{for(var M=!1,U=v.child;U;){if(U===a){M=!0,a=v,p=g;break}if(U===p){M=!0,p=v,a=g;break}U=U.sibling}if(!M){for(U=g.child;U;){if(U===a){M=!0,a=g,p=v;break}if(U===p){M=!0,p=g,a=v;break}U=U.sibling}if(!M)throw Error(i(189))}}if(a.alternate!==p)throw Error(i(190))}if(a.tag!==3)throw Error(i(188));return a.stateNode.current===a?e:n}function I(e){return e=W(e),e!==null?X(e):null}function X(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var n=X(e);if(n!==null)return n;e=e.sibling}return null}function Q(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){if(e.tag!==4){var n=Q(e);if(n!==null)return n}e=e.sibling}return null}var $=Array.isArray,te=t.getPublicInstance,se=t.getRootHostContext,Y=t.getChildHostContext,J=t.prepareForCommit,k=t.resetAfterCommit,F=t.createInstance,R=t.appendInitialChild,L=t.finalizeInitialChildren,K=t.prepareUpdate,j=t.shouldSetTextContent,ne=t.createTextInstance,q=t.scheduleTimeout,re=t.cancelTimeout,ce=t.noTimeout,ue=t.isPrimaryRenderer,ee=t.supportsMutation,oe=t.supportsPersistence,ye=t.supportsHydration,Te=t.getInstanceFromNode,pe=t.preparePortalMount,Se=t.getCurrentEventPriority,Ee=t.detachDeletedInstance,ae=t.supportsMicrotasks,Be=t.scheduleMicrotask,me=t.supportsTestSelectors,ie=t.findFiberRoot,Ge=t.getBoundingRect,ve=t.getTextContent,Ce=t.isHiddenSubtree,de=t.matchAccessibilityRole,We=t.setFocusIfFocusable,Ae=t.setupIntersectionObserver,we=t.appendChild,Re=t.appendChildToContainer,Pe=t.commitTextUpdate,$e=t.commitMount,st=t.commitUpdate,be=t.insertBefore,He=t.insertInContainerBefore,_e=t.removeChild,at=t.removeChildFromContainer,tt=t.resetTextContent,Ut=t.hideInstance,et=t.hideTextInstance,Ie=t.unhideInstance,Ye=t.unhideTextInstance,Un=t.clearContainer,Ve=t.cloneInstance,Ne=t.createContainerChildSet,ut=t.appendChildToContainerChildSet,ot=t.finalizeContainerChildren,Ue=t.replaceContainerChildren,nt=t.cloneHiddenInstance,Et=t.cloneHiddenTextInstance,St=t.canHydrateInstance,ht=t.canHydrateTextInstance,$t=t.canHydrateSuspenseInstance,Fn=t.isSuspenseInstancePending,en=t.isSuspenseInstanceFallback,Pn=t.registerSuspenseInstanceRetry,tn=t.getNextHydratableSibling,Tn=t.getFirstHydratableChild,Dt=t.getFirstHydratableChildWithinContainer,Qn=t.getFirstHydratableChildWithinSuspenseInstance,Ii=t.hydrateInstance,Io=t.hydrateTextInstance,Vs=t.hydrateSuspenseInstance,Gi=t.getNextHydratableInstanceAfterSuspenseInstance,Er=t.commitHydratedContainer,Go=t.commitHydratedSuspenseInstance,Zs=t.clearSuspenseBoundary,Ui=t.clearSuspenseBoundaryFromContainer,Xr=t.shouldDeleteUnhydratedTailInstances,Uo=t.didNotMatchHydratedContainerTextInstance,Po=t.didNotMatchHydratedTextInstance,xe;function _n(e){if(xe===void 0)try{throw Error()}catch(a){var n=a.stack.trim().match(/\n( *(at )?)/);xe=n&&n[1]||""}return`
`+xe+e}var ko=!1;function kn(e,n){if(!e||ko)return"";ko=!0;var a=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(n)if(n=function(){throw Error()},Object.defineProperty(n.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(n,[])}catch(le){var p=le}Reflect.construct(e,[],n)}else{try{n.call()}catch(le){p=le}e.call(n.prototype)}else{try{throw Error()}catch(le){p=le}e()}}catch(le){if(le&&p&&typeof le.stack=="string"){for(var v=le.stack.split(`
`),g=p.stack.split(`
`),M=v.length-1,U=g.length-1;1<=M&&0<=U&&v[M]!==g[U];)U--;for(;1<=M&&0<=U;M--,U--)if(v[M]!==g[U]){if(M!==1||U!==1)do if(M--,U--,0>U||v[M]!==g[U]){var Z=`
`+v[M].replace(" at new "," at ");return e.displayName&&Z.includes("<anonymous>")&&(Z=Z.replace("<anonymous>",e.displayName)),Z}while(1<=M&&0<=U);break}}}finally{ko=!1,Error.prepareStackTrace=a}return(e=e?e.displayName||e.name:"")?_n(e):""}var Yr=Object.prototype.hasOwnProperty,Vr=[],Ln=-1;function nn(e){return{current:e}}function Ze(e){0>Ln||(e.current=Vr[Ln],Vr[Ln]=null,Ln--)}function qe(e,n){Ln++,Vr[Ln]=e.current,e.current=n}var rn={},yt=nn(rn),xt=nn(!1),On=rn;function mn(e,n){var a=e.type.contextTypes;if(!a)return rn;var p=e.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===n)return p.__reactInternalMemoizedMaskedChildContext;var v={},g;for(g in a)v[g]=n[g];return p&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=n,e.__reactInternalMemoizedMaskedChildContext=v),v}function Mt(e){return e=e.childContextTypes,e!=null}function Rn(){Ze(xt),Ze(yt)}function Zr(e,n,a){if(yt.current!==rn)throw Error(i(168));qe(yt,n),qe(xt,a)}function qr(e,n,a){var p=e.stateNode;if(n=n.childContextTypes,typeof p.getChildContext!="function")return a;p=p.getChildContext();for(var v in p)if(!(v in n))throw Error(i(108,b(e)||"Unknown",v));return r({},a,p)}function lr(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||rn,On=yt.current,qe(yt,e),qe(xt,xt.current),!0}function on(e,n,a){var p=e.stateNode;if(!p)throw Error(i(169));a?(e=qr(e,n,On),p.__reactInternalMemoizedMergedChildContext=e,Ze(xt),Ze(yt),qe(yt,e)):Ze(xt),qe(xt,a)}var sn=Math.clz32?Math.clz32:Pi,$r=Math.log,Sr=Math.LN2;function Pi(e){return e>>>=0,e===0?32:31-($r(e)/Sr|0)|0}var Xn=64,Yn=4194304;function Vn(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function xr(e,n){var a=e.pendingLanes;if(a===0)return 0;var p=0,v=e.suspendedLanes,g=e.pingedLanes,M=a&268435455;if(M!==0){var U=M&~v;U!==0?p=Vn(U):(g&=M,g!==0&&(p=Vn(g)))}else M=a&~v,M!==0?p=Vn(M):g!==0&&(p=Vn(g));if(p===0)return 0;if(n!==0&&n!==p&&!(n&v)&&(v=p&-p,g=n&-n,v>=g||v===16&&(g&4194240)!==0))return n;if(p&4&&(p|=a&16),n=e.entangledLanes,n!==0)for(e=e.entanglements,n&=p;0<n;)a=31-sn(n),v=1<<a,p|=e[a],n&=~v;return p}function ki(e,n){switch(e){case 1:case 2:case 4:return n+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return n+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Lo(e,n){for(var a=e.suspendedLanes,p=e.pingedLanes,v=e.expirationTimes,g=e.pendingLanes;0<g;){var M=31-sn(g),U=1<<M,Z=v[M];Z===-1?(!(U&a)||U&p)&&(v[M]=ki(U,n)):Z<=n&&(e.expiredLanes|=U),g&=~U}}function Zn(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function eo(e){for(var n=[],a=0;31>a;a++)n.push(e);return n}function bn(e,n,a){e.pendingLanes|=n,n!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,n=31-sn(n),e[n]=a}function ur(e,n){var a=e.pendingLanes&~n;e.pendingLanes=n,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=n,e.mutableReadLanes&=n,e.entangledLanes&=n,n=e.entanglements;var p=e.eventTimes;for(e=e.expirationTimes;0<a;){var v=31-sn(a),g=1<<v;n[v]=0,p[v]=-1,e[v]=-1,a&=~g}}function Hn(e,n){var a=e.entangledLanes|=n;for(e=e.entanglements;a;){var p=31-sn(a),v=1<<p;v&n|e[p]&n&&(e[p]|=n),a&=~v}}var je=0;function Oo(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qn=o.unstable_scheduleCallback,to=o.unstable_cancelCallback,bo=o.unstable_shouldYield,Li=o.unstable_requestPaint,ct=o.unstable_now,Mr=o.unstable_ImmediatePriority,Oi=o.unstable_UserBlockingPriority,Ht=o.unstable_NormalPriority,Ho=o.unstable_IdlePriority,wr=null,an=null;function No(e){if(an&&typeof an.onCommitFiberRoot=="function")try{an.onCommitFiberRoot(wr,e,void 0,(e.current.flags&128)===128)}catch{}}function bi(e,n){return e===n&&(e!==0||1/e===1/n)||e!==e&&n!==n}var ln=typeof Object.is=="function"?Object.is:bi,Nt=null,Nn=!1,vn=!1;function Jo(e){Nt===null?Nt=[e]:Nt.push(e)}function jo(e){Nn=!0,Jo(e)}function Xt(){if(!vn&&Nt!==null){vn=!0;var e=0,n=je;try{var a=Nt;for(je=1;e<a.length;e++){var p=a[e];do p=p(!0);while(p!==null)}Nt=null,Nn=!1}catch(v){throw Nt!==null&&(Nt=Nt.slice(e+1)),qn(Mr,Xt),v}finally{je=n,vn=!1}}return null}var Fr=c.ReactCurrentBatchConfig;function Tr(e,n){if(ln(e,n))return!0;if(typeof e!="object"||e===null||typeof n!="object"||n===null)return!1;var a=Object.keys(e),p=Object.keys(n);if(a.length!==p.length)return!1;for(p=0;p<a.length;p++){var v=a[p];if(!Yr.call(n,v)||!ln(e[v],n[v]))return!1}return!0}function _r(e){switch(e.tag){case 5:return _n(e.type);case 16:return _n("Lazy");case 13:return _n("Suspense");case 19:return _n("SuspenseList");case 0:case 2:case 15:return e=kn(e.type,!1),e;case 11:return e=kn(e.type.render,!1),e;case 1:return e=kn(e.type,!0),e;default:return""}}function Jt(e,n){if(e&&e.defaultProps){n=r({},n),e=e.defaultProps;for(var a in e)n[a]===void 0&&(n[a]=e[a]);return n}return n}var wt=nn(null),no=null,Dn=null,cr=null;function ro(){cr=Dn=no=null}function Hi(e,n,a){ue?(qe(wt,n._currentValue),n._currentValue=a):(qe(wt,n._currentValue2),n._currentValue2=a)}function Ft(e){var n=wt.current;Ze(wt),ue?e._currentValue=n:e._currentValue2=n}function jt(e,n,a){for(;e!==null;){var p=e.alternate;if((e.childLanes&n)!==n?(e.childLanes|=n,p!==null&&(p.childLanes|=n)):p!==null&&(p.childLanes&n)!==n&&(p.childLanes|=n),e===a)break;e=e.return}}function pt(e,n){no=e,cr=Dn=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&n&&(dn=!0),e.firstContext=null)}function mt(e){var n=ue?e._currentValue:e._currentValue2;if(cr!==e)if(e={context:e,memoizedValue:n,next:null},Dn===null){if(no===null)throw Error(i(308));Dn=e,no.dependencies={lanes:0,firstContext:e}}else Dn=Dn.next=e;return n}var un=null,fr=!1;function qs(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Nl(e,n){e=e.updateQueue,n.updateQueue===e&&(n.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function $n(e,n){return{eventTime:e,lane:n,tag:0,payload:null,callback:null,next:null}}function dr(e,n){var a=e.updateQueue;a!==null&&(a=a.shared,At!==null&&e.mode&1&&!(Je&2)?(e=a.interleaved,e===null?(n.next=n,un===null?un=[a]:un.push(a)):(n.next=e.next,e.next=n),a.interleaved=n):(e=a.pending,e===null?n.next=n:(n.next=e.next,e.next=n),a.pending=n))}function Ni(e,n,a){if(n=n.updateQueue,n!==null&&(n=n.shared,(a&4194240)!==0)){var p=n.lanes;p&=e.pendingLanes,a|=p,n.lanes=a,Hn(e,a)}}function Jl(e,n){var a=e.updateQueue,p=e.alternate;if(p!==null&&(p=p.updateQueue,a===p)){var v=null,g=null;if(a=a.firstBaseUpdate,a!==null){do{var M={eventTime:a.eventTime,lane:a.lane,tag:a.tag,payload:a.payload,callback:a.callback,next:null};g===null?v=g=M:g=g.next=M,a=a.next}while(a!==null);g===null?v=g=n:g=g.next=n}else v=g=n;a={baseState:p.baseState,firstBaseUpdate:v,lastBaseUpdate:g,shared:p.shared,effects:p.effects},e.updateQueue=a;return}e=a.lastBaseUpdate,e===null?a.firstBaseUpdate=n:e.next=n,a.lastBaseUpdate=n}function Ji(e,n,a,p){var v=e.updateQueue;fr=!1;var g=v.firstBaseUpdate,M=v.lastBaseUpdate,U=v.shared.pending;if(U!==null){v.shared.pending=null;var Z=U,le=Z.next;Z.next=null,M===null?g=le:M.next=le,M=Z;var ge=e.alternate;ge!==null&&(ge=ge.updateQueue,U=ge.lastBaseUpdate,U!==M&&(U===null?ge.firstBaseUpdate=le:U.next=le,ge.lastBaseUpdate=Z))}if(g!==null){var ke=v.baseState;M=0,ge=le=Z=null,U=g;do{var De=U.lane,rt=U.eventTime;if((p&De)===De){ge!==null&&(ge=ge.next={eventTime:rt,lane:0,tag:U.tag,payload:U.payload,callback:U.callback,next:null});e:{var Fe=e,Ot=U;switch(De=n,rt=a,Ot.tag){case 1:if(Fe=Ot.payload,typeof Fe=="function"){ke=Fe.call(rt,ke,De);break e}ke=Fe;break e;case 3:Fe.flags=Fe.flags&-65537|128;case 0:if(Fe=Ot.payload,De=typeof Fe=="function"?Fe.call(rt,ke,De):Fe,De==null)break e;ke=r({},ke,De);break e;case 2:fr=!0}}U.callback!==null&&U.lane!==0&&(e.flags|=64,De=v.effects,De===null?v.effects=[U]:De.push(U))}else rt={eventTime:rt,lane:De,tag:U.tag,payload:U.payload,callback:U.callback,next:null},ge===null?(le=ge=rt,Z=ke):ge=ge.next=rt,M|=De;if(U=U.next,U===null){if(U=v.shared.pending,U===null)break;De=U,U=De.next,De.next=null,v.lastBaseUpdate=De,v.shared.pending=null}}while(!0);if(ge===null&&(Z=ke),v.baseState=Z,v.firstBaseUpdate=le,v.lastBaseUpdate=ge,n=v.shared.interleaved,n!==null){v=n;do M|=v.lane,v=v.next;while(v!==n)}else g===null&&(v.shared.lanes=0);ho|=M,e.lanes=M,e.memoizedState=ke}}function jl(e,n,a){if(e=n.effects,n.effects=null,e!==null)for(n=0;n<e.length;n++){var p=e[n],v=p.callback;if(v!==null){if(p.callback=null,p=a,typeof v!="function")throw Error(i(191,v));v.call(p)}}}var zl=new d.Component().refs;function $s(e,n,a,p){n=e.memoizedState,a=a(p,n),a=a==null?n:r({},n,a),e.memoizedState=a,e.lanes===0&&(e.updateQueue.baseState=a)}var ji={isMounted:function(e){return(e=e._reactInternals)?H(e)===e:!1},enqueueSetState:function(e,n,a){e=e._reactInternals;var p=Kt(),v=mr(e),g=$n(p,v);g.payload=n,a!=null&&(g.callback=a),dr(e,g),n=Cn(e,v,p),n!==null&&Ni(n,e,v)},enqueueReplaceState:function(e,n,a){e=e._reactInternals;var p=Kt(),v=mr(e),g=$n(p,v);g.tag=1,g.payload=n,a!=null&&(g.callback=a),dr(e,g),n=Cn(e,v,p),n!==null&&Ni(n,e,v)},enqueueForceUpdate:function(e,n){e=e._reactInternals;var a=Kt(),p=mr(e),v=$n(a,p);v.tag=2,n!=null&&(v.callback=n),dr(e,v),n=Cn(e,p,a),n!==null&&Ni(n,e,p)}};function Kl(e,n,a,p,v,g,M){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(p,g,M):n.prototype&&n.prototype.isPureReactComponent?!Tr(a,p)||!Tr(v,g):!0}function Wl(e,n,a){var p=!1,v=rn,g=n.contextType;return typeof g=="object"&&g!==null?g=mt(g):(v=Mt(n)?On:yt.current,p=n.contextTypes,g=(p=p!=null)?mn(e,v):rn),n=new n(a,g),e.memoizedState=n.state!==null&&n.state!==void 0?n.state:null,n.updater=ji,e.stateNode=n,n._reactInternals=e,p&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=v,e.__reactInternalMemoizedMaskedChildContext=g),n}function Ql(e,n,a,p){e=n.state,typeof n.componentWillReceiveProps=="function"&&n.componentWillReceiveProps(a,p),typeof n.UNSAFE_componentWillReceiveProps=="function"&&n.UNSAFE_componentWillReceiveProps(a,p),n.state!==e&&ji.enqueueReplaceState(n,n.state,null)}function ea(e,n,a,p){var v=e.stateNode;v.props=a,v.state=e.memoizedState,v.refs=zl,qs(e);var g=n.contextType;typeof g=="object"&&g!==null?v.context=mt(g):(g=Mt(n)?On:yt.current,v.context=mn(e,g)),v.state=e.memoizedState,g=n.getDerivedStateFromProps,typeof g=="function"&&($s(e,n,g,a),v.state=e.memoizedState),typeof n.getDerivedStateFromProps=="function"||typeof v.getSnapshotBeforeUpdate=="function"||typeof v.UNSAFE_componentWillMount!="function"&&typeof v.componentWillMount!="function"||(n=v.state,typeof v.componentWillMount=="function"&&v.componentWillMount(),typeof v.UNSAFE_componentWillMount=="function"&&v.UNSAFE_componentWillMount(),n!==v.state&&ji.enqueueReplaceState(v,v.state,null),Ji(e,a,v,p),v.state=e.memoizedState),typeof v.componentDidMount=="function"&&(e.flags|=4194308)}var oo=[],io=0,zi=null,Ki=0,An=[],gn=0,Rr=null,er=1,tr="";function Dr(e,n){oo[io++]=Ki,oo[io++]=zi,zi=e,Ki=n}function Xl(e,n,a){An[gn++]=er,An[gn++]=tr,An[gn++]=Rr,Rr=e;var p=er;e=tr;var v=32-sn(p)-1;p&=~(1<<v),a+=1;var g=32-sn(n)+v;if(30<g){var M=v-v%5;g=(p&(1<<M)-1).toString(32),p>>=M,v-=M,er=1<<32-sn(n)+v|a<<v|p,tr=g+e}else er=1<<g|a<<v|p,tr=e}function ta(e){e.return!==null&&(Dr(e,1),Xl(e,1,0))}function na(e){for(;e===zi;)zi=oo[--io],oo[io]=null,Ki=oo[--io],oo[io]=null;for(;e===Rr;)Rr=An[--gn],An[gn]=null,tr=An[--gn],An[gn]=null,er=An[--gn],An[gn]=null}var cn=null,fn=null,lt=!1,zo=!1,In=null;function Yl(e,n){var a=En(5,null,null,0);a.elementType="DELETED",a.stateNode=n,a.return=e,n=e.deletions,n===null?(e.deletions=[a],e.flags|=16):n.push(a)}function Vl(e,n){switch(e.tag){case 5:return n=St(n,e.type,e.pendingProps),n!==null?(e.stateNode=n,cn=e,fn=Tn(n),!0):!1;case 6:return n=ht(n,e.pendingProps),n!==null?(e.stateNode=n,cn=e,fn=null,!0):!1;case 13:if(n=$t(n),n!==null){var a=Rr!==null?{id:er,overflow:tr}:null;return e.memoizedState={dehydrated:n,treeContext:a,retryLane:1073741824},a=En(18,null,null,0),a.stateNode=n,a.return=e,e.child=a,cn=e,fn=null,!0}return!1;default:return!1}}function ra(e){return(e.mode&1)!==0&&(e.flags&128)===0}function oa(e){if(lt){var n=fn;if(n){var a=n;if(!Vl(e,n)){if(ra(e))throw Error(i(418));n=tn(a);var p=cn;n&&Vl(e,n)?Yl(p,a):(e.flags=e.flags&-4097|2,lt=!1,cn=e)}}else{if(ra(e))throw Error(i(418));e.flags=e.flags&-4097|2,lt=!1,cn=e}}}function Zl(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;cn=e}function Ko(e){if(!ye||e!==cn)return!1;if(!lt)return Zl(e),lt=!0,!1;if(e.tag!==3&&(e.tag!==5||Xr(e.type)&&!j(e.type,e.memoizedProps))){var n=fn;if(n){if(ra(e)){for(e=fn;e;)e=tn(e);throw Error(i(418))}for(;n;)Yl(e,n),n=tn(n)}}if(Zl(e),e.tag===13){if(!ye)throw Error(i(316));if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));fn=Gi(e)}else fn=cn?tn(e.stateNode):null;return!0}function so(){ye&&(fn=cn=null,zo=lt=!1)}function ia(e){In===null?In=[e]:In.push(e)}function Wo(e,n,a){if(e=a.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(a._owner){if(a=a._owner,a){if(a.tag!==1)throw Error(i(309));var p=a.stateNode}if(!p)throw Error(i(147,e));var v=p,g=""+e;return n!==null&&n.ref!==null&&typeof n.ref=="function"&&n.ref._stringRef===g?n.ref:(n=function(M){var U=v.refs;U===zl&&(U=v.refs={}),M===null?delete U[g]:U[g]=M},n._stringRef=g,n)}if(typeof e!="string")throw Error(i(284));if(!a._owner)throw Error(i(290,e))}return e}function Wi(e,n){throw e=Object.prototype.toString.call(n),Error(i(31,e==="[object Object]"?"object with keys {"+Object.keys(n).join(", ")+"}":e))}function ql(e){var n=e._init;return n(e._payload)}function $l(e){function n(z,O){if(e){var V=z.deletions;V===null?(z.deletions=[O],z.flags|=16):V.push(O)}}function a(z,O){if(!e)return null;for(;O!==null;)n(z,O),O=O.sibling;return null}function p(z,O){for(z=new Map;O!==null;)O.key!==null?z.set(O.key,O):z.set(O.index,O),O=O.sibling;return z}function v(z,O){return z=Ar(z,O),z.index=0,z.sibling=null,z}function g(z,O,V){return z.index=V,e?(V=z.alternate,V!==null?(V=V.index,V<O?(z.flags|=2,O):V):(z.flags|=2,O)):(z.flags|=1048576,O)}function M(z){return e&&z.alternate===null&&(z.flags|=2),z}function U(z,O,V,he){return O===null||O.tag!==6?(O=Ja(V,z.mode,he),O.return=z,O):(O=v(O,V),O.return=z,O)}function Z(z,O,V,he){var Me=V.type;return Me===h?ge(z,O,V.props.children,he,V.key):O!==null&&(O.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===w&&ql(Me)===O.type)?(he=v(O,V.props),he.ref=Wo(z,O,V),he.return=z,he):(he=Ss(V.type,V.key,V.props,null,z.mode,he),he.ref=Wo(z,O,V),he.return=z,he)}function le(z,O,V,he){return O===null||O.tag!==4||O.stateNode.containerInfo!==V.containerInfo||O.stateNode.implementation!==V.implementation?(O=ja(V,z.mode,he),O.return=z,O):(O=v(O,V.children||[]),O.return=z,O)}function ge(z,O,V,he,Me){return O===null||O.tag!==7?(O=Or(V,z.mode,he,Me),O.return=z,O):(O=v(O,V),O.return=z,O)}function ke(z,O,V){if(typeof O=="string"&&O!==""||typeof O=="number")return O=Ja(""+O,z.mode,V),O.return=z,O;if(typeof O=="object"&&O!==null){switch(O.$$typeof){case u:return V=Ss(O.type,O.key,O.props,null,z.mode,V),V.ref=Wo(z,null,O),V.return=z,V;case f:return O=ja(O,z.mode,V),O.return=z,O;case w:var he=O._init;return ke(z,he(O._payload),V)}if($(O)||P(O))return O=Or(O,z.mode,V,null),O.return=z,O;Wi(z,O)}return null}function De(z,O,V,he){var Me=O!==null?O.key:null;if(typeof V=="string"&&V!==""||typeof V=="number")return Me!==null?null:U(z,O,""+V,he);if(typeof V=="object"&&V!==null){switch(V.$$typeof){case u:return V.key===Me?Z(z,O,V,he):null;case f:return V.key===Me?le(z,O,V,he):null;case w:return Me=V._init,De(z,O,Me(V._payload),he)}if($(V)||P(V))return Me!==null?null:ge(z,O,V,he,null);Wi(z,V)}return null}function rt(z,O,V,he,Me){if(typeof he=="string"&&he!==""||typeof he=="number")return z=z.get(V)||null,U(O,z,""+he,Me);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case u:return z=z.get(he.key===null?V:he.key)||null,Z(O,z,he,Me);case f:return z=z.get(he.key===null?V:he.key)||null,le(O,z,he,Me);case w:var Oe=he._init;return rt(z,O,V,Oe(he._payload),Me)}if($(he)||P(he))return z=z.get(V)||null,ge(O,z,he,Me,null);Wi(O,he)}return null}function Fe(z,O,V,he){for(var Me=null,Oe=null,Le=O,Qe=O=0,_t=null;Le!==null&&Qe<V.length;Qe++){Le.index>Qe?(_t=Le,Le=null):_t=Le.sibling;var Xe=De(z,Le,V[Qe],he);if(Xe===null){Le===null&&(Le=_t);break}e&&Le&&Xe.alternate===null&&n(z,Le),O=g(Xe,O,Qe),Oe===null?Me=Xe:Oe.sibling=Xe,Oe=Xe,Le=_t}if(Qe===V.length)return a(z,Le),lt&&Dr(z,Qe),Me;if(Le===null){for(;Qe<V.length;Qe++)Le=ke(z,V[Qe],he),Le!==null&&(O=g(Le,O,Qe),Oe===null?Me=Le:Oe.sibling=Le,Oe=Le);return lt&&Dr(z,Qe),Me}for(Le=p(z,Le);Qe<V.length;Qe++)_t=rt(Le,z,Qe,V[Qe],he),_t!==null&&(e&&_t.alternate!==null&&Le.delete(_t.key===null?Qe:_t.key),O=g(_t,O,Qe),Oe===null?Me=_t:Oe.sibling=_t,Oe=_t);return e&&Le.forEach(function(gr){return n(z,gr)}),lt&&Dr(z,Qe),Me}function Ot(z,O,V,he){var Me=P(V);if(typeof Me!="function")throw Error(i(150));if(V=Me.call(V),V==null)throw Error(i(151));for(var Oe=Me=null,Le=O,Qe=O=0,_t=null,Xe=V.next();Le!==null&&!Xe.done;Qe++,Xe=V.next()){Le.index>Qe?(_t=Le,Le=null):_t=Le.sibling;var gr=De(z,Le,Xe.value,he);if(gr===null){Le===null&&(Le=_t);break}e&&Le&&gr.alternate===null&&n(z,Le),O=g(gr,O,Qe),Oe===null?Me=gr:Oe.sibling=gr,Oe=gr,Le=_t}if(Xe.done)return a(z,Le),lt&&Dr(z,Qe),Me;if(Le===null){for(;!Xe.done;Qe++,Xe=V.next())Xe=ke(z,Xe.value,he),Xe!==null&&(O=g(Xe,O,Qe),Oe===null?Me=Xe:Oe.sibling=Xe,Oe=Xe);return lt&&Dr(z,Qe),Me}for(Le=p(z,Le);!Xe.done;Qe++,Xe=V.next())Xe=rt(Le,z,Qe,Xe.value,he),Xe!==null&&(e&&Xe.alternate!==null&&Le.delete(Xe.key===null?Qe:Xe.key),O=g(Xe,O,Qe),Oe===null?Me=Xe:Oe.sibling=Xe,Oe=Xe);return e&&Le.forEach(function(jh){return n(z,jh)}),lt&&Dr(z,Qe),Me}function Sn(z,O,V,he){if(typeof V=="object"&&V!==null&&V.type===h&&V.key===null&&(V=V.props.children),typeof V=="object"&&V!==null){switch(V.$$typeof){case u:e:{for(var Me=V.key,Oe=O;Oe!==null;){if(Oe.key===Me){if(Me=V.type,Me===h){if(Oe.tag===7){a(z,Oe.sibling),O=v(Oe,V.props.children),O.return=z,z=O;break e}}else if(Oe.elementType===Me||typeof Me=="object"&&Me!==null&&Me.$$typeof===w&&ql(Me)===Oe.type){a(z,Oe.sibling),O=v(Oe,V.props),O.ref=Wo(z,Oe,V),O.return=z,z=O;break e}a(z,Oe);break}else n(z,Oe);Oe=Oe.sibling}V.type===h?(O=Or(V.props.children,z.mode,he,V.key),O.return=z,z=O):(he=Ss(V.type,V.key,V.props,null,z.mode,he),he.ref=Wo(z,O,V),he.return=z,z=he)}return M(z);case f:e:{for(Oe=V.key;O!==null;){if(O.key===Oe)if(O.tag===4&&O.stateNode.containerInfo===V.containerInfo&&O.stateNode.implementation===V.implementation){a(z,O.sibling),O=v(O,V.children||[]),O.return=z,z=O;break e}else{a(z,O);break}else n(z,O);O=O.sibling}O=ja(V,z.mode,he),O.return=z,z=O}return M(z);case w:return Oe=V._init,Sn(z,O,Oe(V._payload),he)}if($(V))return Fe(z,O,V,he);if(P(V))return Ot(z,O,V,he);Wi(z,V)}return typeof V=="string"&&V!==""||typeof V=="number"?(V=""+V,O!==null&&O.tag===6?(a(z,O.sibling),O=v(O,V),O.return=z,z=O):(a(z,O),O=Ja(V,z.mode,he),O.return=z,z=O),M(z)):a(z,O)}return Sn}var ao=$l(!0),eu=$l(!1),Qo={},yn=nn(Qo),Xo=nn(Qo),lo=nn(Qo);function Jn(e){if(e===Qo)throw Error(i(174));return e}function sa(e,n){qe(lo,n),qe(Xo,e),qe(yn,Qo),e=se(n),Ze(yn),qe(yn,e)}function uo(){Ze(yn),Ze(Xo),Ze(lo)}function tu(e){var n=Jn(lo.current),a=Jn(yn.current);n=Y(a,e.type,n),a!==n&&(qe(Xo,e),qe(yn,n))}function aa(e){Xo.current===e&&(Ze(yn),Ze(Xo))}var ft=nn(0);function Qi(e){for(var n=e;n!==null;){if(n.tag===13){var a=n.memoizedState;if(a!==null&&(a=a.dehydrated,a===null||Fn(a)||en(a)))return n}else if(n.tag===19&&n.memoizedProps.revealOrder!==void 0){if(n.flags&128)return n}else if(n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return null;n=n.return}n.sibling.return=n.return,n=n.sibling}return null}var la=[];function ua(){for(var e=0;e<la.length;e++){var n=la[e];ue?n._workInProgressVersionPrimary=null:n._workInProgressVersionSecondary=null}la.length=0}var Xi=c.ReactCurrentDispatcher,Bn=c.ReactCurrentBatchConfig,co=0,dt=null,Pt=null,Tt=null,Yi=!1,Yo=!1,Vo=0,ph=0;function kt(){throw Error(i(321))}function ca(e,n){if(n===null)return!1;for(var a=0;a<n.length&&a<e.length;a++)if(!ln(e[a],n[a]))return!1;return!0}function fa(e,n,a,p,v,g){if(co=g,dt=n,n.memoizedState=null,n.updateQueue=null,n.lanes=0,Xi.current=e===null||e.memoizedState===null?gh:yh,e=a(p,v),Yo){g=0;do{if(Yo=!1,Vo=0,25<=g)throw Error(i(301));g+=1,Tt=Pt=null,n.updateQueue=null,Xi.current=Bh,e=a(p,v)}while(Yo)}if(Xi.current=es,n=Pt!==null&&Pt.next!==null,co=0,Tt=Pt=dt=null,Yi=!1,n)throw Error(i(300));return e}function da(){var e=Vo!==0;return Vo=0,e}function nr(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Tt===null?dt.memoizedState=Tt=e:Tt=Tt.next=e,Tt}function jn(){if(Pt===null){var e=dt.alternate;e=e!==null?e.memoizedState:null}else e=Pt.next;var n=Tt===null?dt.memoizedState:Tt.next;if(n!==null)Tt=n,Pt=e;else{if(e===null)throw Error(i(310));Pt=e,e={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Tt===null?dt.memoizedState=Tt=e:Tt=Tt.next=e}return Tt}function Ir(e,n){return typeof n=="function"?n(e):n}function Vi(e){var n=jn(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var p=Pt,v=p.baseQueue,g=a.pending;if(g!==null){if(v!==null){var M=v.next;v.next=g.next,g.next=M}p.baseQueue=v=g,a.pending=null}if(v!==null){g=v.next,p=p.baseState;var U=M=null,Z=null,le=g;do{var ge=le.lane;if((co&ge)===ge)Z!==null&&(Z=Z.next={lane:0,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null}),p=le.hasEagerState?le.eagerState:e(p,le.action);else{var ke={lane:ge,action:le.action,hasEagerState:le.hasEagerState,eagerState:le.eagerState,next:null};Z===null?(U=Z=ke,M=p):Z=Z.next=ke,dt.lanes|=ge,ho|=ge}le=le.next}while(le!==null&&le!==g);Z===null?M=p:Z.next=U,ln(p,n.memoizedState)||(dn=!0),n.memoizedState=p,n.baseState=M,n.baseQueue=Z,a.lastRenderedState=p}if(e=a.interleaved,e!==null){v=e;do g=v.lane,dt.lanes|=g,ho|=g,v=v.next;while(v!==e)}else v===null&&(a.lanes=0);return[n.memoizedState,a.dispatch]}function Zi(e){var n=jn(),a=n.queue;if(a===null)throw Error(i(311));a.lastRenderedReducer=e;var p=a.dispatch,v=a.pending,g=n.memoizedState;if(v!==null){a.pending=null;var M=v=v.next;do g=e(g,M.action),M=M.next;while(M!==v);ln(g,n.memoizedState)||(dn=!0),n.memoizedState=g,n.baseQueue===null&&(n.baseState=g),a.lastRenderedState=g}return[g,p]}function nu(){}function ru(e,n){var a=dt,p=jn(),v=n(),g=!ln(p.memoizedState,v);if(g&&(p.memoizedState=v,dn=!0),p=p.queue,qo(su.bind(null,a,p,e),[e]),p.getSnapshot!==n||g||Tt!==null&&Tt.memoizedState.tag&1){if(a.flags|=2048,Zo(9,iu.bind(null,a,p,v,n),void 0,null),At===null)throw Error(i(349));co&30||ou(a,n,v)}return v}function ou(e,n,a){e.flags|=16384,e={getSnapshot:n,value:a},n=dt.updateQueue,n===null?(n={lastEffect:null,stores:null},dt.updateQueue=n,n.stores=[e]):(a=n.stores,a===null?n.stores=[e]:a.push(e))}function iu(e,n,a,p){n.value=a,n.getSnapshot=p,au(n)&&Cn(e,1,-1)}function su(e,n,a){return a(function(){au(n)&&Cn(e,1,-1)})}function au(e){var n=e.getSnapshot;e=e.value;try{var a=n();return!ln(e,a)}catch{return!0}}function ha(e){var n=nr();return typeof e=="function"&&(e=e()),n.memoizedState=n.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Ir,lastRenderedState:e},n.queue=e,e=e.dispatch=Ah.bind(null,dt,e),[n.memoizedState,e]}function Zo(e,n,a,p){return e={tag:e,create:n,destroy:a,deps:p,next:null},n=dt.updateQueue,n===null?(n={lastEffect:null,stores:null},dt.updateQueue=n,n.lastEffect=e.next=e):(a=n.lastEffect,a===null?n.lastEffect=e.next=e:(p=a.next,a.next=e,e.next=p,n.lastEffect=e)),e}function lu(){return jn().memoizedState}function qi(e,n,a,p){var v=nr();dt.flags|=e,v.memoizedState=Zo(1|n,a,void 0,p===void 0?null:p)}function $i(e,n,a,p){var v=jn();p=p===void 0?null:p;var g=void 0;if(Pt!==null){var M=Pt.memoizedState;if(g=M.destroy,p!==null&&ca(p,M.deps)){v.memoizedState=Zo(n,a,g,p);return}}dt.flags|=e,v.memoizedState=Zo(1|n,a,g,p)}function pa(e,n){return qi(8390656,8,e,n)}function qo(e,n){return $i(2048,8,e,n)}function uu(e,n){return $i(4,2,e,n)}function cu(e,n){return $i(4,4,e,n)}function fu(e,n){if(typeof n=="function")return e=e(),n(e),function(){n(null)};if(n!=null)return e=e(),n.current=e,function(){n.current=null}}function du(e,n,a){return a=a!=null?a.concat([e]):null,$i(4,4,fu.bind(null,n,e),a)}function ma(){}function hu(e,n){var a=jn();n=n===void 0?null:n;var p=a.memoizedState;return p!==null&&n!==null&&ca(n,p[1])?p[0]:(a.memoizedState=[e,n],e)}function pu(e,n){var a=jn();n=n===void 0?null:n;var p=a.memoizedState;return p!==null&&n!==null&&ca(n,p[1])?p[0]:(e=e(),a.memoizedState=[e,n],e)}function mh(e,n){var a=je;je=a!==0&&4>a?a:4,e(!0);var p=Bn.transition;Bn.transition={};try{e(!1),n()}finally{je=a,Bn.transition=p}}function mu(){return jn().memoizedState}function vh(e,n,a){var p=mr(e);a={lane:p,action:a,hasEagerState:!1,eagerState:null,next:null},vu(e)?Au(n,a):(gu(e,n,a),a=Kt(),e=Cn(e,p,a),e!==null&&yu(e,n,p))}function Ah(e,n,a){var p=mr(e),v={lane:p,action:a,hasEagerState:!1,eagerState:null,next:null};if(vu(e))Au(n,v);else{gu(e,n,v);var g=e.alternate;if(e.lanes===0&&(g===null||g.lanes===0)&&(g=n.lastRenderedReducer,g!==null))try{var M=n.lastRenderedState,U=g(M,a);if(v.hasEagerState=!0,v.eagerState=U,ln(U,M))return}catch{}finally{}a=Kt(),e=Cn(e,p,a),e!==null&&yu(e,n,p)}}function vu(e){var n=e.alternate;return e===dt||n!==null&&n===dt}function Au(e,n){Yo=Yi=!0;var a=e.pending;a===null?n.next=n:(n.next=a.next,a.next=n),e.pending=n}function gu(e,n,a){At!==null&&e.mode&1&&!(Je&2)?(e=n.interleaved,e===null?(a.next=a,un===null?un=[n]:un.push(n)):(a.next=e.next,e.next=a),n.interleaved=a):(e=n.pending,e===null?a.next=a:(a.next=e.next,e.next=a),n.pending=a)}function yu(e,n,a){if(a&4194240){var p=n.lanes;p&=e.pendingLanes,a|=p,n.lanes=a,Hn(e,a)}}var es={readContext:mt,useCallback:kt,useContext:kt,useEffect:kt,useImperativeHandle:kt,useInsertionEffect:kt,useLayoutEffect:kt,useMemo:kt,useReducer:kt,useRef:kt,useState:kt,useDebugValue:kt,useDeferredValue:kt,useTransition:kt,useMutableSource:kt,useSyncExternalStore:kt,useId:kt,unstable_isNewReconciler:!1},gh={readContext:mt,useCallback:function(e,n){return nr().memoizedState=[e,n===void 0?null:n],e},useContext:mt,useEffect:pa,useImperativeHandle:function(e,n,a){return a=a!=null?a.concat([e]):null,qi(4194308,4,fu.bind(null,n,e),a)},useLayoutEffect:function(e,n){return qi(4194308,4,e,n)},useInsertionEffect:function(e,n){return qi(4,2,e,n)},useMemo:function(e,n){var a=nr();return n=n===void 0?null:n,e=e(),a.memoizedState=[e,n],e},useReducer:function(e,n,a){var p=nr();return n=a!==void 0?a(n):n,p.memoizedState=p.baseState=n,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:n},p.queue=e,e=e.dispatch=vh.bind(null,dt,e),[p.memoizedState,e]},useRef:function(e){var n=nr();return e={current:e},n.memoizedState=e},useState:ha,useDebugValue:ma,useDeferredValue:function(e){var n=ha(e),a=n[0],p=n[1];return pa(function(){var v=Bn.transition;Bn.transition={};try{p(e)}finally{Bn.transition=v}},[e]),a},useTransition:function(){var e=ha(!1),n=e[0];return e=mh.bind(null,e[1]),nr().memoizedState=e,[n,e]},useMutableSource:function(){},useSyncExternalStore:function(e,n,a){var p=dt,v=nr();if(lt){if(a===void 0)throw Error(i(407));a=a()}else{if(a=n(),At===null)throw Error(i(349));co&30||ou(p,n,a)}v.memoizedState=a;var g={value:a,getSnapshot:n};return v.queue=g,pa(su.bind(null,p,g,e),[e]),p.flags|=2048,Zo(9,iu.bind(null,p,g,a,n),void 0,null),a},useId:function(){var e=nr(),n=At.identifierPrefix;if(lt){var a=tr,p=er;a=(p&~(1<<32-sn(p)-1)).toString(32)+a,n=":"+n+"R"+a,a=Vo++,0<a&&(n+="H"+a.toString(32)),n+=":"}else a=ph++,n=":"+n+"r"+a.toString(32)+":";return e.memoizedState=n},unstable_isNewReconciler:!1},yh={readContext:mt,useCallback:hu,useContext:mt,useEffect:qo,useImperativeHandle:du,useInsertionEffect:uu,useLayoutEffect:cu,useMemo:pu,useReducer:Vi,useRef:lu,useState:function(){return Vi(Ir)},useDebugValue:ma,useDeferredValue:function(e){var n=Vi(Ir),a=n[0],p=n[1];return qo(function(){var v=Bn.transition;Bn.transition={};try{p(e)}finally{Bn.transition=v}},[e]),a},useTransition:function(){var e=Vi(Ir)[0],n=jn().memoizedState;return[e,n]},useMutableSource:nu,useSyncExternalStore:ru,useId:mu,unstable_isNewReconciler:!1},Bh={readContext:mt,useCallback:hu,useContext:mt,useEffect:qo,useImperativeHandle:du,useInsertionEffect:uu,useLayoutEffect:cu,useMemo:pu,useReducer:Zi,useRef:lu,useState:function(){return Zi(Ir)},useDebugValue:ma,useDeferredValue:function(e){var n=Zi(Ir),a=n[0],p=n[1];return qo(function(){var v=Bn.transition;Bn.transition={};try{p(e)}finally{Bn.transition=v}},[e]),a},useTransition:function(){var e=Zi(Ir)[0],n=jn().memoizedState;return[e,n]},useMutableSource:nu,useSyncExternalStore:ru,useId:mu,unstable_isNewReconciler:!1};function va(e,n){try{var a="",p=n;do a+=_r(p),p=p.return;while(p);var v=a}catch(g){v=`
Error generating stack: `+g.message+`
`+g.stack}return{value:e,source:n,stack:v}}function Aa(e,n){try{console.error(n.value)}catch(a){setTimeout(function(){throw a})}}var Ch=typeof WeakMap=="function"?WeakMap:Map;function Bu(e,n,a){a=$n(-1,a),a.tag=3,a.payload={element:null};var p=n.value;return a.callback=function(){vs||(vs=!0,Pa=p),Aa(e,n)},a}function Cu(e,n,a){a=$n(-1,a),a.tag=3;var p=e.type.getDerivedStateFromError;if(typeof p=="function"){var v=n.value;a.payload=function(){return p(v)},a.callback=function(){Aa(e,n)}}var g=e.stateNode;return g!==null&&typeof g.componentDidCatch=="function"&&(a.callback=function(){Aa(e,n),typeof p!="function"&&(hr===null?hr=new Set([this]):hr.add(this));var M=n.stack;this.componentDidCatch(n.value,{componentStack:M!==null?M:""})}),a}function Eu(e,n,a){var p=e.pingCache;if(p===null){p=e.pingCache=new Ch;var v=new Set;p.set(n,v)}else v=p.get(n),v===void 0&&(v=new Set,p.set(n,v));v.has(a)||(v.add(a),e=Ph.bind(null,e,n,a),n.then(e,e))}function Su(e){do{var n;if((n=e.tag===13)&&(n=e.memoizedState,n=n!==null?n.dehydrated!==null:!0),n)return e;e=e.return}while(e!==null);return null}function xu(e,n,a,p,v){return e.mode&1?(e.flags|=65536,e.lanes=v,e):(e===n?e.flags|=65536:(e.flags|=128,a.flags|=131072,a.flags&=-52805,a.tag===1&&(a.alternate===null?a.tag=17:(n=$n(-1,1),n.tag=2,dr(a,n))),a.lanes|=1),e)}function zn(e){e.flags|=4}function Mu(e,n){if(e!==null&&e.child===n.child)return!0;if(n.flags&16)return!1;for(e=n.child;e!==null;){if(e.flags&12854||e.subtreeFlags&12854)return!1;e=e.sibling}return!0}var $o,ei,ts,ns;if(ee)$o=function(e,n){for(var a=n.child;a!==null;){if(a.tag===5||a.tag===6)R(e,a.stateNode);else if(a.tag!==4&&a.child!==null){a.child.return=a,a=a.child;continue}if(a===n)break;for(;a.sibling===null;){if(a.return===null||a.return===n)return;a=a.return}a.sibling.return=a.return,a=a.sibling}},ei=function(){},ts=function(e,n,a,p,v){if(e=e.memoizedProps,e!==p){var g=n.stateNode,M=Jn(yn.current);a=K(g,a,e,p,v,M),(n.updateQueue=a)&&zn(n)}},ns=function(e,n,a,p){a!==p&&zn(n)};else if(oe){$o=function(e,n,a,p){for(var v=n.child;v!==null;){if(v.tag===5){var g=v.stateNode;a&&p&&(g=nt(g,v.type,v.memoizedProps,v)),R(e,g)}else if(v.tag===6)g=v.stateNode,a&&p&&(g=Et(g,v.memoizedProps,v)),R(e,g);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)g=v.child,g!==null&&(g.return=v),$o(e,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===n)break;for(;v.sibling===null;){if(v.return===null||v.return===n)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};var wu=function(e,n,a,p){for(var v=n.child;v!==null;){if(v.tag===5){var g=v.stateNode;a&&p&&(g=nt(g,v.type,v.memoizedProps,v)),ut(e,g)}else if(v.tag===6)g=v.stateNode,a&&p&&(g=Et(g,v.memoizedProps,v)),ut(e,g);else if(v.tag!==4){if(v.tag===22&&v.memoizedState!==null)g=v.child,g!==null&&(g.return=v),wu(e,v,!0,!0);else if(v.child!==null){v.child.return=v,v=v.child;continue}}if(v===n)break;for(;v.sibling===null;){if(v.return===null||v.return===n)return;v=v.return}v.sibling.return=v.return,v=v.sibling}};ei=function(e,n){var a=n.stateNode;if(!Mu(e,n)){e=a.containerInfo;var p=Ne(e);wu(p,n,!1,!1),a.pendingChildren=p,zn(n),ot(e,p)}},ts=function(e,n,a,p,v){var g=e.stateNode,M=e.memoizedProps;if((e=Mu(e,n))&&M===p)n.stateNode=g;else{var U=n.stateNode,Z=Jn(yn.current),le=null;M!==p&&(le=K(U,a,M,p,v,Z)),e&&le===null?n.stateNode=g:(g=Ve(g,le,a,M,p,n,e,U),L(g,a,p,v,Z)&&zn(n),n.stateNode=g,e?zn(n):$o(g,n,!1,!1))}},ns=function(e,n,a,p){a!==p?(e=Jn(lo.current),a=Jn(yn.current),n.stateNode=ne(p,e,a,n),zn(n)):n.stateNode=e.stateNode}}else ei=function(){},ts=function(){},ns=function(){};function ti(e,n){if(!lt)switch(e.tailMode){case"hidden":n=e.tail;for(var a=null;n!==null;)n.alternate!==null&&(a=n),n=n.sibling;a===null?e.tail=null:a.sibling=null;break;case"collapsed":a=e.tail;for(var p=null;a!==null;)a.alternate!==null&&(p=a),a=a.sibling;p===null?n||e.tail===null?e.tail=null:e.tail.sibling=null:p.sibling=null}}function Lt(e){var n=e.alternate!==null&&e.alternate.child===e.child,a=0,p=0;if(n)for(var v=e.child;v!==null;)a|=v.lanes|v.childLanes,p|=v.subtreeFlags&14680064,p|=v.flags&14680064,v.return=e,v=v.sibling;else for(v=e.child;v!==null;)a|=v.lanes|v.childLanes,p|=v.subtreeFlags,p|=v.flags,v.return=e,v=v.sibling;return e.subtreeFlags|=p,e.childLanes=a,n}function Eh(e,n,a){var p=n.pendingProps;switch(na(n),n.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Lt(n),null;case 1:return Mt(n.type)&&Rn(),Lt(n),null;case 3:return p=n.stateNode,uo(),Ze(xt),Ze(yt),ua(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(e===null||e.child===null)&&(Ko(n)?zn(n):e===null||e.memoizedState.isDehydrated&&!(n.flags&256)||(n.flags|=1024,In!==null&&(Oa(In),In=null))),ei(e,n),Lt(n),null;case 5:aa(n),a=Jn(lo.current);var v=n.type;if(e!==null&&n.stateNode!=null)ts(e,n,v,p,a),e.ref!==n.ref&&(n.flags|=512,n.flags|=2097152);else{if(!p){if(n.stateNode===null)throw Error(i(166));return Lt(n),null}if(e=Jn(yn.current),Ko(n)){if(!ye)throw Error(i(175));e=Ii(n.stateNode,n.type,n.memoizedProps,a,e,n,!zo),n.updateQueue=e,e!==null&&zn(n)}else{var g=F(v,p,a,e,n);$o(g,n,!1,!1),n.stateNode=g,L(g,v,p,a,e)&&zn(n)}n.ref!==null&&(n.flags|=512,n.flags|=2097152)}return Lt(n),null;case 6:if(e&&n.stateNode!=null)ns(e,n,e.memoizedProps,p);else{if(typeof p!="string"&&n.stateNode===null)throw Error(i(166));if(e=Jn(lo.current),a=Jn(yn.current),Ko(n)){if(!ye)throw Error(i(176));if(e=n.stateNode,p=n.memoizedProps,(a=Io(e,p,n,!zo))&&(v=cn,v!==null))switch(g=(v.mode&1)!==0,v.tag){case 3:Uo(v.stateNode.containerInfo,e,p,g);break;case 5:Po(v.type,v.memoizedProps,v.stateNode,e,p,g)}a&&zn(n)}else n.stateNode=ne(p,e,a,n)}return Lt(n),null;case 13:if(Ze(ft),p=n.memoizedState,lt&&fn!==null&&n.mode&1&&!(n.flags&128)){for(e=fn;e;)e=tn(e);return so(),n.flags|=98560,n}if(p!==null&&p.dehydrated!==null){if(p=Ko(n),e===null){if(!p)throw Error(i(318));if(!ye)throw Error(i(344));if(e=n.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(i(317));Vs(e,n)}else so(),!(n.flags&128)&&(n.memoizedState=null),n.flags|=4;return Lt(n),null}return In!==null&&(Oa(In),In=null),n.flags&128?(n.lanes=a,n):(p=p!==null,a=!1,e===null?Ko(n):a=e.memoizedState!==null,p&&!a&&(n.child.flags|=8192,n.mode&1&&(e===null||ft.current&1?Bt===0&&(Bt=3):Ha())),n.updateQueue!==null&&(n.flags|=4),Lt(n),null);case 4:return uo(),ei(e,n),e===null&&pe(n.stateNode.containerInfo),Lt(n),null;case 10:return Ft(n.type._context),Lt(n),null;case 17:return Mt(n.type)&&Rn(),Lt(n),null;case 19:if(Ze(ft),v=n.memoizedState,v===null)return Lt(n),null;if(p=(n.flags&128)!==0,g=v.rendering,g===null)if(p)ti(v,!1);else{if(Bt!==0||e!==null&&e.flags&128)for(e=n.child;e!==null;){if(g=Qi(e),g!==null){for(n.flags|=128,ti(v,!1),e=g.updateQueue,e!==null&&(n.updateQueue=e,n.flags|=4),n.subtreeFlags=0,e=a,p=n.child;p!==null;)a=p,v=e,a.flags&=14680066,g=a.alternate,g===null?(a.childLanes=0,a.lanes=v,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=g.childLanes,a.lanes=g.lanes,a.child=g.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=g.memoizedProps,a.memoizedState=g.memoizedState,a.updateQueue=g.updateQueue,a.type=g.type,v=g.dependencies,a.dependencies=v===null?null:{lanes:v.lanes,firstContext:v.firstContext}),p=p.sibling;return qe(ft,ft.current&1|2),n.child}e=e.sibling}v.tail!==null&&ct()>Ua&&(n.flags|=128,p=!0,ti(v,!1),n.lanes=4194304)}else{if(!p)if(e=Qi(g),e!==null){if(n.flags|=128,p=!0,e=e.updateQueue,e!==null&&(n.updateQueue=e,n.flags|=4),ti(v,!0),v.tail===null&&v.tailMode==="hidden"&&!g.alternate&&!lt)return Lt(n),null}else 2*ct()-v.renderingStartTime>Ua&&a!==1073741824&&(n.flags|=128,p=!0,ti(v,!1),n.lanes=4194304);v.isBackwards?(g.sibling=n.child,n.child=g):(e=v.last,e!==null?e.sibling=g:n.child=g,v.last=g)}return v.tail!==null?(n=v.tail,v.rendering=n,v.tail=n.sibling,v.renderingStartTime=ct(),n.sibling=null,e=ft.current,qe(ft,p?e&1|2:e&1),n):(Lt(n),null);case 22:case 23:return ba(),p=n.memoizedState!==null,e!==null&&e.memoizedState!==null!==p&&(n.flags|=8192),p&&n.mode&1?hn&1073741824&&(Lt(n),ee&&n.subtreeFlags&6&&(n.flags|=8192)):Lt(n),null;case 24:return null;case 25:return null}throw Error(i(156,n.tag))}var Sh=c.ReactCurrentOwner,dn=!1;function zt(e,n,a,p){n.child=e===null?eu(n,null,a,p):ao(n,e.child,a,p)}function Fu(e,n,a,p,v){a=a.render;var g=n.ref;return pt(n,v),p=fa(e,n,a,p,g,v),a=da(),e!==null&&!dn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~v,rr(e,n,v)):(lt&&a&&ta(n),n.flags|=1,zt(e,n,p,v),n.child)}function Tu(e,n,a,p,v){if(e===null){var g=a.type;return typeof g=="function"&&!Na(g)&&g.defaultProps===void 0&&a.compare===null&&a.defaultProps===void 0?(n.tag=15,n.type=g,_u(e,n,g,p,v)):(e=Ss(a.type,null,p,n,n.mode,v),e.ref=n.ref,e.return=n,n.child=e)}if(g=e.child,!(e.lanes&v)){var M=g.memoizedProps;if(a=a.compare,a=a!==null?a:Tr,a(M,p)&&e.ref===n.ref)return rr(e,n,v)}return n.flags|=1,e=Ar(g,p),e.ref=n.ref,e.return=n,n.child=e}function _u(e,n,a,p,v){if(e!==null&&Tr(e.memoizedProps,p)&&e.ref===n.ref)if(dn=!1,(e.lanes&v)!==0)e.flags&131072&&(dn=!0);else return n.lanes=e.lanes,rr(e,n,v);return ga(e,n,a,p,v)}function Ru(e,n,a){var p=n.pendingProps,v=p.children,g=e!==null?e.memoizedState:null;if(p.mode==="hidden")if(!(n.mode&1))n.memoizedState={baseLanes:0,cachePool:null},qe(fo,hn),hn|=a;else if(a&1073741824)n.memoizedState={baseLanes:0,cachePool:null},p=g!==null?g.baseLanes:a,qe(fo,hn),hn|=p;else return e=g!==null?g.baseLanes|a:a,n.lanes=n.childLanes=1073741824,n.memoizedState={baseLanes:e,cachePool:null},n.updateQueue=null,qe(fo,hn),hn|=e,null;else g!==null?(p=g.baseLanes|a,n.memoizedState=null):p=a,qe(fo,hn),hn|=p;return zt(e,n,v,a),n.child}function Du(e,n){var a=n.ref;(e===null&&a!==null||e!==null&&e.ref!==a)&&(n.flags|=512,n.flags|=2097152)}function ga(e,n,a,p,v){var g=Mt(a)?On:yt.current;return g=mn(n,g),pt(n,v),a=fa(e,n,a,p,g,v),p=da(),e!==null&&!dn?(n.updateQueue=e.updateQueue,n.flags&=-2053,e.lanes&=~v,rr(e,n,v)):(lt&&p&&ta(n),n.flags|=1,zt(e,n,a,v),n.child)}function Iu(e,n,a,p,v){if(Mt(a)){var g=!0;lr(n)}else g=!1;if(pt(n,v),n.stateNode===null)e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),Wl(n,a,p),ea(n,a,p,v),p=!0;else if(e===null){var M=n.stateNode,U=n.memoizedProps;M.props=U;var Z=M.context,le=a.contextType;typeof le=="object"&&le!==null?le=mt(le):(le=Mt(a)?On:yt.current,le=mn(n,le));var ge=a.getDerivedStateFromProps,ke=typeof ge=="function"||typeof M.getSnapshotBeforeUpdate=="function";ke||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==p||Z!==le)&&Ql(n,M,p,le),fr=!1;var De=n.memoizedState;M.state=De,Ji(n,p,M,v),Z=n.memoizedState,U!==p||De!==Z||xt.current||fr?(typeof ge=="function"&&($s(n,a,ge,p),Z=n.memoizedState),(U=fr||Kl(n,a,U,p,De,Z,le))?(ke||typeof M.UNSAFE_componentWillMount!="function"&&typeof M.componentWillMount!="function"||(typeof M.componentWillMount=="function"&&M.componentWillMount(),typeof M.UNSAFE_componentWillMount=="function"&&M.UNSAFE_componentWillMount()),typeof M.componentDidMount=="function"&&(n.flags|=4194308)):(typeof M.componentDidMount=="function"&&(n.flags|=4194308),n.memoizedProps=p,n.memoizedState=Z),M.props=p,M.state=Z,M.context=le,p=U):(typeof M.componentDidMount=="function"&&(n.flags|=4194308),p=!1)}else{M=n.stateNode,Nl(e,n),U=n.memoizedProps,le=n.type===n.elementType?U:Jt(n.type,U),M.props=le,ke=n.pendingProps,De=M.context,Z=a.contextType,typeof Z=="object"&&Z!==null?Z=mt(Z):(Z=Mt(a)?On:yt.current,Z=mn(n,Z));var rt=a.getDerivedStateFromProps;(ge=typeof rt=="function"||typeof M.getSnapshotBeforeUpdate=="function")||typeof M.UNSAFE_componentWillReceiveProps!="function"&&typeof M.componentWillReceiveProps!="function"||(U!==ke||De!==Z)&&Ql(n,M,p,Z),fr=!1,De=n.memoizedState,M.state=De,Ji(n,p,M,v);var Fe=n.memoizedState;U!==ke||De!==Fe||xt.current||fr?(typeof rt=="function"&&($s(n,a,rt,p),Fe=n.memoizedState),(le=fr||Kl(n,a,le,p,De,Fe,Z)||!1)?(ge||typeof M.UNSAFE_componentWillUpdate!="function"&&typeof M.componentWillUpdate!="function"||(typeof M.componentWillUpdate=="function"&&M.componentWillUpdate(p,Fe,Z),typeof M.UNSAFE_componentWillUpdate=="function"&&M.UNSAFE_componentWillUpdate(p,Fe,Z)),typeof M.componentDidUpdate=="function"&&(n.flags|=4),typeof M.getSnapshotBeforeUpdate=="function"&&(n.flags|=1024)):(typeof M.componentDidUpdate!="function"||U===e.memoizedProps&&De===e.memoizedState||(n.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===e.memoizedProps&&De===e.memoizedState||(n.flags|=1024),n.memoizedProps=p,n.memoizedState=Fe),M.props=p,M.state=Fe,M.context=Z,p=le):(typeof M.componentDidUpdate!="function"||U===e.memoizedProps&&De===e.memoizedState||(n.flags|=4),typeof M.getSnapshotBeforeUpdate!="function"||U===e.memoizedProps&&De===e.memoizedState||(n.flags|=1024),p=!1)}return ya(e,n,a,p,g,v)}function ya(e,n,a,p,v,g){Du(e,n);var M=(n.flags&128)!==0;if(!p&&!M)return v&&on(n,a,!1),rr(e,n,g);p=n.stateNode,Sh.current=n;var U=M&&typeof a.getDerivedStateFromError!="function"?null:p.render();return n.flags|=1,e!==null&&M?(n.child=ao(n,e.child,null,g),n.child=ao(n,null,U,g)):zt(e,n,U,g),n.memoizedState=p.state,v&&on(n,a,!0),n.child}function Gu(e){var n=e.stateNode;n.pendingContext?Zr(e,n.pendingContext,n.pendingContext!==n.context):n.context&&Zr(e,n.context,!1),sa(e,n.containerInfo)}function Uu(e,n,a,p,v){return so(),ia(v),n.flags|=256,zt(e,n,a,p),n.child}var rs={dehydrated:null,treeContext:null,retryLane:0};function os(e){return{baseLanes:e,cachePool:null}}function Pu(e,n,a){var p=n.pendingProps,v=ft.current,g=!1,M=(n.flags&128)!==0,U;if((U=M)||(U=e!==null&&e.memoizedState===null?!1:(v&2)!==0),U?(g=!0,n.flags&=-129):(e===null||e.memoizedState!==null)&&(v|=1),qe(ft,v&1),e===null)return oa(n),e=n.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(n.mode&1?en(e)?n.lanes=8:n.lanes=1073741824:n.lanes=1,null):(v=p.children,e=p.fallback,g?(p=n.mode,g=n.child,v={mode:"hidden",children:v},!(p&1)&&g!==null?(g.childLanes=0,g.pendingProps=v):g=xs(v,p,0,null),e=Or(e,p,a,null),g.return=n,e.return=n,g.sibling=e,n.child=g,n.child.memoizedState=os(a),n.memoizedState=rs,e):Ba(n,v));if(v=e.memoizedState,v!==null){if(U=v.dehydrated,U!==null){if(M)return n.flags&256?(n.flags&=-257,is(e,n,a,Error(i(422)))):n.memoizedState!==null?(n.child=e.child,n.flags|=128,null):(g=p.fallback,v=n.mode,p=xs({mode:"visible",children:p.children},v,0,null),g=Or(g,v,a,null),g.flags|=2,p.return=n,g.return=n,p.sibling=g,n.child=p,n.mode&1&&ao(n,e.child,null,a),n.child.memoizedState=os(a),n.memoizedState=rs,g);if(!(n.mode&1))n=is(e,n,a,null);else if(en(U))n=is(e,n,a,Error(i(419)));else if(p=(a&e.childLanes)!==0,dn||p){if(p=At,p!==null){switch(a&-a){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}p=g&(p.suspendedLanes|a)?0:g,p!==0&&p!==v.retryLane&&(v.retryLane=p,Cn(e,p,-1))}Ha(),n=is(e,n,a,Error(i(421)))}else Fn(U)?(n.flags|=128,n.child=e.child,n=kh.bind(null,e),Pn(U,n),n=null):(a=v.treeContext,ye&&(fn=Qn(U),cn=n,lt=!0,In=null,zo=!1,a!==null&&(An[gn++]=er,An[gn++]=tr,An[gn++]=Rr,er=a.id,tr=a.overflow,Rr=n)),n=Ba(n,n.pendingProps.children),n.flags|=4096);return n}return g?(p=Lu(e,n,p.children,p.fallback,a),g=n.child,v=e.child.memoizedState,g.memoizedState=v===null?os(a):{baseLanes:v.baseLanes|a,cachePool:null},g.childLanes=e.childLanes&~a,n.memoizedState=rs,p):(a=ku(e,n,p.children,a),n.memoizedState=null,a)}return g?(p=Lu(e,n,p.children,p.fallback,a),g=n.child,v=e.child.memoizedState,g.memoizedState=v===null?os(a):{baseLanes:v.baseLanes|a,cachePool:null},g.childLanes=e.childLanes&~a,n.memoizedState=rs,p):(a=ku(e,n,p.children,a),n.memoizedState=null,a)}function Ba(e,n){return n=xs({mode:"visible",children:n},e.mode,0,null),n.return=e,e.child=n}function ku(e,n,a,p){var v=e.child;return e=v.sibling,a=Ar(v,{mode:"visible",children:a}),!(n.mode&1)&&(a.lanes=p),a.return=n,a.sibling=null,e!==null&&(p=n.deletions,p===null?(n.deletions=[e],n.flags|=16):p.push(e)),n.child=a}function Lu(e,n,a,p,v){var g=n.mode;e=e.child;var M=e.sibling,U={mode:"hidden",children:a};return!(g&1)&&n.child!==e?(a=n.child,a.childLanes=0,a.pendingProps=U,n.deletions=null):(a=Ar(e,U),a.subtreeFlags=e.subtreeFlags&14680064),M!==null?p=Ar(M,p):(p=Or(p,g,v,null),p.flags|=2),p.return=n,a.return=n,a.sibling=p,n.child=a,p}function is(e,n,a,p){return p!==null&&ia(p),ao(n,e.child,null,a),e=Ba(n,n.pendingProps.children),e.flags|=2,n.memoizedState=null,e}function Ou(e,n,a){e.lanes|=n;var p=e.alternate;p!==null&&(p.lanes|=n),jt(e.return,n,a)}function Ca(e,n,a,p,v){var g=e.memoizedState;g===null?e.memoizedState={isBackwards:n,rendering:null,renderingStartTime:0,last:p,tail:a,tailMode:v}:(g.isBackwards=n,g.rendering=null,g.renderingStartTime=0,g.last=p,g.tail=a,g.tailMode=v)}function bu(e,n,a){var p=n.pendingProps,v=p.revealOrder,g=p.tail;if(zt(e,n,p.children,a),p=ft.current,p&2)p=p&1|2,n.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=n.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Ou(e,a,n);else if(e.tag===19)Ou(e,a,n);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===n)break e;for(;e.sibling===null;){if(e.return===null||e.return===n)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}p&=1}if(qe(ft,p),!(n.mode&1))n.memoizedState=null;else switch(v){case"forwards":for(a=n.child,v=null;a!==null;)e=a.alternate,e!==null&&Qi(e)===null&&(v=a),a=a.sibling;a=v,a===null?(v=n.child,n.child=null):(v=a.sibling,a.sibling=null),Ca(n,!1,v,a,g);break;case"backwards":for(a=null,v=n.child,n.child=null;v!==null;){if(e=v.alternate,e!==null&&Qi(e)===null){n.child=v;break}e=v.sibling,v.sibling=a,a=v,v=e}Ca(n,!0,a,null,g);break;case"together":Ca(n,!1,null,null,void 0);break;default:n.memoizedState=null}return n.child}function rr(e,n,a){if(e!==null&&(n.dependencies=e.dependencies),ho|=n.lanes,!(a&n.childLanes))return null;if(e!==null&&n.child!==e.child)throw Error(i(153));if(n.child!==null){for(e=n.child,a=Ar(e,e.pendingProps),n.child=a,a.return=n;e.sibling!==null;)e=e.sibling,a=a.sibling=Ar(e,e.pendingProps),a.return=n;a.sibling=null}return n.child}function xh(e,n,a){switch(n.tag){case 3:Gu(n),so();break;case 5:tu(n);break;case 1:Mt(n.type)&&lr(n);break;case 4:sa(n,n.stateNode.containerInfo);break;case 10:Hi(n,n.type._context,n.memoizedProps.value);break;case 13:var p=n.memoizedState;if(p!==null)return p.dehydrated!==null?(qe(ft,ft.current&1),n.flags|=128,null):a&n.child.childLanes?Pu(e,n,a):(qe(ft,ft.current&1),e=rr(e,n,a),e!==null?e.sibling:null);qe(ft,ft.current&1);break;case 19:if(p=(a&n.childLanes)!==0,e.flags&128){if(p)return bu(e,n,a);n.flags|=128}var v=n.memoizedState;if(v!==null&&(v.rendering=null,v.tail=null,v.lastEffect=null),qe(ft,ft.current),p)break;return null;case 22:case 23:return n.lanes=0,Ru(e,n,a)}return rr(e,n,a)}function Mh(e,n){switch(na(n),n.tag){case 1:return Mt(n.type)&&Rn(),e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 3:return uo(),Ze(xt),Ze(yt),ua(),e=n.flags,e&65536&&!(e&128)?(n.flags=e&-65537|128,n):null;case 5:return aa(n),null;case 13:if(Ze(ft),e=n.memoizedState,e!==null&&e.dehydrated!==null){if(n.alternate===null)throw Error(i(340));so()}return e=n.flags,e&65536?(n.flags=e&-65537|128,n):null;case 19:return Ze(ft),null;case 4:return uo(),null;case 10:return Ft(n.type._context),null;case 22:case 23:return ba(),null;case 24:return null;default:return null}}var ss=!1,Gr=!1,wh=typeof WeakSet=="function"?WeakSet:Set,fe=null;function as(e,n){var a=e.ref;if(a!==null)if(typeof a=="function")try{a(null)}catch(p){Zt(e,n,p)}else a.current=null}function Ea(e,n,a){try{a()}catch(p){Zt(e,n,p)}}var Hu=!1;function Fh(e,n){for(J(e.containerInfo),fe=n;fe!==null;)if(e=fe,n=e.child,(e.subtreeFlags&1028)!==0&&n!==null)n.return=e,fe=n;else for(;fe!==null;){e=fe;try{var a=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(a!==null){var p=a.memoizedProps,v=a.memoizedState,g=e.stateNode,M=g.getSnapshotBeforeUpdate(e.elementType===e.type?p:Jt(e.type,p),v);g.__reactInternalSnapshotBeforeUpdate=M}break;case 3:ee&&Un(e.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(i(163))}}catch(U){Zt(e,e.return,U)}if(n=e.sibling,n!==null){n.return=e.return,fe=n;break}fe=e.return}return a=Hu,Hu=!1,a}function Ur(e,n,a){var p=n.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var v=p=p.next;do{if((v.tag&e)===e){var g=v.destroy;v.destroy=void 0,g!==void 0&&Ea(n,a,g)}v=v.next}while(v!==p)}}function ni(e,n){if(n=n.updateQueue,n=n!==null?n.lastEffect:null,n!==null){var a=n=n.next;do{if((a.tag&e)===e){var p=a.create;a.destroy=p()}a=a.next}while(a!==n)}}function Sa(e){var n=e.ref;if(n!==null){var a=e.stateNode;switch(e.tag){case 5:e=te(a);break;default:e=a}typeof n=="function"?n(e):n.current=e}}function Nu(e,n,a){if(an&&typeof an.onCommitFiberUnmount=="function")try{an.onCommitFiberUnmount(wr,n)}catch{}switch(n.tag){case 0:case 11:case 14:case 15:if(e=n.updateQueue,e!==null&&(e=e.lastEffect,e!==null)){var p=e=e.next;do{var v=p,g=v.destroy;v=v.tag,g!==void 0&&(v&2||v&4)&&Ea(n,a,g),p=p.next}while(p!==e)}break;case 1:if(as(n,a),e=n.stateNode,typeof e.componentWillUnmount=="function")try{e.props=n.memoizedProps,e.state=n.memoizedState,e.componentWillUnmount()}catch(M){Zt(n,a,M)}break;case 5:as(n,a);break;case 4:ee?Qu(e,n,a):oe&&oe&&(n=n.stateNode.containerInfo,a=Ne(n),Ue(n,a))}}function Ju(e,n,a){for(var p=n;;)if(Nu(e,p,a),p.child===null||ee&&p.tag===4){if(p===n)break;for(;p.sibling===null;){if(p.return===null||p.return===n)return;p=p.return}p.sibling.return=p.return,p=p.sibling}else p.child.return=p,p=p.child}function ju(e){var n=e.alternate;n!==null&&(e.alternate=null,ju(n)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(n=e.stateNode,n!==null&&Ee(n)),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function zu(e){return e.tag===5||e.tag===3||e.tag===4}function Ku(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||zu(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Wu(e){if(ee){e:{for(var n=e.return;n!==null;){if(zu(n))break e;n=n.return}throw Error(i(160))}var a=n;switch(a.tag){case 5:n=a.stateNode,a.flags&32&&(tt(n),a.flags&=-33),a=Ku(e),Ma(e,a,n);break;case 3:case 4:n=a.stateNode.containerInfo,a=Ku(e),xa(e,a,n);break;default:throw Error(i(161))}}}function xa(e,n,a){var p=e.tag;if(p===5||p===6)e=e.stateNode,n?He(a,e,n):Re(a,e);else if(p!==4&&(e=e.child,e!==null))for(xa(e,n,a),e=e.sibling;e!==null;)xa(e,n,a),e=e.sibling}function Ma(e,n,a){var p=e.tag;if(p===5||p===6)e=e.stateNode,n?be(a,e,n):we(a,e);else if(p!==4&&(e=e.child,e!==null))for(Ma(e,n,a),e=e.sibling;e!==null;)Ma(e,n,a),e=e.sibling}function Qu(e,n,a){for(var p=n,v=!1,g,M;;){if(!v){v=p.return;e:for(;;){if(v===null)throw Error(i(160));switch(g=v.stateNode,v.tag){case 5:M=!1;break e;case 3:g=g.containerInfo,M=!0;break e;case 4:g=g.containerInfo,M=!0;break e}v=v.return}v=!0}if(p.tag===5||p.tag===6)Ju(e,p,a),M?at(g,p.stateNode):_e(g,p.stateNode);else if(p.tag===18)M?Ui(g,p.stateNode):Zs(g,p.stateNode);else if(p.tag===4){if(p.child!==null){g=p.stateNode.containerInfo,M=!0,p.child.return=p,p=p.child;continue}}else if(Nu(e,p,a),p.child!==null){p.child.return=p,p=p.child;continue}if(p===n)break;for(;p.sibling===null;){if(p.return===null||p.return===n)return;p=p.return,p.tag===4&&(v=!1)}p.sibling.return=p.return,p=p.sibling}}function wa(e,n){if(ee){switch(n.tag){case 0:case 11:case 14:case 15:Ur(3,n,n.return),ni(3,n),Ur(5,n,n.return);return;case 1:return;case 5:var a=n.stateNode;if(a!=null){var p=n.memoizedProps;e=e!==null?e.memoizedProps:p;var v=n.type,g=n.updateQueue;n.updateQueue=null,g!==null&&st(a,g,v,e,p,n)}return;case 6:if(n.stateNode===null)throw Error(i(162));a=n.memoizedProps,Pe(n.stateNode,e!==null?e.memoizedProps:a,a);return;case 3:ye&&e!==null&&e.memoizedState.isDehydrated&&Er(n.stateNode.containerInfo);return;case 12:return;case 13:ls(n);return;case 19:ls(n);return;case 17:return}throw Error(i(163))}switch(n.tag){case 0:case 11:case 14:case 15:Ur(3,n,n.return),ni(3,n),Ur(5,n,n.return);return;case 12:return;case 13:ls(n);return;case 19:ls(n);return;case 3:ye&&e!==null&&e.memoizedState.isDehydrated&&Er(n.stateNode.containerInfo);break;case 22:case 23:return}e:if(oe){switch(n.tag){case 1:case 5:case 6:break e;case 3:case 4:n=n.stateNode,Ue(n.containerInfo,n.pendingChildren);break e}throw Error(i(163))}}function ls(e){var n=e.updateQueue;if(n!==null){e.updateQueue=null;var a=e.stateNode;a===null&&(a=e.stateNode=new wh),n.forEach(function(p){var v=Lh.bind(null,e,p);a.has(p)||(a.add(p),p.then(v,v))})}}function Th(e,n){for(fe=n;fe!==null;){n=fe;var a=n.deletions;if(a!==null)for(var p=0;p<a.length;p++){var v=a[p];try{var g=e;ee?Qu(g,v,n):Ju(g,v,n);var M=v.alternate;M!==null&&(M.return=null),v.return=null}catch(Me){Zt(v,n,Me)}}if(a=n.child,n.subtreeFlags&12854&&a!==null)a.return=n,fe=a;else for(;fe!==null;){n=fe;try{var U=n.flags;if(U&32&&ee&&tt(n.stateNode),U&512){var Z=n.alternate;if(Z!==null){var le=Z.ref;le!==null&&(typeof le=="function"?le(null):le.current=null)}}if(U&8192)switch(n.tag){case 13:if(n.memoizedState!==null){var ge=n.alternate;(ge===null||ge.memoizedState===null)&&(Ga=ct())}break;case 22:var ke=n.memoizedState!==null,De=n.alternate,rt=De!==null&&De.memoizedState!==null;if(a=n,ee){e:if(p=a,v=ke,g=null,ee)for(var Fe=p;;){if(Fe.tag===5){if(g===null){g=Fe;var Ot=Fe.stateNode;v?Ut(Ot):Ie(Fe.stateNode,Fe.memoizedProps)}}else if(Fe.tag===6){if(g===null){var Sn=Fe.stateNode;v?et(Sn):Ye(Sn,Fe.memoizedProps)}}else if((Fe.tag!==22&&Fe.tag!==23||Fe.memoizedState===null||Fe===p)&&Fe.child!==null){Fe.child.return=Fe,Fe=Fe.child;continue}if(Fe===p)break;for(;Fe.sibling===null;){if(Fe.return===null||Fe.return===p)break e;g===Fe&&(g=null),Fe=Fe.return}g===Fe&&(g=null),Fe.sibling.return=Fe.return,Fe=Fe.sibling}}if(ke&&!rt&&a.mode&1){fe=a;for(var z=a.child;z!==null;){for(a=fe=z;fe!==null;){p=fe;var O=p.child;switch(p.tag){case 0:case 11:case 14:case 15:Ur(4,p,p.return);break;case 1:as(p,p.return);var V=p.stateNode;if(typeof V.componentWillUnmount=="function"){var he=p.return;try{V.props=p.memoizedProps,V.state=p.memoizedState,V.componentWillUnmount()}catch(Me){Zt(p,he,Me)}}break;case 5:as(p,p.return);break;case 22:if(p.memoizedState!==null){Vu(a);continue}}O!==null?(O.return=p,fe=O):Vu(a)}z=z.sibling}}}switch(U&4102){case 2:Wu(n),n.flags&=-3;break;case 6:Wu(n),n.flags&=-3,wa(n.alternate,n);break;case 4096:n.flags&=-4097;break;case 4100:n.flags&=-4097,wa(n.alternate,n);break;case 4:wa(n.alternate,n)}}catch(Me){Zt(n,n.return,Me)}if(a=n.sibling,a!==null){a.return=n.return,fe=a;break}fe=n.return}}}function _h(e,n,a){fe=e,Xu(e)}function Xu(e,n,a){for(var p=(e.mode&1)!==0;fe!==null;){var v=fe,g=v.child;if(v.tag===22&&p){var M=v.memoizedState!==null||ss;if(!M){var U=v.alternate,Z=U!==null&&U.memoizedState!==null||Gr;U=ss;var le=Gr;if(ss=M,(Gr=Z)&&!le)for(fe=v;fe!==null;)M=fe,Z=M.child,M.tag===22&&M.memoizedState!==null?Zu(v):Z!==null?(Z.return=M,fe=Z):Zu(v);for(;g!==null;)fe=g,Xu(g),g=g.sibling;fe=v,ss=U,Gr=le}Yu(e)}else v.subtreeFlags&8772&&g!==null?(g.return=v,fe=g):Yu(e)}}function Yu(e){for(;fe!==null;){var n=fe;if(n.flags&8772){var a=n.alternate;try{if(n.flags&8772)switch(n.tag){case 0:case 11:case 15:Gr||ni(5,n);break;case 1:var p=n.stateNode;if(n.flags&4&&!Gr)if(a===null)p.componentDidMount();else{var v=n.elementType===n.type?a.memoizedProps:Jt(n.type,a.memoizedProps);p.componentDidUpdate(v,a.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var g=n.updateQueue;g!==null&&jl(n,g,p);break;case 3:var M=n.updateQueue;if(M!==null){if(a=null,n.child!==null)switch(n.child.tag){case 5:a=te(n.child.stateNode);break;case 1:a=n.child.stateNode}jl(n,M,a)}break;case 5:var U=n.stateNode;a===null&&n.flags&4&&$e(U,n.type,n.memoizedProps,n);break;case 6:break;case 4:break;case 12:break;case 13:if(ye&&n.memoizedState===null){var Z=n.alternate;if(Z!==null){var le=Z.memoizedState;if(le!==null){var ge=le.dehydrated;ge!==null&&Go(ge)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(i(163))}Gr||n.flags&512&&Sa(n)}catch(ke){Zt(n,n.return,ke)}}if(n===e){fe=null;break}if(a=n.sibling,a!==null){a.return=n.return,fe=a;break}fe=n.return}}function Vu(e){for(;fe!==null;){var n=fe;if(n===e){fe=null;break}var a=n.sibling;if(a!==null){a.return=n.return,fe=a;break}fe=n.return}}function Zu(e){for(;fe!==null;){var n=fe;try{switch(n.tag){case 0:case 11:case 15:var a=n.return;try{ni(4,n)}catch(Z){Zt(n,a,Z)}break;case 1:var p=n.stateNode;if(typeof p.componentDidMount=="function"){var v=n.return;try{p.componentDidMount()}catch(Z){Zt(n,v,Z)}}var g=n.return;try{Sa(n)}catch(Z){Zt(n,g,Z)}break;case 5:var M=n.return;try{Sa(n)}catch(Z){Zt(n,M,Z)}}}catch(Z){Zt(n,n.return,Z)}if(n===e){fe=null;break}var U=n.sibling;if(U!==null){U.return=n.return,fe=U;break}fe=n.return}}var us=0,cs=1,fs=2,ds=3,hs=4;if(typeof Symbol=="function"&&Symbol.for){var ri=Symbol.for;us=ri("selector.component"),cs=ri("selector.has_pseudo_class"),fs=ri("selector.role"),ds=ri("selector.test_id"),hs=ri("selector.text")}function Fa(e){var n=Te(e);if(n!=null){if(typeof n.memoizedProps["data-testname"]!="string")throw Error(i(364));return n}if(e=ie(e),e===null)throw Error(i(362));return e.stateNode.current}function Ta(e,n){switch(n.$$typeof){case us:if(e.type===n.value)return!0;break;case cs:e:{n=n.value,e=[e,0];for(var a=0;a<e.length;){var p=e[a++],v=e[a++],g=n[v];if(p.tag!==5||!Ce(p)){for(;g!=null&&Ta(p,g);)v++,g=n[v];if(v===n.length){n=!0;break e}else for(p=p.child;p!==null;)e.push(p,v),p=p.sibling}}n=!1}return n;case fs:if(e.tag===5&&de(e.stateNode,n.value))return!0;break;case hs:if((e.tag===5||e.tag===6)&&(e=ve(e),e!==null&&0<=e.indexOf(n.value)))return!0;break;case ds:if(e.tag===5&&(e=e.memoizedProps["data-testname"],typeof e=="string"&&e.toLowerCase()===n.value.toLowerCase()))return!0;break;default:throw Error(i(365))}return!1}function _a(e){switch(e.$$typeof){case us:return"<"+(G(e.value)||"Unknown")+">";case cs:return":has("+(_a(e)||"")+")";case fs:return'[role="'+e.value+'"]';case hs:return'"'+e.value+'"';case ds:return'[data-testname="'+e.value+'"]';default:throw Error(i(365))}}function qu(e,n){var a=[];e=[e,0];for(var p=0;p<e.length;){var v=e[p++],g=e[p++],M=n[g];if(v.tag!==5||!Ce(v)){for(;M!=null&&Ta(v,M);)g++,M=n[g];if(g===n.length)a.push(v);else for(v=v.child;v!==null;)e.push(v,g),v=v.sibling}}return a}function Ra(e,n){if(!me)throw Error(i(363));e=Fa(e),e=qu(e,n),n=[],e=Array.from(e);for(var a=0;a<e.length;){var p=e[a++];if(p.tag===5)Ce(p)||n.push(p.stateNode);else for(p=p.child;p!==null;)e.push(p),p=p.sibling}return n}var Rh=Math.ceil,ps=c.ReactCurrentDispatcher,Da=c.ReactCurrentOwner,vt=c.ReactCurrentBatchConfig,Je=0,At=null,gt=null,It=0,hn=0,fo=nn(0),Bt=0,oi=null,ho=0,ms=0,Ia=0,ii=null,Yt=null,Ga=0,Ua=1/0;function po(){Ua=ct()+500}var vs=!1,Pa=null,hr=null,As=!1,pr=null,gs=0,si=0,ka=null,ys=-1,Bs=0;function Kt(){return Je&6?ct():ys!==-1?ys:ys=ct()}function mr(e){return e.mode&1?Je&2&&It!==0?It&-It:Fr.transition!==null?(Bs===0&&(e=Xn,Xn<<=1,!(Xn&4194240)&&(Xn=64),Bs=e),Bs):(e=je,e!==0?e:Se()):1}function Cn(e,n,a){if(50<si)throw si=0,ka=null,Error(i(185));var p=Cs(e,n);return p===null?null:(bn(p,n,a),(!(Je&2)||p!==At)&&(p===At&&(!(Je&2)&&(ms|=n),Bt===4&&vr(p,It)),Vt(p,a),n===1&&Je===0&&!(e.mode&1)&&(po(),Nn&&Xt())),p)}function Cs(e,n){e.lanes|=n;var a=e.alternate;for(a!==null&&(a.lanes|=n),a=e,e=e.return;e!==null;)e.childLanes|=n,a=e.alternate,a!==null&&(a.childLanes|=n),a=e,e=e.return;return a.tag===3?a.stateNode:null}function Vt(e,n){var a=e.callbackNode;Lo(e,n);var p=xr(e,e===At?It:0);if(p===0)a!==null&&to(a),e.callbackNode=null,e.callbackPriority=0;else if(n=p&-p,e.callbackPriority!==n){if(a!=null&&to(a),n===1)e.tag===0?jo(ec.bind(null,e)):Jo(ec.bind(null,e)),ae?Be(function(){Je===0&&Xt()}):qn(Mr,Xt),a=null;else{switch(Oo(p)){case 1:a=Mr;break;case 4:a=Oi;break;case 16:a=Ht;break;case 536870912:a=Ho;break;default:a=Ht}a=uc(a,$u.bind(null,e))}e.callbackPriority=n,e.callbackNode=a}}function $u(e,n){if(ys=-1,Bs=0,Je&6)throw Error(i(327));var a=e.callbackNode;if(Lr()&&e.callbackNode!==a)return null;var p=xr(e,e===At?It:0);if(p===0)return null;if(p&30||p&e.expiredLanes||n)n=Es(e,p);else{n=p;var v=Je;Je|=2;var g=rc();(At!==e||It!==n)&&(po(),Pr(e,n));do try{Gh();break}catch(U){nc(e,U)}while(!0);ro(),ps.current=g,Je=v,gt!==null?n=0:(At=null,It=0,n=Bt)}if(n!==0){if(n===2&&(v=Zn(e),v!==0&&(p=v,n=La(e,v))),n===1)throw a=oi,Pr(e,0),vr(e,p),Vt(e,ct()),a;if(n===6)vr(e,p);else{if(v=e.current.alternate,!(p&30)&&!Dh(v)&&(n=Es(e,p),n===2&&(g=Zn(e),g!==0&&(p=g,n=La(e,g))),n===1))throw a=oi,Pr(e,0),vr(e,p),Vt(e,ct()),a;switch(e.finishedWork=v,e.finishedLanes=p,n){case 0:case 1:throw Error(i(345));case 2:kr(e,Yt);break;case 3:if(vr(e,p),(p&130023424)===p&&(n=Ga+500-ct(),10<n)){if(xr(e,0)!==0)break;if(v=e.suspendedLanes,(v&p)!==p){Kt(),e.pingedLanes|=e.suspendedLanes&v;break}e.timeoutHandle=q(kr.bind(null,e,Yt),n);break}kr(e,Yt);break;case 4:if(vr(e,p),(p&4194240)===p)break;for(n=e.eventTimes,v=-1;0<p;){var M=31-sn(p);g=1<<M,M=n[M],M>v&&(v=M),p&=~g}if(p=v,p=ct()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*Rh(p/1960))-p,10<p){e.timeoutHandle=q(kr.bind(null,e,Yt),p);break}kr(e,Yt);break;case 5:kr(e,Yt);break;default:throw Error(i(329))}}}return Vt(e,ct()),e.callbackNode===a?$u.bind(null,e):null}function La(e,n){var a=ii;return e.current.memoizedState.isDehydrated&&(Pr(e,n).flags|=256),e=Es(e,n),e!==2&&(n=Yt,Yt=a,n!==null&&Oa(n)),e}function Oa(e){Yt===null?Yt=e:Yt.push.apply(Yt,e)}function Dh(e){for(var n=e;;){if(n.flags&16384){var a=n.updateQueue;if(a!==null&&(a=a.stores,a!==null))for(var p=0;p<a.length;p++){var v=a[p],g=v.getSnapshot;v=v.value;try{if(!ln(g(),v))return!1}catch{return!1}}}if(a=n.child,n.subtreeFlags&16384&&a!==null)a.return=n,n=a;else{if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return!0;n=n.return}n.sibling.return=n.return,n=n.sibling}}return!0}function vr(e,n){for(n&=~Ia,n&=~ms,e.suspendedLanes|=n,e.pingedLanes&=~n,e=e.expirationTimes;0<n;){var a=31-sn(n),p=1<<a;e[a]=-1,n&=~p}}function ec(e){if(Je&6)throw Error(i(327));Lr();var n=xr(e,0);if(!(n&1))return Vt(e,ct()),null;var a=Es(e,n);if(e.tag!==0&&a===2){var p=Zn(e);p!==0&&(n=p,a=La(e,p))}if(a===1)throw a=oi,Pr(e,0),vr(e,n),Vt(e,ct()),a;if(a===6)throw Error(i(345));return e.finishedWork=e.current.alternate,e.finishedLanes=n,kr(e,Yt),Vt(e,ct()),null}function tc(e){pr!==null&&pr.tag===0&&!(Je&6)&&Lr();var n=Je;Je|=1;var a=vt.transition,p=je;try{if(vt.transition=null,je=1,e)return e()}finally{je=p,vt.transition=a,Je=n,!(Je&6)&&Xt()}}function ba(){hn=fo.current,Ze(fo)}function Pr(e,n){e.finishedWork=null,e.finishedLanes=0;var a=e.timeoutHandle;if(a!==ce&&(e.timeoutHandle=ce,re(a)),gt!==null)for(a=gt.return;a!==null;){var p=a;switch(na(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Rn();break;case 3:uo(),Ze(xt),Ze(yt),ua();break;case 5:aa(p);break;case 4:uo();break;case 13:Ze(ft);break;case 19:Ze(ft);break;case 10:Ft(p.type._context);break;case 22:case 23:ba()}a=a.return}if(At=e,gt=e=Ar(e.current,null),It=hn=n,Bt=0,oi=null,Ia=ms=ho=0,Yt=ii=null,un!==null){for(n=0;n<un.length;n++)if(a=un[n],p=a.interleaved,p!==null){a.interleaved=null;var v=p.next,g=a.pending;if(g!==null){var M=g.next;g.next=v,p.next=M}a.pending=p}un=null}return e}function nc(e,n){do{var a=gt;try{if(ro(),Xi.current=es,Yi){for(var p=dt.memoizedState;p!==null;){var v=p.queue;v!==null&&(v.pending=null),p=p.next}Yi=!1}if(co=0,Tt=Pt=dt=null,Yo=!1,Vo=0,Da.current=null,a===null||a.return===null){Bt=1,oi=n,gt=null;break}e:{var g=e,M=a.return,U=a,Z=n;if(n=It,U.flags|=32768,Z!==null&&typeof Z=="object"&&typeof Z.then=="function"){var le=Z,ge=U,ke=ge.tag;if(!(ge.mode&1)&&(ke===0||ke===11||ke===15)){var De=ge.alternate;De?(ge.updateQueue=De.updateQueue,ge.memoizedState=De.memoizedState,ge.lanes=De.lanes):(ge.updateQueue=null,ge.memoizedState=null)}var rt=Su(M);if(rt!==null){rt.flags&=-257,xu(rt,M,U,g,n),rt.mode&1&&Eu(g,le,n),n=rt,Z=le;var Fe=n.updateQueue;if(Fe===null){var Ot=new Set;Ot.add(Z),n.updateQueue=Ot}else Fe.add(Z);break e}else{if(!(n&1)){Eu(g,le,n),Ha();break e}Z=Error(i(426))}}else if(lt&&U.mode&1){var Sn=Su(M);if(Sn!==null){!(Sn.flags&65536)&&(Sn.flags|=256),xu(Sn,M,U,g,n),ia(Z);break e}}g=Z,Bt!==4&&(Bt=2),ii===null?ii=[g]:ii.push(g),Z=va(Z,U),U=M;do{switch(U.tag){case 3:U.flags|=65536,n&=-n,U.lanes|=n;var z=Bu(U,Z,n);Jl(U,z);break e;case 1:g=Z;var O=U.type,V=U.stateNode;if(!(U.flags&128)&&(typeof O.getDerivedStateFromError=="function"||V!==null&&typeof V.componentDidCatch=="function"&&(hr===null||!hr.has(V)))){U.flags|=65536,n&=-n,U.lanes|=n;var he=Cu(U,g,n);Jl(U,he);break e}}U=U.return}while(U!==null)}ic(a)}catch(Me){n=Me,gt===a&&a!==null&&(gt=a=a.return);continue}break}while(!0)}function rc(){var e=ps.current;return ps.current=es,e===null?es:e}function Ha(){(Bt===0||Bt===3||Bt===2)&&(Bt=4),At===null||!(ho&268435455)&&!(ms&268435455)||vr(At,It)}function Es(e,n){var a=Je;Je|=2;var p=rc();At===e&&It===n||Pr(e,n);do try{Ih();break}catch(v){nc(e,v)}while(!0);if(ro(),Je=a,ps.current=p,gt!==null)throw Error(i(261));return At=null,It=0,Bt}function Ih(){for(;gt!==null;)oc(gt)}function Gh(){for(;gt!==null&&!bo();)oc(gt)}function oc(e){var n=lc(e.alternate,e,hn);e.memoizedProps=e.pendingProps,n===null?ic(e):gt=n,Da.current=null}function ic(e){var n=e;do{var a=n.alternate;if(e=n.return,n.flags&32768){if(a=Mh(a,n),a!==null){a.flags&=32767,gt=a;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{Bt=6,gt=null;return}}else if(a=Eh(a,n,hn),a!==null){gt=a;return}if(n=n.sibling,n!==null){gt=n;return}gt=n=e}while(n!==null);Bt===0&&(Bt=5)}function kr(e,n){var a=je,p=vt.transition;try{vt.transition=null,je=1,Uh(e,n,a)}finally{vt.transition=p,je=a}return null}function Uh(e,n,a){do Lr();while(pr!==null);if(Je&6)throw Error(i(327));var p=e.finishedWork,v=e.finishedLanes;if(p===null)return null;if(e.finishedWork=null,e.finishedLanes=0,p===e.current)throw Error(i(177));e.callbackNode=null,e.callbackPriority=0;var g=p.lanes|p.childLanes;if(ur(e,g),e===At&&(gt=At=null,It=0),!(p.subtreeFlags&2064)&&!(p.flags&2064)||As||(As=!0,uc(Ht,function(){return Lr(),null})),g=(p.flags&15990)!==0,p.subtreeFlags&15990||g){g=vt.transition,vt.transition=null;var M=je;je=1;var U=Je;Je|=4,Da.current=null,Fh(e,p),Th(e,p),k(e.containerInfo),e.current=p,_h(p),Li(),Je=U,je=M,vt.transition=g}else e.current=p;if(As&&(As=!1,pr=e,gs=v),g=e.pendingLanes,g===0&&(hr=null),No(p.stateNode),Vt(e,ct()),n!==null)for(a=e.onRecoverableError,p=0;p<n.length;p++)a(n[p]);if(vs)throw vs=!1,e=Pa,Pa=null,e;return gs&1&&e.tag!==0&&Lr(),g=e.pendingLanes,g&1?e===ka?si++:(si=0,ka=e):si=0,Xt(),null}function Lr(){if(pr!==null){var e=Oo(gs),n=vt.transition,a=je;try{if(vt.transition=null,je=16>e?16:e,pr===null)var p=!1;else{if(e=pr,pr=null,gs=0,Je&6)throw Error(i(331));var v=Je;for(Je|=4,fe=e.current;fe!==null;){var g=fe,M=g.child;if(fe.flags&16){var U=g.deletions;if(U!==null){for(var Z=0;Z<U.length;Z++){var le=U[Z];for(fe=le;fe!==null;){var ge=fe;switch(ge.tag){case 0:case 11:case 15:Ur(8,ge,g)}var ke=ge.child;if(ke!==null)ke.return=ge,fe=ke;else for(;fe!==null;){ge=fe;var De=ge.sibling,rt=ge.return;if(ju(ge),ge===le){fe=null;break}if(De!==null){De.return=rt,fe=De;break}fe=rt}}}var Fe=g.alternate;if(Fe!==null){var Ot=Fe.child;if(Ot!==null){Fe.child=null;do{var Sn=Ot.sibling;Ot.sibling=null,Ot=Sn}while(Ot!==null)}}fe=g}}if(g.subtreeFlags&2064&&M!==null)M.return=g,fe=M;else e:for(;fe!==null;){if(g=fe,g.flags&2048)switch(g.tag){case 0:case 11:case 15:Ur(9,g,g.return)}var z=g.sibling;if(z!==null){z.return=g.return,fe=z;break e}fe=g.return}}var O=e.current;for(fe=O;fe!==null;){M=fe;var V=M.child;if(M.subtreeFlags&2064&&V!==null)V.return=M,fe=V;else e:for(M=O;fe!==null;){if(U=fe,U.flags&2048)try{switch(U.tag){case 0:case 11:case 15:ni(9,U)}}catch(Me){Zt(U,U.return,Me)}if(U===M){fe=null;break e}var he=U.sibling;if(he!==null){he.return=U.return,fe=he;break e}fe=U.return}}if(Je=v,Xt(),an&&typeof an.onPostCommitFiberRoot=="function")try{an.onPostCommitFiberRoot(wr,e)}catch{}p=!0}return p}finally{je=a,vt.transition=n}}return!1}function sc(e,n,a){n=va(a,n),n=Bu(e,n,1),dr(e,n),n=Kt(),e=Cs(e,1),e!==null&&(bn(e,1,n),Vt(e,n))}function Zt(e,n,a){if(e.tag===3)sc(e,e,a);else for(;n!==null;){if(n.tag===3){sc(n,e,a);break}else if(n.tag===1){var p=n.stateNode;if(typeof n.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(hr===null||!hr.has(p))){e=va(a,e),e=Cu(n,e,1),dr(n,e),e=Kt(),n=Cs(n,1),n!==null&&(bn(n,1,e),Vt(n,e));break}}n=n.return}}function Ph(e,n,a){var p=e.pingCache;p!==null&&p.delete(n),n=Kt(),e.pingedLanes|=e.suspendedLanes&a,At===e&&(It&a)===a&&(Bt===4||Bt===3&&(It&130023424)===It&&500>ct()-Ga?Pr(e,0):Ia|=a),Vt(e,n)}function ac(e,n){n===0&&(e.mode&1?(n=Yn,Yn<<=1,!(Yn&130023424)&&(Yn=4194304)):n=1);var a=Kt();e=Cs(e,n),e!==null&&(bn(e,n,a),Vt(e,a))}function kh(e){var n=e.memoizedState,a=0;n!==null&&(a=n.retryLane),ac(e,a)}function Lh(e,n){var a=0;switch(e.tag){case 13:var p=e.stateNode,v=e.memoizedState;v!==null&&(a=v.retryLane);break;case 19:p=e.stateNode;break;default:throw Error(i(314))}p!==null&&p.delete(n),ac(e,a)}var lc;lc=function(e,n,a){if(e!==null)if(e.memoizedProps!==n.pendingProps||xt.current)dn=!0;else{if(!(e.lanes&a)&&!(n.flags&128))return dn=!1,xh(e,n,a);dn=!!(e.flags&131072)}else dn=!1,lt&&n.flags&1048576&&Xl(n,Ki,n.index);switch(n.lanes=0,n.tag){case 2:var p=n.type;e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps;var v=mn(n,yt.current);pt(n,a),v=fa(null,n,p,e,v,a);var g=da();return n.flags|=1,typeof v=="object"&&v!==null&&typeof v.render=="function"&&v.$$typeof===void 0?(n.tag=1,n.memoizedState=null,n.updateQueue=null,Mt(p)?(g=!0,lr(n)):g=!1,n.memoizedState=v.state!==null&&v.state!==void 0?v.state:null,qs(n),v.updater=ji,n.stateNode=v,v._reactInternals=n,ea(n,p,e,a),n=ya(null,n,p,!0,g,a)):(n.tag=0,lt&&g&&ta(n),zt(null,n,v,a),n=n.child),n;case 16:p=n.elementType;e:{switch(e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),e=n.pendingProps,v=p._init,p=v(p._payload),n.type=p,v=n.tag=bh(p),e=Jt(p,e),v){case 0:n=ga(null,n,p,e,a);break e;case 1:n=Iu(null,n,p,e,a);break e;case 11:n=Fu(null,n,p,e,a);break e;case 14:n=Tu(null,n,p,Jt(p.type,e),a);break e}throw Error(i(306,p,""))}return n;case 0:return p=n.type,v=n.pendingProps,v=n.elementType===p?v:Jt(p,v),ga(e,n,p,v,a);case 1:return p=n.type,v=n.pendingProps,v=n.elementType===p?v:Jt(p,v),Iu(e,n,p,v,a);case 3:e:{if(Gu(n),e===null)throw Error(i(387));p=n.pendingProps,g=n.memoizedState,v=g.element,Nl(e,n),Ji(n,p,null,a);var M=n.memoizedState;if(p=M.element,ye&&g.isDehydrated)if(g={element:p,isDehydrated:!1,cache:M.cache,transitions:M.transitions},n.updateQueue.baseState=g,n.memoizedState=g,n.flags&256){v=Error(i(423)),n=Uu(e,n,p,a,v);break e}else if(p!==v){v=Error(i(424)),n=Uu(e,n,p,a,v);break e}else for(ye&&(fn=Dt(n.stateNode.containerInfo),cn=n,lt=!0,In=null,zo=!1),a=eu(n,null,p,a),n.child=a;a;)a.flags=a.flags&-3|4096,a=a.sibling;else{if(so(),p===v){n=rr(e,n,a);break e}zt(e,n,p,a)}n=n.child}return n;case 5:return tu(n),e===null&&oa(n),p=n.type,v=n.pendingProps,g=e!==null?e.memoizedProps:null,M=v.children,j(p,v)?M=null:g!==null&&j(p,g)&&(n.flags|=32),Du(e,n),zt(e,n,M,a),n.child;case 6:return e===null&&oa(n),null;case 13:return Pu(e,n,a);case 4:return sa(n,n.stateNode.containerInfo),p=n.pendingProps,e===null?n.child=ao(n,null,p,a):zt(e,n,p,a),n.child;case 11:return p=n.type,v=n.pendingProps,v=n.elementType===p?v:Jt(p,v),Fu(e,n,p,v,a);case 7:return zt(e,n,n.pendingProps,a),n.child;case 8:return zt(e,n,n.pendingProps.children,a),n.child;case 12:return zt(e,n,n.pendingProps.children,a),n.child;case 10:e:{if(p=n.type._context,v=n.pendingProps,g=n.memoizedProps,M=v.value,Hi(n,p,M),g!==null)if(ln(g.value,M)){if(g.children===v.children&&!xt.current){n=rr(e,n,a);break e}}else for(g=n.child,g!==null&&(g.return=n);g!==null;){var U=g.dependencies;if(U!==null){M=g.child;for(var Z=U.firstContext;Z!==null;){if(Z.context===p){if(g.tag===1){Z=$n(-1,a&-a),Z.tag=2;var le=g.updateQueue;if(le!==null){le=le.shared;var ge=le.pending;ge===null?Z.next=Z:(Z.next=ge.next,ge.next=Z),le.pending=Z}}g.lanes|=a,Z=g.alternate,Z!==null&&(Z.lanes|=a),jt(g.return,a,n),U.lanes|=a;break}Z=Z.next}}else if(g.tag===10)M=g.type===n.type?null:g.child;else if(g.tag===18){if(M=g.return,M===null)throw Error(i(341));M.lanes|=a,U=M.alternate,U!==null&&(U.lanes|=a),jt(M,a,n),M=g.sibling}else M=g.child;if(M!==null)M.return=g;else for(M=g;M!==null;){if(M===n){M=null;break}if(g=M.sibling,g!==null){g.return=M.return,M=g;break}M=M.return}g=M}zt(e,n,v.children,a),n=n.child}return n;case 9:return v=n.type,p=n.pendingProps.children,pt(n,a),v=mt(v),p=p(v),n.flags|=1,zt(e,n,p,a),n.child;case 14:return p=n.type,v=Jt(p,n.pendingProps),v=Jt(p.type,v),Tu(e,n,p,v,a);case 15:return _u(e,n,n.type,n.pendingProps,a);case 17:return p=n.type,v=n.pendingProps,v=n.elementType===p?v:Jt(p,v),e!==null&&(e.alternate=null,n.alternate=null,n.flags|=2),n.tag=1,Mt(p)?(e=!0,lr(n)):e=!1,pt(n,a),Wl(n,p,v),ea(n,p,v,a),ya(null,n,p,!0,e,a);case 19:return bu(e,n,a);case 22:return Ru(e,n,a)}throw Error(i(156,n.tag))};function uc(e,n){return qn(e,n)}function Oh(e,n,a,p){this.tag=e,this.key=a,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=n,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(e,n,a,p){return new Oh(e,n,a,p)}function Na(e){return e=e.prototype,!(!e||!e.isReactComponent)}function bh(e){if(typeof e=="function")return Na(e)?1:0;if(e!=null){if(e=e.$$typeof,e===C)return 11;if(e===x)return 14}return 2}function Ar(e,n){var a=e.alternate;return a===null?(a=En(e.tag,n,e.key,e.mode),a.elementType=e.elementType,a.type=e.type,a.stateNode=e.stateNode,a.alternate=e,e.alternate=a):(a.pendingProps=n,a.type=e.type,a.flags=0,a.subtreeFlags=0,a.deletions=null),a.flags=e.flags&14680064,a.childLanes=e.childLanes,a.lanes=e.lanes,a.child=e.child,a.memoizedProps=e.memoizedProps,a.memoizedState=e.memoizedState,a.updateQueue=e.updateQueue,n=e.dependencies,a.dependencies=n===null?null:{lanes:n.lanes,firstContext:n.firstContext},a.sibling=e.sibling,a.index=e.index,a.ref=e.ref,a}function Ss(e,n,a,p,v,g){var M=2;if(p=e,typeof e=="function")Na(e)&&(M=1);else if(typeof e=="string")M=5;else e:switch(e){case h:return Or(a.children,v,g,n);case m:M=8,v|=8;break;case A:return e=En(12,a,n,v|2),e.elementType=A,e.lanes=g,e;case E:return e=En(13,a,n,v),e.elementType=E,e.lanes=g,e;case S:return e=En(19,a,n,v),e.elementType=S,e.lanes=g,e;case T:return xs(a,v,g,n);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case y:M=10;break e;case B:M=9;break e;case C:M=11;break e;case x:M=14;break e;case w:M=16,p=null;break e}throw Error(i(130,e==null?e:typeof e,""))}return n=En(M,a,n,v),n.elementType=e,n.type=p,n.lanes=g,n}function Or(e,n,a,p){return e=En(7,e,p,n),e.lanes=a,e}function xs(e,n,a,p){return e=En(22,e,p,n),e.elementType=T,e.lanes=a,e.stateNode={},e}function Ja(e,n,a){return e=En(6,e,null,n),e.lanes=a,e}function ja(e,n,a){return n=En(4,e.children!==null?e.children:[],e.key,n),n.lanes=a,n.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},n}function Hh(e,n,a,p,v){this.tag=n,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=ce,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=p,this.onRecoverableError=v,ye&&(this.mutableSourceEagerHydrationData=null)}function cc(e,n,a,p,v,g,M,U,Z){return e=new Hh(e,n,a,U,Z),n===1?(n=1,g===!0&&(n|=8)):n=0,g=En(3,null,null,n),e.current=g,g.stateNode=e,g.memoizedState={element:p,isDehydrated:a,cache:null,transitions:null},qs(g),e}function fc(e){if(!e)return rn;e=e._reactInternals;e:{if(H(e)!==e||e.tag!==1)throw Error(i(170));var n=e;do{switch(n.tag){case 3:n=n.stateNode.context;break e;case 1:if(Mt(n.type)){n=n.stateNode.__reactInternalMemoizedMergedChildContext;break e}}n=n.return}while(n!==null);throw Error(i(171))}if(e.tag===1){var a=e.type;if(Mt(a))return qr(e,a,n)}return n}function dc(e){var n=e._reactInternals;if(n===void 0)throw typeof e.render=="function"?Error(i(188)):(e=Object.keys(e).join(","),Error(i(268,e)));return e=I(n),e===null?null:e.stateNode}function hc(e,n){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var a=e.retryLane;e.retryLane=a!==0&&a<n?a:n}}function za(e,n){hc(e,n),(e=e.alternate)&&hc(e,n)}function Nh(e){return e=I(e),e===null?null:e.stateNode}function Jh(){return null}return s.attemptContinuousHydration=function(e){if(e.tag===13){var n=Kt();Cn(e,134217728,n),za(e,134217728)}},s.attemptHydrationAtCurrentPriority=function(e){if(e.tag===13){var n=Kt(),a=mr(e);Cn(e,a,n),za(e,a)}},s.attemptSynchronousHydration=function(e){switch(e.tag){case 3:var n=e.stateNode;if(n.current.memoizedState.isDehydrated){var a=Vn(n.pendingLanes);a!==0&&(Hn(n,a|1),Vt(n,ct()),!(Je&6)&&(po(),Xt()))}break;case 13:var p=Kt();tc(function(){return Cn(e,1,p)}),za(e,1)}},s.batchedUpdates=function(e,n){var a=Je;Je|=1;try{return e(n)}finally{Je=a,Je===0&&(po(),Nn&&Xt())}},s.createComponentSelector=function(e){return{$$typeof:us,value:e}},s.createContainer=function(e,n,a,p,v,g,M){return cc(e,n,!1,null,a,p,v,g,M)},s.createHasPseudoClassSelector=function(e){return{$$typeof:cs,value:e}},s.createHydrationContainer=function(e,n,a,p,v,g,M,U,Z){return e=cc(a,p,!0,e,v,g,M,U,Z),e.context=fc(null),a=e.current,p=Kt(),v=mr(a),g=$n(p,v),g.callback=n??null,dr(a,g),e.current.lanes=v,bn(e,v,p),Vt(e,p),e},s.createPortal=function(e,n,a){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:f,key:p==null?null:""+p,children:e,containerInfo:n,implementation:a}},s.createRoleSelector=function(e){return{$$typeof:fs,value:e}},s.createTestNameSelector=function(e){return{$$typeof:ds,value:e}},s.createTextSelector=function(e){return{$$typeof:hs,value:e}},s.deferredUpdates=function(e){var n=je,a=vt.transition;try{return vt.transition=null,je=16,e()}finally{je=n,vt.transition=a}},s.discreteUpdates=function(e,n,a,p,v){var g=je,M=vt.transition;try{return vt.transition=null,je=1,e(n,a,p,v)}finally{je=g,vt.transition=M,Je===0&&po()}},s.findAllNodes=Ra,s.findBoundingRects=function(e,n){if(!me)throw Error(i(363));n=Ra(e,n),e=[];for(var a=0;a<n.length;a++)e.push(Ge(n[a]));for(n=e.length-1;0<n;n--){a=e[n];for(var p=a.x,v=p+a.width,g=a.y,M=g+a.height,U=n-1;0<=U;U--)if(n!==U){var Z=e[U],le=Z.x,ge=le+Z.width,ke=Z.y,De=ke+Z.height;if(p>=le&&g>=ke&&v<=ge&&M<=De){e.splice(n,1);break}else if(p!==le||a.width!==Z.width||De<g||ke>M){if(!(g!==ke||a.height!==Z.height||ge<p||le>v)){le>p&&(Z.width+=le-p,Z.x=p),ge<v&&(Z.width=v-le),e.splice(n,1);break}}else{ke>g&&(Z.height+=ke-g,Z.y=g),De<M&&(Z.height=M-ke),e.splice(n,1);break}}}return e},s.findHostInstance=dc,s.findHostInstanceWithNoPortals=function(e){return e=W(e),e=e!==null?Q(e):null,e===null?null:e.stateNode},s.findHostInstanceWithWarning=function(e){return dc(e)},s.flushControlled=function(e){var n=Je;Je|=1;var a=vt.transition,p=je;try{vt.transition=null,je=1,e()}finally{je=p,vt.transition=a,Je=n,Je===0&&(po(),Xt())}},s.flushPassiveEffects=Lr,s.flushSync=tc,s.focusWithin=function(e,n){if(!me)throw Error(i(363));for(e=Fa(e),n=qu(e,n),n=Array.from(n),e=0;e<n.length;){var a=n[e++];if(!Ce(a)){if(a.tag===5&&We(a.stateNode))return!0;for(a=a.child;a!==null;)n.push(a),a=a.sibling}}return!1},s.getCurrentUpdatePriority=function(){return je},s.getFindAllNodesFailureDescription=function(e,n){if(!me)throw Error(i(363));var a=0,p=[];e=[Fa(e),0];for(var v=0;v<e.length;){var g=e[v++],M=e[v++],U=n[M];if((g.tag!==5||!Ce(g))&&(Ta(g,U)&&(p.push(_a(U)),M++,M>a&&(a=M)),M<n.length))for(g=g.child;g!==null;)e.push(g,M),g=g.sibling}if(a<n.length){for(e=[];a<n.length;a++)e.push(_a(n[a]));return`findAllNodes was able to match part of the selector:
  `+(p.join(" > ")+`

No matching component was found for:
  `)+e.join(" > ")}return null},s.getPublicRootInstance=function(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return te(e.child.stateNode);default:return e.child.stateNode}},s.injectIntoDevTools=function(e){if(e={bundleType:e.bundleType,version:e.version,rendererPackageName:e.rendererPackageName,rendererConfig:e.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:c.ReactCurrentDispatcher,findHostInstanceByFiber:Nh,findFiberByHostInstance:e.findFiberByHostInstance||Jh,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")e=!1;else{var n=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(n.isDisabled||!n.supportsFiber)e=!0;else{try{wr=n.inject(e),an=n}catch{}e=!!n.checkDCE}}return e},s.isAlreadyRendering=function(){return!1},s.observeVisibleRects=function(e,n,a,p){if(!me)throw Error(i(363));e=Ra(e,n);var v=Ae(e,a,p).disconnect;return{disconnect:function(){v()}}},s.registerMutableSourceForHydration=function(e,n){var a=n._getVersion;a=a(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,a]:e.mutableSourceEagerHydrationData.push(n,a)},s.runWithPriority=function(e,n){var a=je;try{return je=e,n()}finally{je=a}},s.shouldError=function(){return null},s.shouldSuspend=function(){return!1},s.updateContainer=function(e,n,a,p){var v=n.current,g=Kt(),M=mr(v);return a=fc(a),n.context===null?n.context=a:n.pendingContext=a,n=$n(g,M),n.payload={element:e},p=p===void 0?null:p,p!==null&&(n.callback=p),dr(v,n),e=Cn(v,M,g),e!==null&&Ni(e,v,M),M},s};gd.exports=nm;var rm=gd.exports;const om=Fl(rm),Gl={},Xs=l=>void Object.assign(Gl,l);function im(l,t){function s(h,{args:m=[],attach:A,...y},B){let C=`${h[0].toUpperCase()}${h.slice(1)}`,E;if(h==="primitive"){if(y.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const S=y.object;E=Bo(S,{type:h,root:B,attach:A,primitive:!0})}else{const S=Gl[C];if(!S)throw new Error(`R3F: ${C} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(m))throw new Error("R3F: The args prop must be an array!");E=Bo(new S(...m),{type:h,root:B,attach:A,memoizedProps:{args:m}})}return E.__r3f.attach===void 0&&(E instanceof _i?E.__r3f.attach="geometry":E instanceof Ei&&(E.__r3f.attach="material")),C!=="inject"&&Ya(E,y),E}function d(h,m){let A=!1;if(m){var y,B;(y=m.__r3f)!=null&&y.attach?Xa(h,m,m.__r3f.attach):m.isObject3D&&h.isObject3D&&(h.add(m),A=!0),A||(B=h.__r3f)==null||B.objects.push(m),m.__r3f||Bo(m,{}),m.__r3f.parent=h,vl(m),Co(m)}}function o(h,m,A){let y=!1;if(m){var B,C;if((B=m.__r3f)!=null&&B.attach)Xa(h,m,m.__r3f.attach);else if(m.isObject3D&&h.isObject3D){m.parent=h,m.dispatchEvent({type:"added"}),h.dispatchEvent({type:"childadded",child:m});const E=h.children.filter(x=>x!==m),S=E.indexOf(A);h.children=[...E.slice(0,S),m,...E.slice(S)],y=!0}y||(C=h.__r3f)==null||C.objects.push(m),m.__r3f||Bo(m,{}),m.__r3f.parent=h,vl(m),Co(m)}}function r(h,m,A=!1){h&&[...h].forEach(y=>i(m,y,A))}function i(h,m,A){if(m){var y,B,C;if(m.__r3f&&(m.__r3f.parent=null),(y=h.__r3f)!=null&&y.objects&&(h.__r3f.objects=h.__r3f.objects.filter(T=>T!==m)),(B=m.__r3f)!=null&&B.attach)xc(h,m,m.__r3f.attach);else if(m.isObject3D&&h.isObject3D){var E;h.remove(m),(E=m.__r3f)!=null&&E.root&&dm(ks(m),m)}const x=(C=m.__r3f)==null?void 0:C.primitive,w=!x&&(A===void 0?m.dispose!==null:A);if(!x){var S;r((S=m.__r3f)==null?void 0:S.objects,m,w),r(m.children,m,w)}if(delete m.__r3f,w&&m.dispose&&m.type!=="Scene"){const T=()=>{try{m.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?pl.unstable_scheduleCallback(pl.unstable_IdlePriority,T):T()}Co(h)}}function c(h,m,A,y){var B;const C=(B=h.__r3f)==null?void 0:B.parent;if(!C)return;const E=s(m,A,h.__r3f.root);if(h.children){for(const S of h.children)S.__r3f&&d(E,S);h.children=h.children.filter(S=>!S.__r3f)}h.__r3f.objects.forEach(S=>d(E,S)),h.__r3f.objects=[],h.__r3f.autoRemovedBeforeAppend||i(C,h),E.parent&&(E.__r3f.autoRemovedBeforeAppend=!0),d(C,E),E.raycast&&E.__r3f.eventCount&&ks(E).getState().internal.interaction.push(E),[y,y.alternate].forEach(S=>{S!==null&&(S.stateNode=E,S.ref&&(typeof S.ref=="function"?S.ref(E):S.ref.current=E))})}const u=()=>{};return{reconciler:om({createInstance:s,removeChild:i,appendChild:d,appendInitialChild:d,insertBefore:o,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(h,m)=>{if(!m)return;const A=h.getState().scene;A.__r3f&&(A.__r3f.root=h,d(A,m))},removeChildFromContainer:(h,m)=>{m&&i(h.getState().scene,m)},insertInContainerBefore:(h,m,A)=>{if(!m||!A)return;const y=h.getState().scene;y.__r3f&&o(y,m,A)},getRootHostContext:()=>null,getChildHostContext:h=>h,finalizeInitialChildren(h){var m;return!!((m=h==null?void 0:h.__r3f)!=null?m:{}).handlers},prepareUpdate(h,m,A,y){var B;if(((B=h==null?void 0:h.__r3f)!=null?B:{}).primitive&&y.object&&y.object!==h)return[!0];{const{args:E=[],children:S,...x}=y,{args:w=[],children:T,...D}=A;if(!Array.isArray(E))throw new Error("R3F: the args prop must be an array!");if(E.some((G,b)=>G!==w[b]))return[!0];const P=Td(h,x,D,!0);return P.changes.length?[!1,P]:null}},commitUpdate(h,[m,A],y,B,C,E){m?c(h,y,C,E):Ya(h,A)},commitMount(h,m,A,y){var B;const C=(B=h.__r3f)!=null?B:{};h.raycast&&C.handlers&&C.eventCount&&ks(h).getState().internal.interaction.push(h)},getPublicInstance:h=>h,prepareForCommit:()=>null,preparePortalMount:h=>Bo(h.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(h){var m;const{attach:A,parent:y}=(m=h.__r3f)!=null?m:{};A&&y&&xc(y,h,A),h.isObject3D&&(h.visible=!1),Co(h)},unhideInstance(h,m){var A;const{attach:y,parent:B}=(A=h.__r3f)!=null?A:{};y&&B&&Xa(B,h,y),(h.isObject3D&&m.visible==null||m.visible)&&(h.visible=!0),Co(h)},createTextInstance:u,hideTextInstance:u,unhideTextInstance:u,getCurrentEventPriority:()=>t?t():xo.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&it.fun(performance.now)?performance.now:it.fun(Date.now)?Date.now:()=>0,scheduleTimeout:it.fun(setTimeout)?setTimeout:void 0,cancelTimeout:it.fun(clearTimeout)?clearTimeout:void 0}),applyProps:Ya}}var Bc,Cc;const Qa=l=>"colorSpace"in l||"outputColorSpace"in l,Cd=()=>{var l;return(l=Gl.ColorManagement)!=null?l:null},Ed=l=>l&&l.isOrthographicCamera,sm=l=>l&&l.hasOwnProperty("current"),Ro=typeof window<"u"&&((Bc=window.document)!=null&&Bc.createElement||((Cc=window.navigator)==null?void 0:Cc.product)==="ReactNative")?_.useLayoutEffect:_.useEffect;function Sd(l){const t=_.useRef(l);return Ro(()=>void(t.current=l),[l]),t}function am({set:l}){return Ro(()=>(l(new Promise(()=>null)),()=>l(!1)),[l]),null}class xd extends _.Component{constructor(...t){super(...t),this.state={error:!1}}componentDidCatch(t){this.props.set(t)}render(){return this.state.error?null:this.props.children}}xd.getDerivedStateFromError=()=>({error:!0});const Md="__default",Ec=new Map,lm=l=>l&&!!l.memoized&&!!l.changes;function wd(l){var t;const s=typeof window<"u"?(t=window.devicePixelRatio)!=null?t:2:1;return Array.isArray(l)?Math.min(Math.max(l[0],s),l[1]):l}const ai=l=>{var t;return(t=l.__r3f)==null?void 0:t.root.getState()};function ks(l){let t=l.__r3f.root;for(;t.getState().previousRoot;)t=t.getState().previousRoot;return t}const it={obj:l=>l===Object(l)&&!it.arr(l)&&typeof l!="function",fun:l=>typeof l=="function",str:l=>typeof l=="string",num:l=>typeof l=="number",boo:l=>typeof l=="boolean",und:l=>l===void 0,arr:l=>Array.isArray(l),equ(l,t,{arrays:s="shallow",objects:d="reference",strict:o=!0}={}){if(typeof l!=typeof t||!!l!=!!t)return!1;if(it.str(l)||it.num(l)||it.boo(l))return l===t;const r=it.obj(l);if(r&&d==="reference")return l===t;const i=it.arr(l);if(i&&s==="reference")return l===t;if((i||r)&&l===t)return!0;let c;for(c in l)if(!(c in t))return!1;if(r&&s==="shallow"&&d==="shallow"){for(c in o?t:l)if(!it.equ(l[c],t[c],{strict:o,objects:"reference"}))return!1}else for(c in o?t:l)if(l[c]!==t[c])return!1;if(it.und(c)){if(i&&l.length===0&&t.length===0||r&&Object.keys(l).length===0&&Object.keys(t).length===0)return!0;if(l!==t)return!1}return!0}};function Fd(l){const t={nodes:{},materials:{}};return l&&l.traverse(s=>{s.name&&(t.nodes[s.name]=s),s.material&&!t.materials[s.material.name]&&(t.materials[s.material.name]=s.material)}),t}function um(l){l.dispose&&l.type!=="Scene"&&l.dispose();for(const t in l)t.dispose==null||t.dispose(),delete l[t]}function Bo(l,t){const s=l;return s.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...t},l}function ml(l,t){let s=l;if(t.includes("-")){const d=t.split("-"),o=d.pop();return s=d.reduce((r,i)=>r[i],l),{target:s,key:o}}else return{target:s,key:t}}const Sc=/-\d+$/;function Xa(l,t,s){if(it.str(s)){if(Sc.test(s)){const r=s.replace(Sc,""),{target:i,key:c}=ml(l,r);Array.isArray(i[c])||(i[c]=[])}const{target:d,key:o}=ml(l,s);t.__r3f.previousAttach=d[o],d[o]=t}else t.__r3f.previousAttach=s(l,t)}function xc(l,t,s){var d,o;if(it.str(s)){const{target:r,key:i}=ml(l,s),c=t.__r3f.previousAttach;c===void 0?delete r[i]:r[i]=c}else(d=t.__r3f)==null||d.previousAttach==null||d.previousAttach(l,t);(o=t.__r3f)==null||delete o.previousAttach}function Td(l,{children:t,key:s,ref:d,...o},{children:r,key:i,ref:c,...u}={},f=!1){const h=l.__r3f,m=Object.entries(o),A=[];if(f){const B=Object.keys(u);for(let C=0;C<B.length;C++)o.hasOwnProperty(B[C])||m.unshift([B[C],Md+"remove"])}m.forEach(([B,C])=>{var E;if((E=l.__r3f)!=null&&E.primitive&&B==="object"||it.equ(C,u[B]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(B))return A.push([B,C,!0,[]]);let S=[];B.includes("-")&&(S=B.split("-")),A.push([B,C,!1,S]);for(const x in o){const w=o[x];x.startsWith(`${B}-`)&&A.push([x,w,!1,x.split("-")])}});const y={...o};return h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.args&&(y.args=h.memoizedProps.args),h!=null&&h.memoizedProps&&h!=null&&h.memoizedProps.attach&&(y.attach=h.memoizedProps.attach),{memoized:y,changes:A}}const cm=typeof process<"u"&&!1;function Ya(l,t){var s;const d=l.__r3f,o=d==null?void 0:d.root,r=o==null||o.getState==null?void 0:o.getState(),{memoized:i,changes:c}=lm(t)?t:Td(l,t),u=d==null?void 0:d.eventCount;l.__r3f&&(l.__r3f.memoizedProps=i);for(let h=0;h<c.length;h++){let[m,A,y,B]=c[h];if(Qa(l)){const x="srgb",w="srgb-linear";m==="encoding"?(m="colorSpace",A=A===3001?x:w):m==="outputEncoding"&&(m="outputColorSpace",A=A===3001?x:w)}let C=l,E=C[m];if(B.length&&(E=B.reduce((S,x)=>S[x],l),!(E&&E.set))){const[S,...x]=B.reverse();C=x.reverse().reduce((w,T)=>w[T],l),m=S}if(A===Md+"remove")if(C.constructor){let S=Ec.get(C.constructor);S||(S=new C.constructor,Ec.set(C.constructor,S)),A=S[m]}else A=0;if(y&&d)A?d.handlers[m]=A:delete d.handlers[m],d.eventCount=Object.keys(d.handlers).length;else if(E&&E.set&&(E.copy||E instanceof Ka)){if(Array.isArray(A))E.fromArray?E.fromArray(A):E.set(...A);else if(E.copy&&A&&A.constructor&&(cm?E.constructor.name===A.constructor.name:E.constructor===A.constructor))E.copy(A);else if(A!==void 0){const S=E instanceof bt;!S&&E.setScalar?E.setScalar(A):E instanceof Ka&&A instanceof Ka?E.mask=A.mask:E.set(A),!Cd()&&r&&!r.linear&&S&&E.convertSRGBToLinear()}}else if(C[m]=A,C[m]instanceof Fo&&C[m].format===Kh&&C[m].type===Wh&&r){const S=C[m];Qa(S)&&Qa(r.gl)?S.colorSpace=r.gl.outputColorSpace:S.encoding=r.gl.outputEncoding}Co(l)}if(d&&d.parent&&l.raycast&&u!==d.eventCount){const h=ks(l).getState().internal,m=h.interaction.indexOf(l);m>-1&&h.interaction.splice(m,1),d.eventCount&&h.interaction.push(l)}return!(c.length===1&&c[0][0]==="onUpdate")&&c.length&&(s=l.__r3f)!=null&&s.parent&&vl(l),l}function Co(l){var t,s;const d=(t=l.__r3f)==null||(s=t.root)==null||s.getState==null?void 0:s.getState();d&&d.internal.frames===0&&d.invalidate()}function vl(l){l.onUpdate==null||l.onUpdate(l)}function _d(l,t){l.manual||(Ed(l)?(l.left=t.width/-2,l.right=t.width/2,l.top=t.height/2,l.bottom=t.height/-2):l.aspect=t.width/t.height,l.updateProjectionMatrix(),l.updateMatrixWorld())}function ws(l){return(l.eventObject||l.object).uuid+"/"+l.index+l.instanceId}function fm(){var l;const t=typeof self<"u"&&self||typeof window<"u"&&window;if(!t)return xo.DefaultEventPriority;switch((l=t.event)==null?void 0:l.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return xo.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return xo.ContinuousEventPriority;default:return xo.DefaultEventPriority}}function Rd(l,t,s,d){const o=s.get(t);o&&(s.delete(t),s.size===0&&(l.delete(d),o.target.releasePointerCapture(d)))}function dm(l,t){const{internal:s}=l.getState();s.interaction=s.interaction.filter(d=>d!==t),s.initialHits=s.initialHits.filter(d=>d!==t),s.hovered.forEach((d,o)=>{(d.eventObject===t||d.object===t)&&s.hovered.delete(o)}),s.capturedMap.forEach((d,o)=>{Rd(s.capturedMap,t,d,o)})}function hm(l){function t(u){const{internal:f}=l.getState(),h=u.offsetX-f.initialClick[0],m=u.offsetY-f.initialClick[1];return Math.round(Math.sqrt(h*h+m*m))}function s(u){return u.filter(f=>["Move","Over","Enter","Out","Leave"].some(h=>{var m;return(m=f.__r3f)==null?void 0:m.handlers["onPointer"+h]}))}function d(u,f){const h=l.getState(),m=new Set,A=[],y=f?f(h.internal.interaction):h.internal.interaction;for(let S=0;S<y.length;S++){const x=ai(y[S]);x&&(x.raycaster.camera=void 0)}h.previousRoot||h.events.compute==null||h.events.compute(u,h);function B(S){const x=ai(S);if(!x||!x.events.enabled||x.raycaster.camera===null)return[];if(x.raycaster.camera===void 0){var w;x.events.compute==null||x.events.compute(u,x,(w=x.previousRoot)==null?void 0:w.getState()),x.raycaster.camera===void 0&&(x.raycaster.camera=null)}return x.raycaster.camera?x.raycaster.intersectObject(S,!0):[]}let C=y.flatMap(B).sort((S,x)=>{const w=ai(S.object),T=ai(x.object);return!w||!T?S.distance-x.distance:T.events.priority-w.events.priority||S.distance-x.distance}).filter(S=>{const x=ws(S);return m.has(x)?!1:(m.add(x),!0)});h.events.filter&&(C=h.events.filter(C,h));for(const S of C){let x=S.object;for(;x;){var E;(E=x.__r3f)!=null&&E.eventCount&&A.push({...S,eventObject:x}),x=x.parent}}if("pointerId"in u&&h.internal.capturedMap.has(u.pointerId))for(let S of h.internal.capturedMap.get(u.pointerId).values())m.has(ws(S.intersection))||A.push(S.intersection);return A}function o(u,f,h,m){const A=l.getState();if(u.length){const y={stopped:!1};for(const B of u){const C=ai(B.object)||A,{raycaster:E,pointer:S,camera:x,internal:w}=C,T=new Ke(S.x,S.y,0).unproject(x),D=N=>{var W,I;return(W=(I=w.capturedMap.get(N))==null?void 0:I.has(B.eventObject))!=null?W:!1},P=N=>{const W={intersection:B,target:f.target};w.capturedMap.has(N)?w.capturedMap.get(N).set(B.eventObject,W):w.capturedMap.set(N,new Map([[B.eventObject,W]])),f.target.setPointerCapture(N)},G=N=>{const W=w.capturedMap.get(N);W&&Rd(w.capturedMap,B.eventObject,W,N)};let b={};for(let N in f){let W=f[N];typeof W!="function"&&(b[N]=W)}let H={...B,...b,pointer:S,intersections:u,stopped:y.stopped,delta:h,unprojectedPoint:T,ray:E.ray,camera:x,stopPropagation(){const N="pointerId"in f&&w.capturedMap.get(f.pointerId);if((!N||N.has(B.eventObject))&&(H.stopped=y.stopped=!0,w.hovered.size&&Array.from(w.hovered.values()).find(W=>W.eventObject===B.eventObject))){const W=u.slice(0,u.indexOf(B));r([...W,B])}},target:{hasPointerCapture:D,setPointerCapture:P,releasePointerCapture:G},currentTarget:{hasPointerCapture:D,setPointerCapture:P,releasePointerCapture:G},nativeEvent:f};if(m(H),y.stopped===!0)break}}return u}function r(u){const{internal:f}=l.getState();for(const h of f.hovered.values())if(!u.length||!u.find(m=>m.object===h.object&&m.index===h.index&&m.instanceId===h.instanceId)){const A=h.eventObject.__r3f,y=A==null?void 0:A.handlers;if(f.hovered.delete(ws(h)),A!=null&&A.eventCount){const B={...h,intersections:u};y.onPointerOut==null||y.onPointerOut(B),y.onPointerLeave==null||y.onPointerLeave(B)}}}function i(u,f){for(let h=0;h<f.length;h++){const m=f[h].__r3f;m==null||m.handlers.onPointerMissed==null||m.handlers.onPointerMissed(u)}}function c(u){switch(u){case"onPointerLeave":case"onPointerCancel":return()=>r([]);case"onLostPointerCapture":return f=>{const{internal:h}=l.getState();"pointerId"in f&&h.capturedMap.has(f.pointerId)&&requestAnimationFrame(()=>{h.capturedMap.has(f.pointerId)&&(h.capturedMap.delete(f.pointerId),r([]))})}}return function(h){const{onPointerMissed:m,internal:A}=l.getState();A.lastEvent.current=h;const y=u==="onPointerMove",B=u==="onClick"||u==="onContextMenu"||u==="onDoubleClick",E=d(h,y?s:void 0),S=B?t(h):0;u==="onPointerDown"&&(A.initialClick=[h.offsetX,h.offsetY],A.initialHits=E.map(w=>w.eventObject)),B&&!E.length&&S<=2&&(i(h,A.interaction),m&&m(h)),y&&r(E);function x(w){const T=w.eventObject,D=T.__r3f,P=D==null?void 0:D.handlers;if(D!=null&&D.eventCount)if(y){if(P.onPointerOver||P.onPointerEnter||P.onPointerOut||P.onPointerLeave){const G=ws(w),b=A.hovered.get(G);b?b.stopped&&w.stopPropagation():(A.hovered.set(G,w),P.onPointerOver==null||P.onPointerOver(w),P.onPointerEnter==null||P.onPointerEnter(w))}P.onPointerMove==null||P.onPointerMove(w)}else{const G=P[u];G?(!B||A.initialHits.includes(T))&&(i(h,A.interaction.filter(b=>!A.initialHits.includes(b))),G(w)):B&&A.initialHits.includes(T)&&i(h,A.interaction.filter(b=>!A.initialHits.includes(b)))}}o(E,h,S,x)}}return{handlePointer:c}}const pm=["set","get","setSize","setFrameloop","setDpr","events","invalidate","advance","size","viewport"],Dd=l=>!!(l!=null&&l.render),Ul=_.createContext(null),mm=(l,t)=>{const s=md((c,u)=>{const f=new Ke,h=new Ke,m=new Ke;function A(S=u().camera,x=h,w=u().size){const{width:T,height:D,top:P,left:G}=w,b=T/D;x instanceof Ke?m.copy(x):m.set(...x);const H=S.getWorldPosition(f).distanceTo(m);if(Ed(S))return{width:T/S.zoom,height:D/S.zoom,top:P,left:G,factor:1,distance:H,aspect:b};{const N=S.fov*Math.PI/180,W=2*Math.tan(N/2)*H,I=W*(T/D);return{width:I,height:W,top:P,left:G,factor:T/I,distance:H,aspect:b}}}let y;const B=S=>c(x=>({performance:{...x.performance,current:S}})),C=new Rt;return{set:c,get:u,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(S=1)=>l(u(),S),advance:(S,x)=>t(S,x,u()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new $h,pointer:C,mouse:C,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const S=u();y&&clearTimeout(y),S.performance.current!==S.performance.min&&B(S.performance.min),y=setTimeout(()=>B(u().performance.max),S.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:A},setEvents:S=>c(x=>({...x,events:{...x.events,...S}})),setSize:(S,x,w,T,D)=>{const P=u().camera,G={width:S,height:x,top:T||0,left:D||0,updateStyle:w};c(b=>({size:G,viewport:{...b.viewport,...A(P,h,G)}}))},setDpr:S=>c(x=>{const w=wd(S);return{viewport:{...x.viewport,dpr:w,initialDpr:x.viewport.initialDpr||w}}}),setFrameloop:(S="always")=>{const x=u().clock;x.stop(),x.elapsedTime=0,S!=="never"&&(x.start(),x.elapsedTime=0),c(()=>({frameloop:S}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:_.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(S,x,w)=>{const T=u().internal;return T.priority=T.priority+(x>0?1:0),T.subscribers.push({ref:S,priority:x,store:w}),T.subscribers=T.subscribers.sort((D,P)=>D.priority-P.priority),()=>{const D=u().internal;D!=null&&D.subscribers&&(D.priority=D.priority-(x>0?1:0),D.subscribers=D.subscribers.filter(P=>P.ref!==S))}}}}}),d=s.getState();let o=d.size,r=d.viewport.dpr,i=d.camera;return s.subscribe(()=>{const{camera:c,size:u,viewport:f,gl:h,set:m}=s.getState();if(u.width!==o.width||u.height!==o.height||f.dpr!==r){var A;o=u,r=f.dpr,_d(c,u),h.setPixelRatio(f.dpr);const y=(A=u.updateStyle)!=null?A:typeof HTMLCanvasElement<"u"&&h.domElement instanceof HTMLCanvasElement;h.setSize(u.width,u.height,y)}c!==i&&(i=c,m(y=>({viewport:{...y.viewport,...y.viewport.getCurrentViewport(c)}})))}),s.subscribe(c=>l(c)),s};let Fs,vm=new Set,Am=new Set,gm=new Set;function Va(l,t){if(l.size)for(const{callback:s}of l.values())s(t)}function li(l,t){switch(l){case"before":return Va(vm,t);case"after":return Va(Am,t);case"tail":return Va(gm,t)}}let Za,qa;function $a(l,t,s){let d=t.clock.getDelta();for(t.frameloop==="never"&&typeof l=="number"&&(d=l-t.clock.elapsedTime,t.clock.oldTime=t.clock.elapsedTime,t.clock.elapsedTime=l),Za=t.internal.subscribers,Fs=0;Fs<Za.length;Fs++)qa=Za[Fs],qa.ref.current(qa.store.getState(),d,s);return!t.internal.priority&&t.gl.render&&t.gl.render(t.scene,t.camera),t.internal.frames=Math.max(0,t.internal.frames-1),t.frameloop==="always"?1:t.internal.frames}function ym(l){let t=!1,s=!1,d,o,r;function i(f){o=requestAnimationFrame(i),t=!0,d=0,li("before",f),s=!0;for(const m of l.values()){var h;r=m.store.getState(),r.internal.active&&(r.frameloop==="always"||r.internal.frames>0)&&!((h=r.gl.xr)!=null&&h.isPresenting)&&(d+=$a(f,r))}if(s=!1,li("after",f),d===0)return li("tail",f),t=!1,cancelAnimationFrame(o)}function c(f,h=1){var m;if(!f)return l.forEach(A=>c(A.store.getState(),h));(m=f.gl.xr)!=null&&m.isPresenting||!f.internal.active||f.frameloop==="never"||(h>1?f.internal.frames=Math.min(60,f.internal.frames+h):s?f.internal.frames=2:f.internal.frames=1,t||(t=!0,requestAnimationFrame(i)))}function u(f,h=!0,m,A){if(h&&li("before",f),m)$a(f,m,A);else for(const y of l.values())$a(f,y.store.getState());h&&li("after",f)}return{loop:i,invalidate:c,advance:u}}function PA(l){const t=_.useRef(null);return Ro(()=>void(t.current=l.current.__r3f),[l]),t}function Pl(){const l=_.useContext(Ul);if(!l)throw new Error("R3F: Hooks can only be used within the Canvas component!");return l}function Qt(l=s=>s,t){return Pl()(l,t)}function Qr(l,t=0){const s=Pl(),d=s.getState().internal.subscribe,o=Sd(l);return Ro(()=>d(o,t,s),[t,d,s]),null}function kA(l){return _.useMemo(()=>Fd(l),[l])}const Mc=new WeakMap;function Id(l,t){return function(s,...d){let o=Mc.get(s);return o||(o=new s,Mc.set(s,o)),l&&l(o),Promise.all(d.map(r=>new Promise((i,c)=>o.load(r,u=>{u.scene&&Object.assign(u,Fd(u.scene)),i(u)},t,u=>c(new Error(`Could not load ${r}: ${u==null?void 0:u.message}`))))))}}function Cr(l,t,s,d){const o=Array.isArray(t)?t:[t],r=Il(Id(s,d),[l,...o],{equal:it.equ});return Array.isArray(t)?r:r[0]}Cr.preload=function(l,t,s){const d=Array.isArray(t)?t:[t];return em(Id(s),[l,...d])};Cr.clear=function(l,t){const s=Array.isArray(t)?t:[t];return tm([l,...s])};const To=new Map,{invalidate:wc,advance:Fc}=ym(To),{reconciler:Ti,applyProps:mo}=im(To,fm),vo={objects:"shallow",strict:!1},Bm=(l,t)=>{const s=typeof l=="function"?l(t):l;return Dd(s)?s:new Yh({powerPreference:"high-performance",canvas:t,antialias:!0,alpha:!0,...l})};function Cm(l,t){const s=typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement;if(t){const{width:d,height:o,top:r,left:i,updateStyle:c=s}=t;return{width:d,height:o,top:r,left:i,updateStyle:c}}else if(typeof HTMLCanvasElement<"u"&&l instanceof HTMLCanvasElement&&l.parentElement){const{width:d,height:o,top:r,left:i}=l.parentElement.getBoundingClientRect();return{width:d,height:o,top:r,left:i,updateStyle:s}}else if(typeof OffscreenCanvas<"u"&&l instanceof OffscreenCanvas)return{width:l.width,height:l.height,top:0,left:0,updateStyle:s};return{width:0,height:0,top:0,left:0}}function Em(l){const t=To.get(l),s=t==null?void 0:t.fiber,d=t==null?void 0:t.store;t&&console.warn("R3F.createRoot should only be called once!");const o=typeof reportError=="function"?reportError:console.error,r=d||mm(wc,Fc),i=s||Ti.createContainer(r,xo.ConcurrentRoot,null,!1,null,"",o,null);t||To.set(l,{fiber:i,store:r});let c,u=!1,f;return{configure(h={}){let{gl:m,size:A,scene:y,events:B,onCreated:C,shadows:E=!1,linear:S=!1,flat:x=!1,legacy:w=!1,orthographic:T=!1,frameloop:D="always",dpr:P=[1,2],performance:G,raycaster:b,camera:H,onPointerMissed:N}=h,W=r.getState(),I=W.gl;W.gl||W.set({gl:I=Bm(m,l)});let X=W.raycaster;X||W.set({raycaster:X=new Zf});const{params:Q,...$}=b||{};if(it.equ($,X,vo)||mo(X,{...$}),it.equ(Q,X.params,vo)||mo(X,{params:{...X.params,...Q}}),!W.camera||W.camera===f&&!it.equ(f,H,vo)){f=H;const k=H instanceof qf,F=k?H:T?new zs(0,0,0,0,.1,1e3):new Ri(75,0,.1,1e3);k||(F.position.z=5,H&&(mo(F,H),("aspect"in H||"left"in H||"right"in H||"bottom"in H||"top"in H)&&(F.manual=!0,F.updateProjectionMatrix())),!W.camera&&!(H!=null&&H.rotation)&&F.lookAt(0,0,0)),W.set({camera:F}),X.camera=F}if(!W.scene){let k;y instanceof bs?k=y:(k=new bs,y&&mo(k,y)),W.set({scene:Bo(k)})}if(!W.xr){var te;const k=(L,K)=>{const j=r.getState();j.frameloop!=="never"&&Fc(L,!0,j,K)},F=()=>{const L=r.getState();L.gl.xr.enabled=L.gl.xr.isPresenting,L.gl.xr.setAnimationLoop(L.gl.xr.isPresenting?k:null),L.gl.xr.isPresenting||wc(L)},R={connect(){const L=r.getState().gl;L.xr.addEventListener("sessionstart",F),L.xr.addEventListener("sessionend",F)},disconnect(){const L=r.getState().gl;L.xr.removeEventListener("sessionstart",F),L.xr.removeEventListener("sessionend",F)}};typeof((te=I.xr)==null?void 0:te.addEventListener)=="function"&&R.connect(),W.set({xr:R})}if(I.shadowMap){const k=I.shadowMap.enabled,F=I.shadowMap.type;if(I.shadowMap.enabled=!!E,it.boo(E))I.shadowMap.type=Wa;else if(it.str(E)){var se;const R={basic:Vh,percentage:Zh,soft:Wa,variance:qh};I.shadowMap.type=(se=R[E])!=null?se:Wa}else it.obj(E)&&Object.assign(I.shadowMap,E);(k!==I.shadowMap.enabled||F!==I.shadowMap.type)&&(I.shadowMap.needsUpdate=!0)}const Y=Cd();Y&&("enabled"in Y?Y.enabled=!w:"legacyMode"in Y&&(Y.legacyMode=w)),u||mo(I,{outputEncoding:S?3e3:3001,toneMapping:x?Qh:Xh}),W.legacy!==w&&W.set(()=>({legacy:w})),W.linear!==S&&W.set(()=>({linear:S})),W.flat!==x&&W.set(()=>({flat:x})),m&&!it.fun(m)&&!Dd(m)&&!it.equ(m,I,vo)&&mo(I,m),B&&!W.events.handlers&&W.set({events:B(r)});const J=Cm(l,A);return it.equ(J,W.size,vo)||W.setSize(J.width,J.height,J.updateStyle,J.top,J.left),P&&W.viewport.dpr!==wd(P)&&W.setDpr(P),W.frameloop!==D&&W.setFrameloop(D),W.onPointerMissed||W.set({onPointerMissed:N}),G&&!it.equ(G,W.performance,vo)&&W.set(k=>({performance:{...k.performance,...G}})),c=C,u=!0,this},render(h){return u||this.configure(),Ti.updateContainer(Wt.jsx(Sm,{store:r,children:h,onCreated:c,rootElement:l}),i,null,()=>{}),r},unmount(){Gd(l)}}}function Sm({store:l,children:t,onCreated:s,rootElement:d}){return Ro(()=>{const o=l.getState();o.set(r=>({internal:{...r.internal,active:!0}})),s&&s(o),l.getState().events.connected||o.events.connect==null||o.events.connect(d)},[]),Wt.jsx(Ul.Provider,{value:l,children:t})}function Gd(l,t){const s=To.get(l),d=s==null?void 0:s.fiber;if(d){const o=s==null?void 0:s.store.getState();o&&(o.internal.active=!1),Ti.updateContainer(null,d,null,()=>{o&&setTimeout(()=>{try{var r,i,c,u;o.events.disconnect==null||o.events.disconnect(),(r=o.gl)==null||(i=r.renderLists)==null||i.dispose==null||i.dispose(),(c=o.gl)==null||c.forceContextLoss==null||c.forceContextLoss(),(u=o.gl)!=null&&u.xr&&o.xr.disconnect(),um(o),To.delete(l)}catch{}},500)})}}function xm(l,t,s){return Wt.jsx(Mm,{children:l,container:t,state:s},t.uuid)}function Mm({state:l={},children:t,container:s}){const{events:d,size:o,...r}=l,i=Pl(),[c]=_.useState(()=>new Zf),[u]=_.useState(()=>new Rt),f=_.useCallback((m,A)=>{const y={...m};Object.keys(m).forEach(C=>{(pm.includes(C)||m[C]!==A[C]&&A[C])&&delete y[C]});let B;if(A&&o){const C=A.camera;B=m.viewport.getCurrentViewport(C,new Ke,o),C!==m.camera&&_d(C,o)}return{...y,scene:s,raycaster:c,pointer:u,mouse:u,previousRoot:i,events:{...m.events,...A==null?void 0:A.events,...d},size:{...m.size,...o},viewport:{...m.viewport,...B},...r}},[l]),[h]=_.useState(()=>{const m=i.getState();return md((y,B)=>({...m,scene:s,raycaster:c,pointer:u,mouse:u,previousRoot:i,events:{...m.events,...d},size:{...m.size,...o},...r,set:y,get:B,setEvents:C=>y(E=>({...E,events:{...E.events,...C}}))}))});return _.useEffect(()=>{const m=i.subscribe(A=>h.setState(y=>f(A,y)));return()=>{m()}},[f]),_.useEffect(()=>{h.setState(m=>f(i.getState(),m))},[f]),_.useEffect(()=>()=>{h.destroy()},[]),Wt.jsx(Wt.Fragment,{children:Ti.createPortal(Wt.jsx(Ul.Provider,{value:h,children:t}),h,null)})}Ti.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:_.version});const el={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function wm(l){const{handlePointer:t}=hm(l);return{priority:1,enabled:!0,compute(s,d,o){d.pointer.set(s.offsetX/d.size.width*2-1,-(s.offsetY/d.size.height)*2+1),d.raycaster.setFromCamera(d.pointer,d.camera)},connected:void 0,handlers:Object.keys(el).reduce((s,d)=>({...s,[d]:t(d)}),{}),update:()=>{var s;const{events:d,internal:o}=l.getState();(s=o.lastEvent)!=null&&s.current&&d.handlers&&d.handlers.onPointerMove(o.lastEvent.current)},connect:s=>{var d;const{set:o,events:r}=l.getState();r.disconnect==null||r.disconnect(),o(i=>({events:{...i.events,connected:s}})),Object.entries((d=r.handlers)!=null?d:[]).forEach(([i,c])=>{const[u,f]=el[i];s.addEventListener(u,c,{passive:f})})},disconnect:()=>{const{set:s,events:d}=l.getState();if(d.connected){var o;Object.entries((o=d.handlers)!=null?o:[]).forEach(([r,i])=>{if(d&&d.connected instanceof HTMLElement){const[c]=el[r];d.connected.removeEventListener(c,i)}}),s(r=>({events:{...r.events,connected:void 0}}))}}}}function Al(l,t,s){var d,o,r,i,c;t==null&&(t=100);function u(){var h=Date.now()-i;h<t&&h>=0?d=setTimeout(u,t-h):(d=null,s||(c=l.apply(r,o),r=o=null))}var f=function(){r=this,o=arguments,i=Date.now();var h=s&&!d;return d||(d=setTimeout(u,t)),h&&(c=l.apply(r,o),r=o=null),c};return f.clear=function(){d&&(clearTimeout(d),d=null)},f.flush=function(){d&&(c=l.apply(r,o),r=o=null,clearTimeout(d),d=null)},f}Al.debounce=Al;var Fm=Al;const Tc=Fl(Fm);var Tm=Object.defineProperty,_m=Object.defineProperties,Rm=Object.getOwnPropertyDescriptors,_c=Object.getOwnPropertySymbols,Dm=Object.prototype.hasOwnProperty,Im=Object.prototype.propertyIsEnumerable,Rc=(l,t,s)=>t in l?Tm(l,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):l[t]=s,Dc=(l,t)=>{for(var s in t||(t={}))Dm.call(t,s)&&Rc(l,s,t[s]);if(_c)for(var s of _c(t))Im.call(t,s)&&Rc(l,s,t[s]);return l},Gm=(l,t)=>_m(l,Rm(t)),Ic,Gc;typeof window<"u"&&((Ic=window.document)!=null&&Ic.createElement||((Gc=window.navigator)==null?void 0:Gc.product)==="ReactNative")?_.useLayoutEffect:_.useEffect;function Ud(l,t,s){if(!l)return;if(s(l)===!0)return l;let d=l.child;for(;d;){const o=Ud(d,t,s);if(o)return o;d=d.sibling}}function Pd(l){try{return Object.defineProperties(l,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return l}}const Uc=console.error;console.error=function(){const l=[...arguments].join("");if(l!=null&&l.startsWith("Warning:")&&l.includes("useContext")){console.error=Uc;return}return Uc.apply(this,arguments)};const kl=Pd(_.createContext(null));class kd extends _.Component{render(){return _.createElement(kl.Provider,{value:this._reactInternals},this.props.children)}}function Um(){const l=_.useContext(kl);if(l===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const t=_.useId();return _.useMemo(()=>{for(const d of[l,l==null?void 0:l.alternate]){if(!d)continue;const o=Ud(d,!1,r=>{let i=r.memoizedState;for(;i;){if(i.memoizedState===t)return!0;i=i.next}});if(o)return o}},[l,t])}function Pm(){const l=Um(),[t]=_.useState(()=>new Map);t.clear();let s=l;for(;s;){if(s.type&&typeof s.type=="object"){const o=s.type._context===void 0&&s.type.Provider===s.type?s.type:s.type._context;o&&o!==kl&&!t.has(o)&&t.set(o,_.useContext(Pd(o)))}s=s.return}return t}function km(){const l=Pm();return _.useMemo(()=>Array.from(l.keys()).reduce((t,s)=>d=>_.createElement(t,null,_.createElement(s.Provider,Gm(Dc({},d),{value:l.get(s)}))),t=>_.createElement(kd,Dc({},t))),[l])}function Lm({debounce:l,scroll:t,polyfill:s,offsetSize:d}={debounce:0,scroll:!1,offsetSize:!1}){const o=s||typeof window<"u"&&window.ResizeObserver,[r,i]=_.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0});if(!o)return r.width=1280,r.height=800,[()=>{},r,()=>{}];const c=_.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:r,orientationHandler:null}),u=l?typeof l=="number"?l:l.scroll:null,f=l?typeof l=="number"?l:l.resize:null,h=_.useRef(!1);_.useEffect(()=>(h.current=!0,()=>void(h.current=!1)));const[m,A,y]=_.useMemo(()=>{const S=()=>{if(!c.current.element)return;const{left:x,top:w,width:T,height:D,bottom:P,right:G,x:b,y:H}=c.current.element.getBoundingClientRect(),N={left:x,top:w,width:T,height:D,bottom:P,right:G,x:b,y:H};c.current.element instanceof HTMLElement&&d&&(N.height=c.current.element.offsetHeight,N.width=c.current.element.offsetWidth),Object.freeze(N),h.current&&!Nm(c.current.lastBounds,N)&&i(c.current.lastBounds=N)};return[S,f?Tc(S,f):S,u?Tc(S,u):S]},[i,d,u,f]);function B(){c.current.scrollContainers&&(c.current.scrollContainers.forEach(S=>S.removeEventListener("scroll",y,!0)),c.current.scrollContainers=null),c.current.resizeObserver&&(c.current.resizeObserver.disconnect(),c.current.resizeObserver=null),c.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",c.current.orientationHandler))}function C(){var S;c.current.element&&(c.current.resizeObserver=new o(A),(S=c.current.resizeObserver)==null||S.observe(c.current.element),t&&c.current.scrollContainers&&c.current.scrollContainers.forEach(x=>x.addEventListener("scroll",y,{capture:!0,passive:!0})),c.current.orientationHandler=()=>{y()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",c.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",c.current.orientationHandler))}const E=S=>{!S||S===c.current.element||(B(),c.current.element=S,c.current.scrollContainers=Ld(S),C())};return bm(y,!!t),Om(A),_.useEffect(()=>{B(),C()},[t,y,A]),_.useEffect(()=>B,[]),[E,r,m]}function Om(l){_.useEffect(()=>{const t=l;return window.addEventListener("resize",t),()=>void window.removeEventListener("resize",t)},[l])}function bm(l,t){_.useEffect(()=>{if(t){const s=l;return window.addEventListener("scroll",s,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",s,!0)}},[l,t])}function Ld(l){const t=[];if(!l||l===document.body)return t;const{overflow:s,overflowX:d,overflowY:o}=window.getComputedStyle(l);return[s,d,o].some(r=>r==="auto"||r==="scroll")&&t.push(l),[...t,...Ld(l.parentElement)]}const Hm=["x","y","top","bottom","left","right","width","height"],Nm=(l,t)=>Hm.every(s=>l[s]===t[s]),Jm=_.forwardRef(function({children:t,fallback:s,resize:d,style:o,gl:r,events:i=wm,eventSource:c,eventPrefix:u,shadows:f,linear:h,flat:m,legacy:A,orthographic:y,frameloop:B,dpr:C,performance:E,raycaster:S,camera:x,scene:w,onPointerMissed:T,onCreated:D,...P},G){_.useMemo(()=>Xs(ep),[]);const b=km(),[H,N]=Lm({scroll:!0,debounce:{scroll:50,resize:0},...d}),W=_.useRef(null),I=_.useRef(null);_.useImperativeHandle(G,()=>W.current);const X=Sd(T),[Q,$]=_.useState(!1),[te,se]=_.useState(!1);if(Q)throw Q;if(te)throw te;const Y=_.useRef(null);Ro(()=>{const k=W.current;N.width>0&&N.height>0&&k&&(Y.current||(Y.current=Em(k)),Y.current.configure({gl:r,events:i,shadows:f,linear:h,flat:m,legacy:A,orthographic:y,frameloop:B,dpr:C,performance:E,raycaster:S,camera:x,scene:w,size:N,onPointerMissed:(...F)=>X.current==null?void 0:X.current(...F),onCreated:F=>{F.events.connect==null||F.events.connect(c?sm(c)?c.current:c:I.current),u&&F.setEvents({compute:(R,L)=>{const K=R[u+"X"],j=R[u+"Y"];L.pointer.set(K/L.size.width*2-1,-(j/L.size.height)*2+1),L.raycaster.setFromCamera(L.pointer,L.camera)}}),D==null||D(F)}}),Y.current.render(Wt.jsx(b,{children:Wt.jsx(xd,{set:se,children:Wt.jsx(_.Suspense,{fallback:Wt.jsx(am,{set:$}),children:t})})})))}),_.useEffect(()=>{const k=W.current;if(k)return()=>Gd(k)},[]);const J=c?"none":"auto";return Wt.jsx("div",{ref:I,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:J,...o},...P,children:Wt.jsx("div",{ref:H,style:{width:"100%",height:"100%"},children:Wt.jsx("canvas",{ref:W,style:{display:"block"},children:s})})})}),LA=_.forwardRef(function(t,s){return Wt.jsx(kd,{children:Wt.jsx(Jm,{...t,ref:s})})});let ui;function OA(){var l;if(ui!==void 0)return ui;try{let t;const s=document.createElement("canvas");return ui=!!(window.WebGL2RenderingContext&&(t=s.getContext("webgl2"))),t&&((l=t.getExtension("WEBGL_lose_context"))==null||l.loseContext()),ui}catch{return ui=!1}}const jm=parseInt($f.replace(/\D+/g,""));function Pc(l,t){if(t===tp)return console.warn("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Geometry already defined as triangles."),l;if(t===dl||t===ed){let s=l.getIndex();if(s===null){const i=[],c=l.getAttribute("position");if(c!==void 0){for(let u=0;u<c.count;u++)i.push(u);l.setIndex(i),s=l.getIndex()}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Undefined position attribute. Processing not possible."),l}const d=s.count-2,o=[];if(s)if(t===dl)for(let i=1;i<=d;i++)o.push(s.getX(0)),o.push(s.getX(i)),o.push(s.getX(i+1));else for(let i=0;i<d;i++)i%2===0?(o.push(s.getX(i)),o.push(s.getX(i+1)),o.push(s.getX(i+2))):(o.push(s.getX(i+2)),o.push(s.getX(i+1)),o.push(s.getX(i)));o.length/3!==d&&console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unable to generate correct amount of triangles.");const r=l.clone();return r.setIndex(o),r.clearGroups(),r}else return console.error("THREE.BufferGeometryUtils.toTrianglesDrawMode(): Unknown draw mode:",t),l}function Js(l){if(typeof TextDecoder<"u")return new TextDecoder().decode(l);let t="";for(let s=0,d=l.length;s<d;s++)t+=String.fromCharCode(l[s]);try{return decodeURIComponent(escape(t))}catch{return t}}const jr="srgb",sr="srgb-linear",kc=3001,zm=3e3;class Ll extends td{constructor(t){super(t),this.dracoLoader=null,this.ktx2Loader=null,this.meshoptDecoder=null,this.pluginCallbacks=[],this.register(function(s){return new Ym(s)}),this.register(function(s){return new Vm(s)}),this.register(function(s){return new iv(s)}),this.register(function(s){return new sv(s)}),this.register(function(s){return new av(s)}),this.register(function(s){return new qm(s)}),this.register(function(s){return new $m(s)}),this.register(function(s){return new ev(s)}),this.register(function(s){return new tv(s)}),this.register(function(s){return new Xm(s)}),this.register(function(s){return new nv(s)}),this.register(function(s){return new Zm(s)}),this.register(function(s){return new ov(s)}),this.register(function(s){return new rv(s)}),this.register(function(s){return new Wm(s)}),this.register(function(s){return new lv(s)}),this.register(function(s){return new uv(s)})}load(t,s,d,o){const r=this;let i;if(this.resourcePath!=="")i=this.resourcePath;else if(this.path!==""){const f=Si.extractUrlBase(t);i=Si.resolveURL(f,this.path)}else i=Si.extractUrlBase(t);this.manager.itemStart(t);const c=function(f){o?o(f):console.error(f),r.manager.itemError(t),r.manager.itemEnd(t)},u=new Hs(this.manager);u.setPath(this.path),u.setResponseType("arraybuffer"),u.setRequestHeader(this.requestHeader),u.setWithCredentials(this.withCredentials),u.load(t,function(f){try{r.parse(f,i,function(h){s(h),r.manager.itemEnd(t)},c)}catch(h){c(h)}},d,c)}setDRACOLoader(t){return this.dracoLoader=t,this}setDDSLoader(){throw new Error('THREE.GLTFLoader: "MSFT_texture_dds" no longer supported. Please update to "KHR_texture_basisu".')}setKTX2Loader(t){return this.ktx2Loader=t,this}setMeshoptDecoder(t){return this.meshoptDecoder=t,this}register(t){return this.pluginCallbacks.indexOf(t)===-1&&this.pluginCallbacks.push(t),this}unregister(t){return this.pluginCallbacks.indexOf(t)!==-1&&this.pluginCallbacks.splice(this.pluginCallbacks.indexOf(t),1),this}parse(t,s,d,o){let r;const i={},c={};if(typeof t=="string")r=JSON.parse(t);else if(t instanceof ArrayBuffer)if(Js(new Uint8Array(t.slice(0,4)))===Od){try{i[ze.KHR_BINARY_GLTF]=new cv(t)}catch(h){o&&o(h);return}r=JSON.parse(i[ze.KHR_BINARY_GLTF].content)}else r=JSON.parse(Js(new Uint8Array(t)));else r=t;if(r.asset===void 0||r.asset.version[0]<2){o&&o(new Error("THREE.GLTFLoader: Unsupported asset. glTF versions >=2.0 are supported."));return}const u=new Sv(r,{path:s||this.resourcePath||"",crossOrigin:this.crossOrigin,requestHeader:this.requestHeader,manager:this.manager,ktx2Loader:this.ktx2Loader,meshoptDecoder:this.meshoptDecoder});u.fileLoader.setRequestHeader(this.requestHeader);for(let f=0;f<this.pluginCallbacks.length;f++){const h=this.pluginCallbacks[f](u);h.name||console.error("THREE.GLTFLoader: Invalid plugin found: missing name"),c[h.name]=h,i[h.name]=!0}if(r.extensionsUsed)for(let f=0;f<r.extensionsUsed.length;++f){const h=r.extensionsUsed[f],m=r.extensionsRequired||[];switch(h){case ze.KHR_MATERIALS_UNLIT:i[h]=new Qm;break;case ze.KHR_DRACO_MESH_COMPRESSION:i[h]=new fv(r,this.dracoLoader);break;case ze.KHR_TEXTURE_TRANSFORM:i[h]=new dv;break;case ze.KHR_MESH_QUANTIZATION:i[h]=new hv;break;default:m.indexOf(h)>=0&&c[h]===void 0&&console.warn('THREE.GLTFLoader: Unknown extension "'+h+'".')}}u.setExtensions(i),u.setPlugins(c),u.parse(d,o)}parseAsync(t,s){const d=this;return new Promise(function(o,r){d.parse(t,s,o,r)})}}function Km(){let l={};return{get:function(t){return l[t]},add:function(t,s){l[t]=s},remove:function(t){delete l[t]},removeAll:function(){l={}}}}const ze={KHR_BINARY_GLTF:"KHR_binary_glTF",KHR_DRACO_MESH_COMPRESSION:"KHR_draco_mesh_compression",KHR_LIGHTS_PUNCTUAL:"KHR_lights_punctual",KHR_MATERIALS_CLEARCOAT:"KHR_materials_clearcoat",KHR_MATERIALS_DISPERSION:"KHR_materials_dispersion",KHR_MATERIALS_IOR:"KHR_materials_ior",KHR_MATERIALS_SHEEN:"KHR_materials_sheen",KHR_MATERIALS_SPECULAR:"KHR_materials_specular",KHR_MATERIALS_TRANSMISSION:"KHR_materials_transmission",KHR_MATERIALS_IRIDESCENCE:"KHR_materials_iridescence",KHR_MATERIALS_ANISOTROPY:"KHR_materials_anisotropy",KHR_MATERIALS_UNLIT:"KHR_materials_unlit",KHR_MATERIALS_VOLUME:"KHR_materials_volume",KHR_TEXTURE_BASISU:"KHR_texture_basisu",KHR_TEXTURE_TRANSFORM:"KHR_texture_transform",KHR_MESH_QUANTIZATION:"KHR_mesh_quantization",KHR_MATERIALS_EMISSIVE_STRENGTH:"KHR_materials_emissive_strength",EXT_MATERIALS_BUMP:"EXT_materials_bump",EXT_TEXTURE_WEBP:"EXT_texture_webp",EXT_TEXTURE_AVIF:"EXT_texture_avif",EXT_MESHOPT_COMPRESSION:"EXT_meshopt_compression",EXT_MESH_GPU_INSTANCING:"EXT_mesh_gpu_instancing"};class Wm{constructor(t){this.parser=t,this.name=ze.KHR_LIGHTS_PUNCTUAL,this.cache={refs:{},uses:{}}}_markDefs(){const t=this.parser,s=this.parser.json.nodes||[];for(let d=0,o=s.length;d<o;d++){const r=s[d];r.extensions&&r.extensions[this.name]&&r.extensions[this.name].light!==void 0&&t._addNodeRef(this.cache,r.extensions[this.name].light)}}_loadLight(t){const s=this.parser,d="light:"+t;let o=s.cache.get(d);if(o)return o;const r=s.json,u=((r.extensions&&r.extensions[this.name]||{}).lights||[])[t];let f;const h=new bt(16777215);u.color!==void 0&&h.setRGB(u.color[0],u.color[1],u.color[2],sr);const m=u.range!==void 0?u.range:0;switch(u.type){case"directional":f=new op(h),f.target.position.set(0,0,-1),f.add(f.target);break;case"point":f=new rp(h),f.distance=m;break;case"spot":f=new np(h),f.distance=m,u.spot=u.spot||{},u.spot.innerConeAngle=u.spot.innerConeAngle!==void 0?u.spot.innerConeAngle:0,u.spot.outerConeAngle=u.spot.outerConeAngle!==void 0?u.spot.outerConeAngle:Math.PI/4,f.angle=u.spot.outerConeAngle,f.penumbra=1-u.spot.innerConeAngle/u.spot.outerConeAngle,f.target.position.set(0,0,-1),f.add(f.target);break;default:throw new Error("THREE.GLTFLoader: Unexpected light type: "+u.type)}return f.position.set(0,0,0),f.decay=2,ir(f,u),u.intensity!==void 0&&(f.intensity=u.intensity),f.name=s.createUniqueName(u.name||"light_"+t),o=Promise.resolve(f),s.cache.add(d,o),o}getDependency(t,s){if(t==="light")return this._loadLight(s)}createNodeAttachment(t){const s=this,d=this.parser,r=d.json.nodes[t],c=(r.extensions&&r.extensions[this.name]||{}).light;return c===void 0?null:this._loadLight(c).then(function(u){return d._getNodeRef(s.cache,c,u)})}}class Qm{constructor(){this.name=ze.KHR_MATERIALS_UNLIT}getMaterialType(){return So}extendParams(t,s,d){const o=[];t.color=new bt(1,1,1),t.opacity=1;const r=s.pbrMetallicRoughness;if(r){if(Array.isArray(r.baseColorFactor)){const i=r.baseColorFactor;t.color.setRGB(i[0],i[1],i[2],sr),t.opacity=i[3]}r.baseColorTexture!==void 0&&o.push(d.assignTexture(t,"map",r.baseColorTexture,jr))}return Promise.all(o)}}class Xm{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_EMISSIVE_STRENGTH}extendMaterialParams(t,s){const o=this.parser.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=o.extensions[this.name].emissiveStrength;return r!==void 0&&(s.emissiveIntensity=r),Promise.resolve()}}class Ym{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_CLEARCOAT}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const d=this.parser,o=d.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];if(i.clearcoatFactor!==void 0&&(s.clearcoat=i.clearcoatFactor),i.clearcoatTexture!==void 0&&r.push(d.assignTexture(s,"clearcoatMap",i.clearcoatTexture)),i.clearcoatRoughnessFactor!==void 0&&(s.clearcoatRoughness=i.clearcoatRoughnessFactor),i.clearcoatRoughnessTexture!==void 0&&r.push(d.assignTexture(s,"clearcoatRoughnessMap",i.clearcoatRoughnessTexture)),i.clearcoatNormalTexture!==void 0&&(r.push(d.assignTexture(s,"clearcoatNormalMap",i.clearcoatNormalTexture)),i.clearcoatNormalTexture.scale!==void 0)){const c=i.clearcoatNormalTexture.scale;s.clearcoatNormalScale=new Rt(c,c)}return Promise.all(r)}}class Vm{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_DISPERSION}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const o=this.parser.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=o.extensions[this.name];return s.dispersion=r.dispersion!==void 0?r.dispersion:0,Promise.resolve()}}class Zm{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_IRIDESCENCE}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const d=this.parser,o=d.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];return i.iridescenceFactor!==void 0&&(s.iridescence=i.iridescenceFactor),i.iridescenceTexture!==void 0&&r.push(d.assignTexture(s,"iridescenceMap",i.iridescenceTexture)),i.iridescenceIor!==void 0&&(s.iridescenceIOR=i.iridescenceIor),s.iridescenceThicknessRange===void 0&&(s.iridescenceThicknessRange=[100,400]),i.iridescenceThicknessMinimum!==void 0&&(s.iridescenceThicknessRange[0]=i.iridescenceThicknessMinimum),i.iridescenceThicknessMaximum!==void 0&&(s.iridescenceThicknessRange[1]=i.iridescenceThicknessMaximum),i.iridescenceThicknessTexture!==void 0&&r.push(d.assignTexture(s,"iridescenceThicknessMap",i.iridescenceThicknessTexture)),Promise.all(r)}}class qm{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_SHEEN}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const d=this.parser,o=d.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[];s.sheenColor=new bt(0,0,0),s.sheenRoughness=0,s.sheen=1;const i=o.extensions[this.name];if(i.sheenColorFactor!==void 0){const c=i.sheenColorFactor;s.sheenColor.setRGB(c[0],c[1],c[2],sr)}return i.sheenRoughnessFactor!==void 0&&(s.sheenRoughness=i.sheenRoughnessFactor),i.sheenColorTexture!==void 0&&r.push(d.assignTexture(s,"sheenColorMap",i.sheenColorTexture,jr)),i.sheenRoughnessTexture!==void 0&&r.push(d.assignTexture(s,"sheenRoughnessMap",i.sheenRoughnessTexture)),Promise.all(r)}}class $m{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_TRANSMISSION}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const d=this.parser,o=d.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];return i.transmissionFactor!==void 0&&(s.transmission=i.transmissionFactor),i.transmissionTexture!==void 0&&r.push(d.assignTexture(s,"transmissionMap",i.transmissionTexture)),Promise.all(r)}}class ev{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_VOLUME}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const d=this.parser,o=d.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];s.thickness=i.thicknessFactor!==void 0?i.thicknessFactor:0,i.thicknessTexture!==void 0&&r.push(d.assignTexture(s,"thicknessMap",i.thicknessTexture)),s.attenuationDistance=i.attenuationDistance||1/0;const c=i.attenuationColor||[1,1,1];return s.attenuationColor=new bt().setRGB(c[0],c[1],c[2],sr),Promise.all(r)}}class tv{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_IOR}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const o=this.parser.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=o.extensions[this.name];return s.ior=r.ior!==void 0?r.ior:1.5,Promise.resolve()}}class nv{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_SPECULAR}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const d=this.parser,o=d.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];s.specularIntensity=i.specularFactor!==void 0?i.specularFactor:1,i.specularTexture!==void 0&&r.push(d.assignTexture(s,"specularIntensityMap",i.specularTexture));const c=i.specularColorFactor||[1,1,1];return s.specularColor=new bt().setRGB(c[0],c[1],c[2],sr),i.specularColorTexture!==void 0&&r.push(d.assignTexture(s,"specularColorMap",i.specularColorTexture,jr)),Promise.all(r)}}class rv{constructor(t){this.parser=t,this.name=ze.EXT_MATERIALS_BUMP}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const d=this.parser,o=d.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];return s.bumpScale=i.bumpFactor!==void 0?i.bumpFactor:1,i.bumpTexture!==void 0&&r.push(d.assignTexture(s,"bumpMap",i.bumpTexture)),Promise.all(r)}}class ov{constructor(t){this.parser=t,this.name=ze.KHR_MATERIALS_ANISOTROPY}getMaterialType(t){const d=this.parser.json.materials[t];return!d.extensions||!d.extensions[this.name]?null:Wn}extendMaterialParams(t,s){const d=this.parser,o=d.json.materials[t];if(!o.extensions||!o.extensions[this.name])return Promise.resolve();const r=[],i=o.extensions[this.name];return i.anisotropyStrength!==void 0&&(s.anisotropy=i.anisotropyStrength),i.anisotropyRotation!==void 0&&(s.anisotropyRotation=i.anisotropyRotation),i.anisotropyTexture!==void 0&&r.push(d.assignTexture(s,"anisotropyMap",i.anisotropyTexture)),Promise.all(r)}}class iv{constructor(t){this.parser=t,this.name=ze.KHR_TEXTURE_BASISU}loadTexture(t){const s=this.parser,d=s.json,o=d.textures[t];if(!o.extensions||!o.extensions[this.name])return null;const r=o.extensions[this.name],i=s.options.ktx2Loader;if(!i){if(d.extensionsRequired&&d.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setKTX2Loader must be called before loading KTX2 textures");return null}return s.loadTextureImage(t,r.source,i)}}class sv{constructor(t){this.parser=t,this.name=ze.EXT_TEXTURE_WEBP,this.isSupported=null}loadTexture(t){const s=this.name,d=this.parser,o=d.json,r=o.textures[t];if(!r.extensions||!r.extensions[s])return null;const i=r.extensions[s],c=o.images[i.source];let u=d.textureLoader;if(c.uri){const f=d.options.manager.getHandler(c.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return d.loadTextureImage(t,i.source,u);if(o.extensionsRequired&&o.extensionsRequired.indexOf(s)>=0)throw new Error("THREE.GLTFLoader: WebP required by asset but unsupported.");return d.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const s=new Image;s.src="data:image/webp;base64,UklGRiIAAABXRUJQVlA4IBYAAAAwAQCdASoBAAEADsD+JaQAA3AAAAAA",s.onload=s.onerror=function(){t(s.height===1)}})),this.isSupported}}class av{constructor(t){this.parser=t,this.name=ze.EXT_TEXTURE_AVIF,this.isSupported=null}loadTexture(t){const s=this.name,d=this.parser,o=d.json,r=o.textures[t];if(!r.extensions||!r.extensions[s])return null;const i=r.extensions[s],c=o.images[i.source];let u=d.textureLoader;if(c.uri){const f=d.options.manager.getHandler(c.uri);f!==null&&(u=f)}return this.detectSupport().then(function(f){if(f)return d.loadTextureImage(t,i.source,u);if(o.extensionsRequired&&o.extensionsRequired.indexOf(s)>=0)throw new Error("THREE.GLTFLoader: AVIF required by asset but unsupported.");return d.loadTexture(t)})}detectSupport(){return this.isSupported||(this.isSupported=new Promise(function(t){const s=new Image;s.src="data:image/avif;base64,AAAAIGZ0eXBhdmlmAAAAAGF2aWZtaWYxbWlhZk1BMUIAAADybWV0YQAAAAAAAAAoaGRscgAAAAAAAAAAcGljdAAAAAAAAAAAAAAAAGxpYmF2aWYAAAAADnBpdG0AAAAAAAEAAAAeaWxvYwAAAABEAAABAAEAAAABAAABGgAAABcAAAAoaWluZgAAAAAAAQAAABppbmZlAgAAAAABAABhdjAxQ29sb3IAAAAAamlwcnAAAABLaXBjbwAAABRpc3BlAAAAAAAAAAEAAAABAAAAEHBpeGkAAAAAAwgICAAAAAxhdjFDgQAMAAAAABNjb2xybmNseAACAAIABoAAAAAXaXBtYQAAAAAAAAABAAEEAQKDBAAAAB9tZGF0EgAKCBgABogQEDQgMgkQAAAAB8dSLfI=",s.onload=s.onerror=function(){t(s.height===1)}})),this.isSupported}}class lv{constructor(t){this.name=ze.EXT_MESHOPT_COMPRESSION,this.parser=t}loadBufferView(t){const s=this.parser.json,d=s.bufferViews[t];if(d.extensions&&d.extensions[this.name]){const o=d.extensions[this.name],r=this.parser.getDependency("buffer",o.buffer),i=this.parser.options.meshoptDecoder;if(!i||!i.supported){if(s.extensionsRequired&&s.extensionsRequired.indexOf(this.name)>=0)throw new Error("THREE.GLTFLoader: setMeshoptDecoder must be called before loading compressed files");return null}return r.then(function(c){const u=o.byteOffset||0,f=o.byteLength||0,h=o.count,m=o.byteStride,A=new Uint8Array(c,u,f);return i.decodeGltfBufferAsync?i.decodeGltfBufferAsync(h,m,A,o.mode,o.filter).then(function(y){return y.buffer}):i.ready.then(function(){const y=new ArrayBuffer(h*m);return i.decodeGltfBuffer(new Uint8Array(y),h,m,A,o.mode,o.filter),y})})}else return null}}class uv{constructor(t){this.name=ze.EXT_MESH_GPU_INSTANCING,this.parser=t}createNodeMesh(t){const s=this.parser.json,d=s.nodes[t];if(!d.extensions||!d.extensions[this.name]||d.mesh===void 0)return null;const o=s.meshes[d.mesh];for(const f of o.primitives)if(f.mode!==Mn.TRIANGLES&&f.mode!==Mn.TRIANGLE_STRIP&&f.mode!==Mn.TRIANGLE_FAN&&f.mode!==void 0)return null;const i=d.extensions[this.name].attributes,c=[],u={};for(const f in i)c.push(this.parser.getDependency("accessor",i[f]).then(h=>(u[f]=h,u[f])));return c.length<1?null:(c.push(this.parser.createNodeMesh(t)),Promise.all(c).then(f=>{const h=f.pop(),m=h.isGroup?h.children:[h],A=f[0].count,y=[];for(const B of m){const C=new qt,E=new Ke,S=new Br,x=new Ke(1,1,1),w=new ip(B.geometry,B.material,A);for(let T=0;T<A;T++)u.TRANSLATION&&E.fromBufferAttribute(u.TRANSLATION,T),u.ROTATION&&S.fromBufferAttribute(u.ROTATION,T),u.SCALE&&x.fromBufferAttribute(u.SCALE,T),w.setMatrixAt(T,C.compose(E,S,x));for(const T in u)if(T==="_COLOR_0"){const D=u[T];w.instanceColor=new nd(D.array,D.itemSize,D.normalized)}else T!=="TRANSLATION"&&T!=="ROTATION"&&T!=="SCALE"&&B.geometry.setAttribute(T,u[T]);Fi.prototype.copy.call(w,B),this.parser.assignFinalMaterial(w),y.push(w)}return h.isGroup?(h.clear(),h.add(...y),h):y[0]}))}}const Od="glTF",ci=12,Lc={JSON:1313821514,BIN:5130562};class cv{constructor(t){this.name=ze.KHR_BINARY_GLTF,this.content=null,this.body=null;const s=new DataView(t,0,ci);if(this.header={magic:Js(new Uint8Array(t.slice(0,4))),version:s.getUint32(4,!0),length:s.getUint32(8,!0)},this.header.magic!==Od)throw new Error("THREE.GLTFLoader: Unsupported glTF-Binary header.");if(this.header.version<2)throw new Error("THREE.GLTFLoader: Legacy binary file detected.");const d=this.header.length-ci,o=new DataView(t,ci);let r=0;for(;r<d;){const i=o.getUint32(r,!0);r+=4;const c=o.getUint32(r,!0);if(r+=4,c===Lc.JSON){const u=new Uint8Array(t,ci+r,i);this.content=Js(u)}else if(c===Lc.BIN){const u=ci+r;this.body=t.slice(u,u+i)}r+=i}if(this.content===null)throw new Error("THREE.GLTFLoader: JSON content not found.")}}class fv{constructor(t,s){if(!s)throw new Error("THREE.GLTFLoader: No DRACOLoader instance provided.");this.name=ze.KHR_DRACO_MESH_COMPRESSION,this.json=t,this.dracoLoader=s,this.dracoLoader.preload()}decodePrimitive(t,s){const d=this.json,o=this.dracoLoader,r=t.extensions[this.name].bufferView,i=t.extensions[this.name].attributes,c={},u={},f={};for(const h in i){const m=gl[h]||h.toLowerCase();c[m]=i[h]}for(const h in t.attributes){const m=gl[h]||h.toLowerCase();if(i[h]!==void 0){const A=d.accessors[t.attributes[h]],y=Mo[A.componentType];f[m]=y.name,u[m]=A.normalized===!0}}return s.getDependency("bufferView",r).then(function(h){return new Promise(function(m,A){o.decodeDracoFile(h,function(y){for(const B in y.attributes){const C=y.attributes[B],E=u[B];E!==void 0&&(C.normalized=E)}m(y)},c,f,sr,A)})})}}class dv{constructor(){this.name=ze.KHR_TEXTURE_TRANSFORM}extendTexture(t,s){return(s.texCoord===void 0||s.texCoord===t.channel)&&s.offset===void 0&&s.rotation===void 0&&s.scale===void 0||(t=t.clone(),s.texCoord!==void 0&&(t.channel=s.texCoord),s.offset!==void 0&&t.offset.fromArray(s.offset),s.rotation!==void 0&&(t.rotation=s.rotation),s.scale!==void 0&&t.repeat.fromArray(s.scale),t.needsUpdate=!0),t}}class hv{constructor(){this.name=ze.KHR_MESH_QUANTIZATION}}class bd extends Fp{constructor(t,s,d,o){super(t,s,d,o)}copySampleValue_(t){const s=this.resultBuffer,d=this.sampleValues,o=this.valueSize,r=t*o*3+o;for(let i=0;i!==o;i++)s[i]=d[r+i];return s}interpolate_(t,s,d,o){const r=this.resultBuffer,i=this.sampleValues,c=this.valueSize,u=c*2,f=c*3,h=o-s,m=(d-s)/h,A=m*m,y=A*m,B=t*f,C=B-f,E=-2*y+3*A,S=y-A,x=1-E,w=S-A+m;for(let T=0;T!==c;T++){const D=i[C+T+c],P=i[C+T+u]*h,G=i[B+T+c],b=i[B+T]*h;r[T]=x*D+w*P+E*G+S*b}return r}}const pv=new Br;class mv extends bd{interpolate_(t,s,d,o){const r=super.interpolate_(t,s,d,o);return pv.fromArray(r).normalize().toArray(r),r}}const Mn={FLOAT:5126,FLOAT_MAT3:35675,FLOAT_MAT4:35676,FLOAT_VEC2:35664,FLOAT_VEC3:35665,FLOAT_VEC4:35666,LINEAR:9729,REPEAT:10497,SAMPLER_2D:35678,POINTS:0,LINES:1,LINE_LOOP:2,LINE_STRIP:3,TRIANGLES:4,TRIANGLE_STRIP:5,TRIANGLE_FAN:6,UNSIGNED_BYTE:5121,UNSIGNED_SHORT:5123},Mo={5120:Int8Array,5121:Uint8Array,5122:Int16Array,5123:Uint16Array,5125:Uint32Array,5126:Float32Array},Oc={9728:yp,9729:Kn,9984:Bp,9985:Cp,9986:Ep,9987:rd},bc={33071:Sp,33648:xp,10497:hl},tl={SCALAR:1,VEC2:2,VEC3:3,VEC4:4,MAT2:4,MAT3:9,MAT4:16},gl={POSITION:"position",NORMAL:"normal",TANGENT:"tangent",...jm>=152?{TEXCOORD_0:"uv",TEXCOORD_1:"uv1",TEXCOORD_2:"uv2",TEXCOORD_3:"uv3"}:{TEXCOORD_0:"uv",TEXCOORD_1:"uv2"},COLOR_0:"color",WEIGHTS_0:"skinWeight",JOINTS_0:"skinIndex"},yr={scale:"scale",translation:"position",rotation:"quaternion",weights:"morphTargetInfluences"},vv={CUBICSPLINE:void 0,LINEAR:od,STEP:Mp},nl={OPAQUE:"OPAQUE",MASK:"MASK",BLEND:"BLEND"};function Av(l){return l.DefaultMaterial===void 0&&(l.DefaultMaterial=new Tl({color:16777215,emissive:0,metalness:1,roughness:1,transparent:!1,depthTest:!0,side:id})),l.DefaultMaterial}function br(l,t,s){for(const d in s.extensions)l[d]===void 0&&(t.userData.gltfExtensions=t.userData.gltfExtensions||{},t.userData.gltfExtensions[d]=s.extensions[d])}function ir(l,t){t.extras!==void 0&&(typeof t.extras=="object"?Object.assign(l.userData,t.extras):console.warn("THREE.GLTFLoader: Ignoring primitive type .extras, "+t.extras))}function gv(l,t,s){let d=!1,o=!1,r=!1;for(let f=0,h=t.length;f<h;f++){const m=t[f];if(m.POSITION!==void 0&&(d=!0),m.NORMAL!==void 0&&(o=!0),m.COLOR_0!==void 0&&(r=!0),d&&o&&r)break}if(!d&&!o&&!r)return Promise.resolve(l);const i=[],c=[],u=[];for(let f=0,h=t.length;f<h;f++){const m=t[f];if(d){const A=m.POSITION!==void 0?s.getDependency("accessor",m.POSITION):l.attributes.position;i.push(A)}if(o){const A=m.NORMAL!==void 0?s.getDependency("accessor",m.NORMAL):l.attributes.normal;c.push(A)}if(r){const A=m.COLOR_0!==void 0?s.getDependency("accessor",m.COLOR_0):l.attributes.color;u.push(A)}}return Promise.all([Promise.all(i),Promise.all(c),Promise.all(u)]).then(function(f){const h=f[0],m=f[1],A=f[2];return d&&(l.morphAttributes.position=h),o&&(l.morphAttributes.normal=m),r&&(l.morphAttributes.color=A),l.morphTargetsRelative=!0,l})}function yv(l,t){if(l.updateMorphTargets(),t.weights!==void 0)for(let s=0,d=t.weights.length;s<d;s++)l.morphTargetInfluences[s]=t.weights[s];if(t.extras&&Array.isArray(t.extras.targetNames)){const s=t.extras.targetNames;if(l.morphTargetInfluences.length===s.length){l.morphTargetDictionary={};for(let d=0,o=s.length;d<o;d++)l.morphTargetDictionary[s[d]]=d}else console.warn("THREE.GLTFLoader: Invalid extras.targetNames length. Ignoring names.")}}function Bv(l){let t;const s=l.extensions&&l.extensions[ze.KHR_DRACO_MESH_COMPRESSION];if(s?t="draco:"+s.bufferView+":"+s.indices+":"+rl(s.attributes):t=l.indices+":"+rl(l.attributes)+":"+l.mode,l.targets!==void 0)for(let d=0,o=l.targets.length;d<o;d++)t+=":"+rl(l.targets[d]);return t}function rl(l){let t="";const s=Object.keys(l).sort();for(let d=0,o=s.length;d<o;d++)t+=s[d]+":"+l[s[d]]+";";return t}function yl(l){switch(l){case Int8Array:return 1/127;case Uint8Array:return 1/255;case Int16Array:return 1/32767;case Uint16Array:return 1/65535;default:throw new Error("THREE.GLTFLoader: Unsupported normalized accessor component type.")}}function Cv(l){return l.search(/\.jpe?g($|\?)/i)>0||l.search(/^data\:image\/jpeg/)===0?"image/jpeg":l.search(/\.webp($|\?)/i)>0||l.search(/^data\:image\/webp/)===0?"image/webp":"image/png"}const Ev=new qt;class Sv{constructor(t={},s={}){this.json=t,this.extensions={},this.plugins={},this.options=s,this.cache=new Km,this.associations=new Map,this.primitiveCache={},this.nodeCache={},this.meshCache={refs:{},uses:{}},this.cameraCache={refs:{},uses:{}},this.lightCache={refs:{},uses:{}},this.sourceCache={},this.textureCache={},this.nodeNamesUsed={};let d=!1,o=!1,r=-1;typeof navigator<"u"&&typeof navigator.userAgent<"u"&&(d=/^((?!chrome|android).)*safari/i.test(navigator.userAgent)===!0,o=navigator.userAgent.indexOf("Firefox")>-1,r=o?navigator.userAgent.match(/Firefox\/([0-9]+)\./)[1]:-1),typeof createImageBitmap>"u"||d||o&&r<98?this.textureLoader=new Ks(this.options.manager):this.textureLoader=new sp(this.options.manager),this.textureLoader.setCrossOrigin(this.options.crossOrigin),this.textureLoader.setRequestHeader(this.options.requestHeader),this.fileLoader=new Hs(this.options.manager),this.fileLoader.setResponseType("arraybuffer"),this.options.crossOrigin==="use-credentials"&&this.fileLoader.setWithCredentials(!0)}setExtensions(t){this.extensions=t}setPlugins(t){this.plugins=t}parse(t,s){const d=this,o=this.json,r=this.extensions;this.cache.removeAll(),this.nodeCache={},this._invokeAll(function(i){return i._markDefs&&i._markDefs()}),Promise.all(this._invokeAll(function(i){return i.beforeRoot&&i.beforeRoot()})).then(function(){return Promise.all([d.getDependencies("scene"),d.getDependencies("animation"),d.getDependencies("camera")])}).then(function(i){const c={scene:i[0][o.scene||0],scenes:i[0],animations:i[1],cameras:i[2],asset:o.asset,parser:d,userData:{}};return br(r,c,o),ir(c,o),Promise.all(d._invokeAll(function(u){return u.afterRoot&&u.afterRoot(c)})).then(function(){for(const u of c.scenes)u.updateMatrixWorld();t(c)})}).catch(s)}_markDefs(){const t=this.json.nodes||[],s=this.json.skins||[],d=this.json.meshes||[];for(let o=0,r=s.length;o<r;o++){const i=s[o].joints;for(let c=0,u=i.length;c<u;c++)t[i[c]].isBone=!0}for(let o=0,r=t.length;o<r;o++){const i=t[o];i.mesh!==void 0&&(this._addNodeRef(this.meshCache,i.mesh),i.skin!==void 0&&(d[i.mesh].isSkinnedMesh=!0)),i.camera!==void 0&&this._addNodeRef(this.cameraCache,i.camera)}}_addNodeRef(t,s){s!==void 0&&(t.refs[s]===void 0&&(t.refs[s]=t.uses[s]=0),t.refs[s]++)}_getNodeRef(t,s,d){if(t.refs[s]<=1)return d;const o=d.clone(),r=(i,c)=>{const u=this.associations.get(i);u!=null&&this.associations.set(c,u);for(const[f,h]of i.children.entries())r(h,c.children[f])};return r(d,o),o.name+="_instance_"+t.uses[s]++,o}_invokeOne(t){const s=Object.values(this.plugins);s.push(this);for(let d=0;d<s.length;d++){const o=t(s[d]);if(o)return o}return null}_invokeAll(t){const s=Object.values(this.plugins);s.unshift(this);const d=[];for(let o=0;o<s.length;o++){const r=t(s[o]);r&&d.push(r)}return d}getDependency(t,s){const d=t+":"+s;let o=this.cache.get(d);if(!o){switch(t){case"scene":o=this.loadScene(s);break;case"node":o=this._invokeOne(function(r){return r.loadNode&&r.loadNode(s)});break;case"mesh":o=this._invokeOne(function(r){return r.loadMesh&&r.loadMesh(s)});break;case"accessor":o=this.loadAccessor(s);break;case"bufferView":o=this._invokeOne(function(r){return r.loadBufferView&&r.loadBufferView(s)});break;case"buffer":o=this.loadBuffer(s);break;case"material":o=this._invokeOne(function(r){return r.loadMaterial&&r.loadMaterial(s)});break;case"texture":o=this._invokeOne(function(r){return r.loadTexture&&r.loadTexture(s)});break;case"skin":o=this.loadSkin(s);break;case"animation":o=this._invokeOne(function(r){return r.loadAnimation&&r.loadAnimation(s)});break;case"camera":o=this.loadCamera(s);break;default:if(o=this._invokeOne(function(r){return r!=this&&r.getDependency&&r.getDependency(t,s)}),!o)throw new Error("Unknown type: "+t);break}this.cache.add(d,o)}return o}getDependencies(t){let s=this.cache.get(t);if(!s){const d=this,o=this.json[t+(t==="mesh"?"es":"s")]||[];s=Promise.all(o.map(function(r,i){return d.getDependency(t,i)})),this.cache.add(t,s)}return s}loadBuffer(t){const s=this.json.buffers[t],d=this.fileLoader;if(s.type&&s.type!=="arraybuffer")throw new Error("THREE.GLTFLoader: "+s.type+" buffer type is not supported.");if(s.uri===void 0&&t===0)return Promise.resolve(this.extensions[ze.KHR_BINARY_GLTF].body);const o=this.options;return new Promise(function(r,i){d.load(Si.resolveURL(s.uri,o.path),r,void 0,function(){i(new Error('THREE.GLTFLoader: Failed to load buffer "'+s.uri+'".'))})})}loadBufferView(t){const s=this.json.bufferViews[t];return this.getDependency("buffer",s.buffer).then(function(d){const o=s.byteLength||0,r=s.byteOffset||0;return d.slice(r,r+o)})}loadAccessor(t){const s=this,d=this.json,o=this.json.accessors[t];if(o.bufferView===void 0&&o.sparse===void 0){const i=tl[o.type],c=Mo[o.componentType],u=o.normalized===!0,f=new c(o.count*i);return Promise.resolve(new zr(f,i,u))}const r=[];return o.bufferView!==void 0?r.push(this.getDependency("bufferView",o.bufferView)):r.push(null),o.sparse!==void 0&&(r.push(this.getDependency("bufferView",o.sparse.indices.bufferView)),r.push(this.getDependency("bufferView",o.sparse.values.bufferView))),Promise.all(r).then(function(i){const c=i[0],u=tl[o.type],f=Mo[o.componentType],h=f.BYTES_PER_ELEMENT,m=h*u,A=o.byteOffset||0,y=o.bufferView!==void 0?d.bufferViews[o.bufferView].byteStride:void 0,B=o.normalized===!0;let C,E;if(y&&y!==m){const S=Math.floor(A/y),x="InterleavedBuffer:"+o.bufferView+":"+o.componentType+":"+S+":"+o.count;let w=s.cache.get(x);w||(C=new f(c,S*y,o.count*y/h),w=new ap(C,y/h),s.cache.add(x,w)),E=new wp(w,u,A%y/h,B)}else c===null?C=new f(o.count*u):C=new f(c,A,o.count*u),E=new zr(C,u,B);if(o.sparse!==void 0){const S=tl.SCALAR,x=Mo[o.sparse.indices.componentType],w=o.sparse.indices.byteOffset||0,T=o.sparse.values.byteOffset||0,D=new x(i[1],w,o.sparse.count*S),P=new f(i[2],T,o.sparse.count*u);c!==null&&(E=new zr(E.array.slice(),E.itemSize,E.normalized));for(let G=0,b=D.length;G<b;G++){const H=D[G];if(E.setX(H,P[G*u]),u>=2&&E.setY(H,P[G*u+1]),u>=3&&E.setZ(H,P[G*u+2]),u>=4&&E.setW(H,P[G*u+3]),u>=5)throw new Error("THREE.GLTFLoader: Unsupported itemSize in sparse BufferAttribute.")}}return E})}loadTexture(t){const s=this.json,d=this.options,r=s.textures[t].source,i=s.images[r];let c=this.textureLoader;if(i.uri){const u=d.manager.getHandler(i.uri);u!==null&&(c=u)}return this.loadTextureImage(t,r,c)}loadTextureImage(t,s,d){const o=this,r=this.json,i=r.textures[t],c=r.images[s],u=(c.uri||c.bufferView)+":"+i.sampler;if(this.textureCache[u])return this.textureCache[u];const f=this.loadImageSource(s,d).then(function(h){h.flipY=!1,h.name=i.name||c.name||"",h.name===""&&typeof c.uri=="string"&&c.uri.startsWith("data:image/")===!1&&(h.name=c.uri);const A=(r.samplers||{})[i.sampler]||{};return h.magFilter=Oc[A.magFilter]||Kn,h.minFilter=Oc[A.minFilter]||rd,h.wrapS=bc[A.wrapS]||hl,h.wrapT=bc[A.wrapT]||hl,o.associations.set(h,{textures:t}),h}).catch(function(){return null});return this.textureCache[u]=f,f}loadImageSource(t,s){const d=this,o=this.json,r=this.options;if(this.sourceCache[t]!==void 0)return this.sourceCache[t].then(m=>m.clone());const i=o.images[t],c=self.URL||self.webkitURL;let u=i.uri||"",f=!1;if(i.bufferView!==void 0)u=d.getDependency("bufferView",i.bufferView).then(function(m){f=!0;const A=new Blob([m],{type:i.mimeType});return u=c.createObjectURL(A),u});else if(i.uri===void 0)throw new Error("THREE.GLTFLoader: Image "+t+" is missing URI and bufferView");const h=Promise.resolve(u).then(function(m){return new Promise(function(A,y){let B=A;s.isImageBitmapLoader===!0&&(B=function(C){const E=new Fo(C);E.needsUpdate=!0,A(E)}),s.load(Si.resolveURL(m,r.path),B,void 0,y)})}).then(function(m){return f===!0&&c.revokeObjectURL(u),ir(m,i),m.userData.mimeType=i.mimeType||Cv(i.uri),m}).catch(function(m){throw console.error("THREE.GLTFLoader: Couldn't load texture",u),m});return this.sourceCache[t]=h,h}assignTexture(t,s,d,o){const r=this;return this.getDependency("texture",d.index).then(function(i){if(!i)return null;if(d.texCoord!==void 0&&d.texCoord>0&&(i=i.clone(),i.channel=d.texCoord),r.extensions[ze.KHR_TEXTURE_TRANSFORM]){const c=d.extensions!==void 0?d.extensions[ze.KHR_TEXTURE_TRANSFORM]:void 0;if(c){const u=r.associations.get(i);i=r.extensions[ze.KHR_TEXTURE_TRANSFORM].extendTexture(i,c),r.associations.set(i,u)}}return o!==void 0&&(typeof o=="number"&&(o=o===kc?jr:sr),"colorSpace"in i?i.colorSpace=o:i.encoding=o===jr?kc:zm),t[s]=i,i})}assignFinalMaterial(t){const s=t.geometry;let d=t.material;const o=s.attributes.tangent===void 0,r=s.attributes.color!==void 0,i=s.attributes.normal===void 0;if(t.isPoints){const c="PointsMaterial:"+d.uuid;let u=this.cache.get(c);u||(u=new lp,Ei.prototype.copy.call(u,d),u.color.copy(d.color),u.map=d.map,u.sizeAttenuation=!1,this.cache.add(c,u)),d=u}else if(t.isLine){const c="LineBasicMaterial:"+d.uuid;let u=this.cache.get(c);u||(u=new up,Ei.prototype.copy.call(u,d),u.color.copy(d.color),u.map=d.map,this.cache.add(c,u)),d=u}if(o||r||i){let c="ClonedMaterial:"+d.uuid+":";o&&(c+="derivative-tangents:"),r&&(c+="vertex-colors:"),i&&(c+="flat-shading:");let u=this.cache.get(c);u||(u=d.clone(),r&&(u.vertexColors=!0),i&&(u.flatShading=!0),o&&(u.normalScale&&(u.normalScale.y*=-1),u.clearcoatNormalScale&&(u.clearcoatNormalScale.y*=-1)),this.cache.add(c,u),this.associations.set(u,this.associations.get(d))),d=u}t.material=d}getMaterialType(){return Tl}loadMaterial(t){const s=this,d=this.json,o=this.extensions,r=d.materials[t];let i;const c={},u=r.extensions||{},f=[];if(u[ze.KHR_MATERIALS_UNLIT]){const m=o[ze.KHR_MATERIALS_UNLIT];i=m.getMaterialType(),f.push(m.extendParams(c,r,s))}else{const m=r.pbrMetallicRoughness||{};if(c.color=new bt(1,1,1),c.opacity=1,Array.isArray(m.baseColorFactor)){const A=m.baseColorFactor;c.color.setRGB(A[0],A[1],A[2],sr),c.opacity=A[3]}m.baseColorTexture!==void 0&&f.push(s.assignTexture(c,"map",m.baseColorTexture,jr)),c.metalness=m.metallicFactor!==void 0?m.metallicFactor:1,c.roughness=m.roughnessFactor!==void 0?m.roughnessFactor:1,m.metallicRoughnessTexture!==void 0&&(f.push(s.assignTexture(c,"metalnessMap",m.metallicRoughnessTexture)),f.push(s.assignTexture(c,"roughnessMap",m.metallicRoughnessTexture))),i=this._invokeOne(function(A){return A.getMaterialType&&A.getMaterialType(t)}),f.push(Promise.all(this._invokeAll(function(A){return A.extendMaterialParams&&A.extendMaterialParams(t,c)})))}r.doubleSided===!0&&(c.side=Ws);const h=r.alphaMode||nl.OPAQUE;if(h===nl.BLEND?(c.transparent=!0,c.depthWrite=!1):(c.transparent=!1,h===nl.MASK&&(c.alphaTest=r.alphaCutoff!==void 0?r.alphaCutoff:.5)),r.normalTexture!==void 0&&i!==So&&(f.push(s.assignTexture(c,"normalMap",r.normalTexture)),c.normalScale=new Rt(1,1),r.normalTexture.scale!==void 0)){const m=r.normalTexture.scale;c.normalScale.set(m,m)}if(r.occlusionTexture!==void 0&&i!==So&&(f.push(s.assignTexture(c,"aoMap",r.occlusionTexture)),r.occlusionTexture.strength!==void 0&&(c.aoMapIntensity=r.occlusionTexture.strength)),r.emissiveFactor!==void 0&&i!==So){const m=r.emissiveFactor;c.emissive=new bt().setRGB(m[0],m[1],m[2],sr)}return r.emissiveTexture!==void 0&&i!==So&&f.push(s.assignTexture(c,"emissiveMap",r.emissiveTexture,jr)),Promise.all(f).then(function(){const m=new i(c);return r.name&&(m.name=r.name),ir(m,r),s.associations.set(m,{materials:t}),r.extensions&&br(o,m,r),m})}createUniqueName(t){const s=cp.sanitizeNodeName(t||"");return s in this.nodeNamesUsed?s+"_"+ ++this.nodeNamesUsed[s]:(this.nodeNamesUsed[s]=0,s)}loadGeometries(t){const s=this,d=this.extensions,o=this.primitiveCache;function r(c){return d[ze.KHR_DRACO_MESH_COMPRESSION].decodePrimitive(c,s).then(function(u){return Hc(u,c,s)})}const i=[];for(let c=0,u=t.length;c<u;c++){const f=t[c],h=Bv(f),m=o[h];if(m)i.push(m.promise);else{let A;f.extensions&&f.extensions[ze.KHR_DRACO_MESH_COMPRESSION]?A=r(f):A=Hc(new _i,f,s),o[h]={primitive:f,promise:A},i.push(A)}}return Promise.all(i)}loadMesh(t){const s=this,d=this.json,o=this.extensions,r=d.meshes[t],i=r.primitives,c=[];for(let u=0,f=i.length;u<f;u++){const h=i[u].material===void 0?Av(this.cache):this.getDependency("material",i[u].material);c.push(h)}return c.push(s.loadGeometries(i)),Promise.all(c).then(function(u){const f=u.slice(0,u.length-1),h=u[u.length-1],m=[];for(let y=0,B=h.length;y<B;y++){const C=h[y],E=i[y];let S;const x=f[y];if(E.mode===Mn.TRIANGLES||E.mode===Mn.TRIANGLE_STRIP||E.mode===Mn.TRIANGLE_FAN||E.mode===void 0)S=r.isSkinnedMesh===!0?new fp(C,x):new _o(C,x),S.isSkinnedMesh===!0&&S.normalizeSkinWeights(),E.mode===Mn.TRIANGLE_STRIP?S.geometry=Pc(S.geometry,ed):E.mode===Mn.TRIANGLE_FAN&&(S.geometry=Pc(S.geometry,dl));else if(E.mode===Mn.LINES)S=new dp(C,x);else if(E.mode===Mn.LINE_STRIP)S=new hp(C,x);else if(E.mode===Mn.LINE_LOOP)S=new pp(C,x);else if(E.mode===Mn.POINTS)S=new mp(C,x);else throw new Error("THREE.GLTFLoader: Primitive mode unsupported: "+E.mode);Object.keys(S.geometry.morphAttributes).length>0&&yv(S,r),S.name=s.createUniqueName(r.name||"mesh_"+t),ir(S,r),E.extensions&&br(o,S,E),s.assignFinalMaterial(S),m.push(S)}for(let y=0,B=m.length;y<B;y++)s.associations.set(m[y],{meshes:t,primitives:y});if(m.length===1)return r.extensions&&br(o,m[0],r),m[0];const A=new Ps;r.extensions&&br(o,A,r),s.associations.set(A,{meshes:t});for(let y=0,B=m.length;y<B;y++)A.add(m[y]);return A})}loadCamera(t){let s;const d=this.json.cameras[t],o=d[d.type];if(!o){console.warn("THREE.GLTFLoader: Missing camera parameters.");return}return d.type==="perspective"?s=new Ri(_l.radToDeg(o.yfov),o.aspectRatio||1,o.znear||1,o.zfar||2e6):d.type==="orthographic"&&(s=new zs(-o.xmag,o.xmag,o.ymag,-o.ymag,o.znear,o.zfar)),d.name&&(s.name=this.createUniqueName(d.name)),ir(s,d),Promise.resolve(s)}loadSkin(t){const s=this.json.skins[t],d=[];for(let o=0,r=s.joints.length;o<r;o++)d.push(this._loadNodeShallow(s.joints[o]));return s.inverseBindMatrices!==void 0?d.push(this.getDependency("accessor",s.inverseBindMatrices)):d.push(null),Promise.all(d).then(function(o){const r=o.pop(),i=o,c=[],u=[];for(let f=0,h=i.length;f<h;f++){const m=i[f];if(m){c.push(m);const A=new qt;r!==null&&A.fromArray(r.array,f*16),u.push(A)}else console.warn('THREE.GLTFLoader: Joint "%s" could not be found.',s.joints[f])}return new vp(c,u)})}loadAnimation(t){const s=this.json,d=this,o=s.animations[t],r=o.name?o.name:"animation_"+t,i=[],c=[],u=[],f=[],h=[];for(let m=0,A=o.channels.length;m<A;m++){const y=o.channels[m],B=o.samplers[y.sampler],C=y.target,E=C.node,S=o.parameters!==void 0?o.parameters[B.input]:B.input,x=o.parameters!==void 0?o.parameters[B.output]:B.output;C.node!==void 0&&(i.push(this.getDependency("node",E)),c.push(this.getDependency("accessor",S)),u.push(this.getDependency("accessor",x)),f.push(B),h.push(C))}return Promise.all([Promise.all(i),Promise.all(c),Promise.all(u),Promise.all(f),Promise.all(h)]).then(function(m){const A=m[0],y=m[1],B=m[2],C=m[3],E=m[4],S=[];for(let x=0,w=A.length;x<w;x++){const T=A[x],D=y[x],P=B[x],G=C[x],b=E[x];if(T===void 0)continue;T.updateMatrix&&T.updateMatrix();const H=d._createAnimationTracks(T,D,P,G,b);if(H)for(let N=0;N<H.length;N++)S.push(H[N])}return new Ap(r,void 0,S)})}createNodeMesh(t){const s=this.json,d=this,o=s.nodes[t];return o.mesh===void 0?null:d.getDependency("mesh",o.mesh).then(function(r){const i=d._getNodeRef(d.meshCache,o.mesh,r);return o.weights!==void 0&&i.traverse(function(c){if(c.isMesh)for(let u=0,f=o.weights.length;u<f;u++)c.morphTargetInfluences[u]=o.weights[u]}),i})}loadNode(t){const s=this.json,d=this,o=s.nodes[t],r=d._loadNodeShallow(t),i=[],c=o.children||[];for(let f=0,h=c.length;f<h;f++)i.push(d.getDependency("node",c[f]));const u=o.skin===void 0?Promise.resolve(null):d.getDependency("skin",o.skin);return Promise.all([r,Promise.all(i),u]).then(function(f){const h=f[0],m=f[1],A=f[2];A!==null&&h.traverse(function(y){y.isSkinnedMesh&&y.bind(A,Ev)});for(let y=0,B=m.length;y<B;y++)h.add(m[y]);return h})}_loadNodeShallow(t){const s=this.json,d=this.extensions,o=this;if(this.nodeCache[t]!==void 0)return this.nodeCache[t];const r=s.nodes[t],i=r.name?o.createUniqueName(r.name):"",c=[],u=o._invokeOne(function(f){return f.createNodeMesh&&f.createNodeMesh(t)});return u&&c.push(u),r.camera!==void 0&&c.push(o.getDependency("camera",r.camera).then(function(f){return o._getNodeRef(o.cameraCache,r.camera,f)})),o._invokeAll(function(f){return f.createNodeAttachment&&f.createNodeAttachment(t)}).forEach(function(f){c.push(f)}),this.nodeCache[t]=Promise.all(c).then(function(f){let h;if(r.isBone===!0?h=new gp:f.length>1?h=new Ps:f.length===1?h=f[0]:h=new Fi,h!==f[0])for(let m=0,A=f.length;m<A;m++)h.add(f[m]);if(r.name&&(h.userData.name=r.name,h.name=i),ir(h,r),r.extensions&&br(d,h,r),r.matrix!==void 0){const m=new qt;m.fromArray(r.matrix),h.applyMatrix4(m)}else r.translation!==void 0&&h.position.fromArray(r.translation),r.rotation!==void 0&&h.quaternion.fromArray(r.rotation),r.scale!==void 0&&h.scale.fromArray(r.scale);return o.associations.has(h)||o.associations.set(h,{}),o.associations.get(h).nodes=t,h}),this.nodeCache[t]}loadScene(t){const s=this.extensions,d=this.json.scenes[t],o=this,r=new Ps;d.name&&(r.name=o.createUniqueName(d.name)),ir(r,d),d.extensions&&br(s,r,d);const i=d.nodes||[],c=[];for(let u=0,f=i.length;u<f;u++)c.push(o.getDependency("node",i[u]));return Promise.all(c).then(function(u){for(let h=0,m=u.length;h<m;h++)r.add(u[h]);const f=h=>{const m=new Map;for(const[A,y]of o.associations)(A instanceof Ei||A instanceof Fo)&&m.set(A,y);return h.traverse(A=>{const y=o.associations.get(A);y!=null&&m.set(A,y)}),m};return o.associations=f(r),r})}_createAnimationTracks(t,s,d,o,r){const i=[],c=t.name?t.name:t.uuid,u=[];yr[r.path]===yr.weights?t.traverse(function(A){A.morphTargetInfluences&&u.push(A.name?A.name:A.uuid)}):u.push(c);let f;switch(yr[r.path]){case yr.weights:f=mc;break;case yr.rotation:f=vc;break;case yr.position:case yr.scale:f=pc;break;default:switch(d.itemSize){case 1:f=mc;break;case 2:case 3:default:f=pc;break}break}const h=o.interpolation!==void 0?vv[o.interpolation]:od,m=this._getArrayFromAccessor(d);for(let A=0,y=u.length;A<y;A++){const B=new f(u[A]+"."+yr[r.path],s.array,m,h);o.interpolation==="CUBICSPLINE"&&this._createCubicSplineTrackInterpolant(B),i.push(B)}return i}_getArrayFromAccessor(t){let s=t.array;if(t.normalized){const d=yl(s.constructor),o=new Float32Array(s.length);for(let r=0,i=s.length;r<i;r++)o[r]=s[r]*d;s=o}return s}_createCubicSplineTrackInterpolant(t){t.createInterpolant=function(d){const o=this instanceof vc?mv:bd;return new o(this.times,this.values,this.getValueSize()/3,d)},t.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline=!0}}function xv(l,t,s){const d=t.attributes,o=new sd;if(d.POSITION!==void 0){const c=s.json.accessors[d.POSITION],u=c.min,f=c.max;if(u!==void 0&&f!==void 0){if(o.set(new Ke(u[0],u[1],u[2]),new Ke(f[0],f[1],f[2])),c.normalized){const h=yl(Mo[c.componentType]);o.min.multiplyScalar(h),o.max.multiplyScalar(h)}}else{console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.");return}}else return;const r=t.targets;if(r!==void 0){const c=new Ke,u=new Ke;for(let f=0,h=r.length;f<h;f++){const m=r[f];if(m.POSITION!==void 0){const A=s.json.accessors[m.POSITION],y=A.min,B=A.max;if(y!==void 0&&B!==void 0){if(u.setX(Math.max(Math.abs(y[0]),Math.abs(B[0]))),u.setY(Math.max(Math.abs(y[1]),Math.abs(B[1]))),u.setZ(Math.max(Math.abs(y[2]),Math.abs(B[2]))),A.normalized){const C=yl(Mo[A.componentType]);u.multiplyScalar(C)}c.max(u)}else console.warn("THREE.GLTFLoader: Missing min/max properties for accessor POSITION.")}}o.expandByVector(c)}l.boundingBox=o;const i=new ad;o.getCenter(i.center),i.radius=o.min.distanceTo(o.max)/2,l.boundingSphere=i}function Hc(l,t,s){const d=t.attributes,o=[];function r(i,c){return s.getDependency("accessor",i).then(function(u){l.setAttribute(c,u)})}for(const i in d){const c=gl[i]||i.toLowerCase();c in l.attributes||o.push(r(d[i],c))}if(t.indices!==void 0&&!l.index){const i=s.getDependency("accessor",t.indices).then(function(c){l.setIndex(c)});o.push(i)}return ir(l,t),xv(l,t,s),Promise.all(o).then(function(){return t.targets!==void 0?gv(l,t.targets,s):l})}const ol=new WeakMap;class Mv extends td{constructor(t){super(t),this.decoderPath="",this.decoderConfig={},this.decoderBinary=null,this.decoderPending=null,this.workerLimit=4,this.workerPool=[],this.workerNextTaskID=1,this.workerSourceURL="",this.defaultAttributeIDs={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"},this.defaultAttributeTypes={position:"Float32Array",normal:"Float32Array",color:"Float32Array",uv:"Float32Array"}}setDecoderPath(t){return this.decoderPath=t,this}setDecoderConfig(t){return this.decoderConfig=t,this}setWorkerLimit(t){return this.workerLimit=t,this}load(t,s,d,o){const r=new Hs(this.manager);r.setPath(this.path),r.setResponseType("arraybuffer"),r.setRequestHeader(this.requestHeader),r.setWithCredentials(this.withCredentials),r.load(t,i=>{const c={attributeIDs:this.defaultAttributeIDs,attributeTypes:this.defaultAttributeTypes,useUniqueIDs:!1};this.decodeGeometry(i,c).then(s).catch(o)},d,o)}decodeDracoFile(t,s,d,o){const r={attributeIDs:d||this.defaultAttributeIDs,attributeTypes:o||this.defaultAttributeTypes,useUniqueIDs:!!d};this.decodeGeometry(t,r).then(s)}decodeGeometry(t,s){for(const u in s.attributeTypes){const f=s.attributeTypes[u];f.BYTES_PER_ELEMENT!==void 0&&(s.attributeTypes[u]=f.name)}const d=JSON.stringify(s);if(ol.has(t)){const u=ol.get(t);if(u.key===d)return u.promise;if(t.byteLength===0)throw new Error("THREE.DRACOLoader: Unable to re-decode a buffer with different settings. Buffer has already been transferred.")}let o;const r=this.workerNextTaskID++,i=t.byteLength,c=this._getWorker(r,i).then(u=>(o=u,new Promise((f,h)=>{o._callbacks[r]={resolve:f,reject:h},o.postMessage({type:"decode",id:r,taskConfig:s,buffer:t},[t])}))).then(u=>this._createGeometry(u.geometry));return c.catch(()=>!0).then(()=>{o&&r&&this._releaseTask(o,r)}),ol.set(t,{key:d,promise:c}),c}_createGeometry(t){const s=new _i;t.index&&s.setIndex(new zr(t.index.array,1));for(let d=0;d<t.attributes.length;d++){const o=t.attributes[d],r=o.name,i=o.array,c=o.itemSize;s.setAttribute(r,new zr(i,c))}return s}_loadLibrary(t,s){const d=new Hs(this.manager);return d.setPath(this.decoderPath),d.setResponseType(s),d.setWithCredentials(this.withCredentials),new Promise((o,r)=>{d.load(t,o,void 0,r)})}preload(){return this._initDecoder(),this}_initDecoder(){if(this.decoderPending)return this.decoderPending;const t=typeof WebAssembly!="object"||this.decoderConfig.type==="js",s=[];return t?s.push(this._loadLibrary("draco_decoder.js","text")):(s.push(this._loadLibrary("draco_wasm_wrapper.js","text")),s.push(this._loadLibrary("draco_decoder.wasm","arraybuffer"))),this.decoderPending=Promise.all(s).then(d=>{const o=d[0];t||(this.decoderConfig.wasmBinary=d[1]);const r=wv.toString(),i=["/* draco decoder */",o,"","/* worker */",r.substring(r.indexOf("{")+1,r.lastIndexOf("}"))].join(`
`);this.workerSourceURL=URL.createObjectURL(new Blob([i]))}),this.decoderPending}_getWorker(t,s){return this._initDecoder().then(()=>{if(this.workerPool.length<this.workerLimit){const o=new Worker(this.workerSourceURL);o._callbacks={},o._taskCosts={},o._taskLoad=0,o.postMessage({type:"init",decoderConfig:this.decoderConfig}),o.onmessage=function(r){const i=r.data;switch(i.type){case"decode":o._callbacks[i.id].resolve(i);break;case"error":o._callbacks[i.id].reject(i);break;default:console.error('THREE.DRACOLoader: Unexpected message, "'+i.type+'"')}},this.workerPool.push(o)}else this.workerPool.sort(function(o,r){return o._taskLoad>r._taskLoad?-1:1});const d=this.workerPool[this.workerPool.length-1];return d._taskCosts[t]=s,d._taskLoad+=s,d})}_releaseTask(t,s){t._taskLoad-=t._taskCosts[s],delete t._callbacks[s],delete t._taskCosts[s]}debug(){console.log("Task load: ",this.workerPool.map(t=>t._taskLoad))}dispose(){for(let t=0;t<this.workerPool.length;++t)this.workerPool[t].terminate();return this.workerPool.length=0,this}}function wv(){let l,t;onmessage=function(i){const c=i.data;switch(c.type){case"init":l=c.decoderConfig,t=new Promise(function(h){l.onModuleLoaded=function(m){h({draco:m})},DracoDecoderModule(l)});break;case"decode":const u=c.buffer,f=c.taskConfig;t.then(h=>{const m=h.draco,A=new m.Decoder,y=new m.DecoderBuffer;y.Init(new Int8Array(u),u.byteLength);try{const B=s(m,A,y,f),C=B.attributes.map(E=>E.array.buffer);B.index&&C.push(B.index.array.buffer),self.postMessage({type:"decode",id:c.id,geometry:B},C)}catch(B){console.error(B),self.postMessage({type:"error",id:c.id,error:B.message})}finally{m.destroy(y),m.destroy(A)}});break}};function s(i,c,u,f){const h=f.attributeIDs,m=f.attributeTypes;let A,y;const B=c.GetEncodedGeometryType(u);if(B===i.TRIANGULAR_MESH)A=new i.Mesh,y=c.DecodeBufferToMesh(u,A);else if(B===i.POINT_CLOUD)A=new i.PointCloud,y=c.DecodeBufferToPointCloud(u,A);else throw new Error("THREE.DRACOLoader: Unexpected geometry type.");if(!y.ok()||A.ptr===0)throw new Error("THREE.DRACOLoader: Decoding failed: "+y.error_msg());const C={index:null,attributes:[]};for(const E in h){const S=self[m[E]];let x,w;if(f.useUniqueIDs)w=h[E],x=c.GetAttributeByUniqueId(A,w);else{if(w=c.GetAttributeId(A,i[h[E]]),w===-1)continue;x=c.GetAttribute(A,w)}C.attributes.push(o(i,c,A,E,S,x))}return B===i.TRIANGULAR_MESH&&(C.index=d(i,c,A)),i.destroy(A),C}function d(i,c,u){const h=u.num_faces()*3,m=h*4,A=i._malloc(m);c.GetTrianglesUInt32Array(u,m,A);const y=new Uint32Array(i.HEAPF32.buffer,A,h).slice();return i._free(A),{array:y,itemSize:1}}function o(i,c,u,f,h,m){const A=m.num_components(),B=u.num_points()*A,C=B*h.BYTES_PER_ELEMENT,E=r(i,h),S=i._malloc(C);c.GetAttributeDataArrayForAllPoints(u,m,E,C,S);const x=new h(i.HEAPF32.buffer,S,B).slice();return i._free(S),{name:f,array:x,itemSize:A}}function r(i,c){switch(c){case Float32Array:return i.DT_FLOAT32;case Int8Array:return i.DT_INT8;case Int16Array:return i.DT_INT16;case Int32Array:return i.DT_INT32;case Uint8Array:return i.DT_UINT8;case Uint16Array:return i.DT_UINT16;case Uint32Array:return i.DT_UINT32}}}let Ts;const il=()=>{if(Ts)return Ts;const l="B9h9z9tFBBBF8fL9gBB9gLaaaaaFa9gEaaaB9gFaFa9gEaaaFaEMcBFFFGGGEIIILF9wFFFLEFBFKNFaFCx/IFMO/LFVK9tv9t9vq95GBt9f9f939h9z9t9f9j9h9s9s9f9jW9vq9zBBp9tv9z9o9v9wW9f9kv9j9v9kv9WvqWv94h919m9mvqBF8Z9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv94h919m9mvqBGy9tv9z9o9v9wW9f9kv9j9v9kv9J9u9kv949TvZ91v9u9jvBEn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9P9jWBIi9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9R919hWBLn9tv9z9o9v9wW9f9kv9j9v9kv69p9sWvq9F949wBKI9z9iqlBOc+x8ycGBM/qQFTa8jUUUUBCU/EBlHL8kUUUUBC9+RKGXAGCFJAI9LQBCaRKAE2BBC+gF9HQBALAEAIJHOAGlAGTkUUUBRNCUoBAG9uC/wgBZHKCUGAKCUG9JyRVAECFJRICBRcGXEXAcAF9PQFAVAFAclAcAVJAF9JyRMGXGXAG9FQBAMCbJHKC9wZRSAKCIrCEJCGrRQANCUGJRfCBRbAIRTEXGXAOATlAQ9PQBCBRISEMATAQJRIGXAS9FQBCBRtCBREEXGXAOAIlCi9PQBCBRISLMANCU/CBJAEJRKGXGXGXGXGXATAECKrJ2BBAtCKZrCEZfIBFGEBMAKhB83EBAKCNJhB83EBSEMAKAI2BIAI2BBHmCKrHYAYCE6HYy86BBAKCFJAICIJAYJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCGJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCEJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCIJAYAmJHY2BBAI2BFHmCKrHPAPCE6HPy86BBAKCLJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCKJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCOJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCNJAYAmJHY2BBAI2BGHmCKrHPAPCE6HPy86BBAKCVJAYAPJHY2BBAmCIrCEZHPAPCE6HPy86BBAKCcJAYAPJHY2BBAmCGrCEZHPAPCE6HPy86BBAKCMJAYAPJHY2BBAmCEZHmAmCE6Hmy86BBAKCSJAYAmJHm2BBAI2BEHICKrHYAYCE6HYy86BBAKCQJAmAYJHm2BBAICIrCEZHYAYCE6HYy86BBAKCfJAmAYJHm2BBAICGrCEZHYAYCE6HYy86BBAKCbJAmAYJHK2BBAICEZHIAICE6HIy86BBAKAIJRISGMAKAI2BNAI2BBHmCIrHYAYCb6HYy86BBAKCFJAICNJAYJHY2BBAmCbZHmAmCb6Hmy86BBAKCGJAYAmJHm2BBAI2BFHYCIrHPAPCb6HPy86BBAKCEJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCIJAmAYJHm2BBAI2BGHYCIrHPAPCb6HPy86BBAKCLJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCKJAmAYJHm2BBAI2BEHYCIrHPAPCb6HPy86BBAKCOJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCNJAmAYJHm2BBAI2BIHYCIrHPAPCb6HPy86BBAKCVJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCcJAmAYJHm2BBAI2BLHYCIrHPAPCb6HPy86BBAKCMJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCSJAmAYJHm2BBAI2BKHYCIrHPAPCb6HPy86BBAKCQJAmAPJHm2BBAYCbZHYAYCb6HYy86BBAKCfJAmAYJHm2BBAI2BOHICIrHYAYCb6HYy86BBAKCbJAmAYJHK2BBAICbZHIAICb6HIy86BBAKAIJRISFMAKAI8pBB83BBAKCNJAICNJ8pBB83BBAICTJRIMAtCGJRtAECTJHEAS9JQBMMGXAIQBCBRISEMGXAM9FQBANAbJ2BBRtCBRKAfREEXAEANCU/CBJAKJ2BBHTCFrCBATCFZl9zAtJHt86BBAEAGJREAKCFJHKAM9HQBMMAfCFJRfAIRTAbCFJHbAG9HQBMMABAcAG9sJANCUGJAMAG9sTkUUUBpANANCUGJAMCaJAG9sJAGTkUUUBpMAMCBAIyAcJRcAIQBMC9+RKSFMCBC99AOAIlAGCAAGCA9Ly6yRKMALCU/EBJ8kUUUUBAKM+OmFTa8jUUUUBCoFlHL8kUUUUBC9+RKGXAFCE9uHOCtJAI9LQBCaRKAE2BBHNC/wFZC/gF9HQBANCbZHVCF9LQBALCoBJCgFCUFT+JUUUBpALC84Jha83EBALC8wJha83EBALC8oJha83EBALCAJha83EBALCiJha83EBALCTJha83EBALha83ENALha83EBAEAIJC9wJRcAECFJHNAOJRMGXAF9FQBCQCbAVCF6yRSABRECBRVCBRQCBRfCBRICBRKEXGXAMAcuQBC9+RKSEMGXGXAN2BBHOC/vF9LQBALCoBJAOCIrCa9zAKJCbZCEWJHb8oGIRTAb8oGBRtGXAOCbZHbAS9PQBALAOCa9zAIJCbZCGWJ8oGBAVAbyROAb9FRbGXGXAGCG9HQBABAt87FBABCIJAO87FBABCGJAT87FBSFMAEAtjGBAECNJAOjGBAECIJATjGBMAVAbJRVALCoBJAKCEWJHmAOjGBAmATjGIALAICGWJAOjGBALCoBJAKCFJCbZHKCEWJHTAtjGBATAOjGIAIAbJRIAKCFJRKSGMGXGXAbCb6QBAQAbJAbC989zJCFJRQSFMAM1BBHbCgFZROGXGXAbCa9MQBAMCFJRMSFMAM1BFHbCgBZCOWAOCgBZqROGXAbCa9MQBAMCGJRMSFMAM1BGHbCgBZCfWAOqROGXAbCa9MQBAMCEJRMSFMAM1BEHbCgBZCdWAOqROGXAbCa9MQBAMCIJRMSFMAM2BIC8cWAOqROAMCLJRMMAOCFrCBAOCFZl9zAQJRQMGXGXAGCG9HQBABAt87FBABCIJAQ87FBABCGJAT87FBSFMAEAtjGBAECNJAQjGBAECIJATjGBMALCoBJAKCEWJHOAQjGBAOATjGIALAICGWJAQjGBALCoBJAKCFJCbZHKCEWJHOAtjGBAOAQjGIAICFJRIAKCFJRKSFMGXAOCDF9LQBALAIAcAOCbZJ2BBHbCIrHTlCbZCGWJ8oGBAVCFJHtATyROALAIAblCbZCGWJ8oGBAtAT9FHmJHtAbCbZHTyRbAT9FRTGXGXAGCG9HQBABAV87FBABCIJAb87FBABCGJAO87FBSFMAEAVjGBAECNJAbjGBAECIJAOjGBMALAICGWJAVjGBALCoBJAKCEWJHYAOjGBAYAVjGIALAICFJHICbZCGWJAOjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAIAmJCbZHICGWJAbjGBALCoBJAKCGJCbZHKCEWJHOAVjGBAOAbjGIAKCFJRKAIATJRIAtATJRVSFMAVCBAM2BBHYyHTAOC/+F6HPJROAYCbZRtGXGXAYCIrHmQBAOCFJRbSFMAORbALAIAmlCbZCGWJ8oGBROMGXGXAtQBAbCFJRVSFMAbRVALAIAYlCbZCGWJ8oGBRbMGXGXAP9FQBAMCFJRYSFMAM1BFHYCgFZRTGXGXAYCa9MQBAMCGJRYSFMAM1BGHYCgBZCOWATCgBZqRTGXAYCa9MQBAMCEJRYSFMAM1BEHYCgBZCfWATqRTGXAYCa9MQBAMCIJRYSFMAM1BIHYCgBZCdWATqRTGXAYCa9MQBAMCLJRYSFMAMCKJRYAM2BLC8cWATqRTMATCFrCBATCFZl9zAQJHQRTMGXGXAmCb6QBAYRPSFMAY1BBHMCgFZROGXGXAMCa9MQBAYCFJRPSFMAY1BFHMCgBZCOWAOCgBZqROGXAMCa9MQBAYCGJRPSFMAY1BGHMCgBZCfWAOqROGXAMCa9MQBAYCEJRPSFMAY1BEHMCgBZCdWAOqROGXAMCa9MQBAYCIJRPSFMAYCLJRPAY2BIC8cWAOqROMAOCFrCBAOCFZl9zAQJHQROMGXGXAtCb6QBAPRMSFMAP1BBHMCgFZRbGXGXAMCa9MQBAPCFJRMSFMAP1BFHMCgBZCOWAbCgBZqRbGXAMCa9MQBAPCGJRMSFMAP1BGHMCgBZCfWAbqRbGXAMCa9MQBAPCEJRMSFMAP1BEHMCgBZCdWAbqRbGXAMCa9MQBAPCIJRMSFMAPCLJRMAP2BIC8cWAbqRbMAbCFrCBAbCFZl9zAQJHQRbMGXGXAGCG9HQBABAT87FBABCIJAb87FBABCGJAO87FBSFMAEATjGBAECNJAbjGBAECIJAOjGBMALCoBJAKCEWJHYAOjGBAYATjGIALAICGWJATjGBALCoBJAKCFJCbZCEWJHYAbjGBAYAOjGIALAICFJHICbZCGWJAOjGBALCoBJAKCGJCbZCEWJHOATjGBAOAbjGIALAIAm9FAmCb6qJHICbZCGWJAbjGBAIAt9FAtCb6qJRIAKCEJRKMANCFJRNABCKJRBAECSJREAKCbZRKAICbZRIAfCEJHfAF9JQBMMCBC99AMAc6yRKMALCoFJ8kUUUUBAKM/tIFGa8jUUUUBCTlRLC9+RKGXAFCLJAI9LQBCaRKAE2BBC/+FZC/QF9HQBALhB83ENAECFJRKAEAIJC98JREGXAF9FQBGXAGCG6QBEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMALCNJAICFZCGWqHGAICGrCBAICFrCFZl9zAG8oGBJHIjGBABAIjGBABCIJRBAFCaJHFQBSGMMEXGXAKAE9JQBC9+bMAK1BBHGCgFZRIGXGXAGCa9MQBAKCFJRKSFMAK1BFHGCgBZCOWAICgBZqRIGXAGCa9MQBAKCGJRKSFMAK1BGHGCgBZCfWAIqRIGXAGCa9MQBAKCEJRKSFMAK1BEHGCgBZCdWAIqRIGXAGCa9MQBAKCIJRKSFMAK2BIC8cWAIqRIAKCLJRKMABAICGrCBAICFrCFZl9zALCNJAICFZCGWqHI8oGBJHG87FBAIAGjGBABCGJRBAFCaJHFQBMMCBC99AKAE6yRKMAKM+lLKFaF99GaG99FaG99GXGXAGCI9HQBAF9FQFEXGXGX9DBBB8/9DBBB+/ABCGJHG1BB+yAB1BBHE+yHI+L+TABCFJHL1BBHK+yHO+L+THN9DBBBB9gHVyAN9DBB/+hANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE86BBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG86BBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG86BBABCIJRBAFCaJHFQBSGMMAF9FQBEXGXGX9DBBB8/9DBBB+/ABCIJHG8uFB+yAB8uFBHE+yHI+L+TABCGJHL8uFBHK+yHO+L+THN9DBBBB9gHVyAN9DB/+g6ANAN+U9DBBBBANAVyHcAc+MHMAECa3yAI+SHIAI+UAcAMAKCa3yAO+SHcAc+U+S+S+R+VHO+U+SHN+L9DBBB9P9d9FQBAN+oRESFMCUUUU94REMAGAE87FBGXGX9DBBB8/9DBBB+/Ac9DBBBB9gyAcAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMALAG87FBGXGX9DBBB8/9DBBB+/AI9DBBBB9gyAIAO+U+SHN+L9DBBB9P9d9FQBAN+oRGSFMCUUUU94RGMABAG87FBABCNJRBAFCaJHFQBMMM/SEIEaE99EaF99GXAF9FQBCBREABRIEXGXGX9D/zI818/AICKJ8uFBHLCEq+y+VHKAI8uFB+y+UHO9DB/+g6+U9DBBB8/9DBBB+/AO9DBBBB9gy+SHN+L9DBBB9P9d9FQBAN+oRVSFMCUUUU94RVMAICIJ8uFBRcAICGJ8uFBRMABALCFJCEZAEqCFWJAV87FBGXGXAKAM+y+UHN9DB/+g6+U9DBBB8/9DBBB+/AN9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRMSFMCUUUU94RMMABALCGJCEZAEqCFWJAM87FBGXGXAKAc+y+UHK9DB/+g6+U9DBBB8/9DBBB+/AK9DBBBB9gy+SHS+L9DBBB9P9d9FQBAS+oRcSFMCUUUU94RcMABALCaJCEZAEqCFWJAc87FBGXGX9DBBU8/AOAO+U+TANAN+U+TAKAK+U+THO9DBBBBAO9DBBBB9gy+R9DB/+g6+U9DBBB8/+SHO+L9DBBB9P9d9FQBAO+oRcSFMCUUUU94RcMABALCEZAEqCFWJAc87FBAICNJRIAECIJREAFCaJHFQBMMM9JBGXAGCGrAF9sHF9FQBEXABAB8oGBHGCNWCN91+yAGCi91CnWCUUU/8EJ+++U84GBABCIJRBAFCaJHFQBMMM9TFEaCBCB8oGUkUUBHFABCEJC98ZJHBjGUkUUBGXGXAB8/BCTWHGuQBCaREABAGlCggEJCTrXBCa6QFMAFREMAEM/lFFFaGXGXAFABqCEZ9FQBABRESFMGXGXAGCT9PQBABRESFMABREEXAEAF8oGBjGBAECIJAFCIJ8oGBjGBAECNJAFCNJ8oGBjGBAECSJAFCSJ8oGBjGBAECTJREAFCTJRFAGC9wJHGCb9LQBMMAGCI9JQBEXAEAF8oGBjGBAFCIJRFAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF2BB86BBAECFJREAFCFJRFAGCaJHGQBMMABMoFFGaGXGXABCEZ9FQBABRESFMAFCgFZC+BwsN9sRIGXGXAGCT9PQBABRESFMABREEXAEAIjGBAECSJAIjGBAECNJAIjGBAECIJAIjGBAECTJREAGC9wJHGCb9LQBMMAGCI9JQBEXAEAIjGBAECIJREAGC98JHGCE9LQBMMGXAG9FQBEXAEAF86BBAECFJREAGCaJHGQBMMABMMMFBCUNMIT9kBB",t="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",s=new Uint8Array([0,97,115,109,1,0,0,0,1,4,1,96,0,0,3,3,2,0,0,5,3,1,0,1,12,1,0,10,22,2,12,0,65,0,65,0,65,0,252,10,0,0,11,7,0,65,0,253,15,26,11]),d=new Uint8Array([32,0,65,253,3,1,2,34,4,106,6,5,11,8,7,20,13,33,12,16,128,9,116,64,19,113,127,15,10,21,22,14,255,66,24,54,136,107,18,23,192,26,114,118,132,17,77,101,130,144,27,87,131,44,45,74,156,154,70,167]);if(typeof WebAssembly!="object")return{supported:!1};let o=l;WebAssembly.validate(s)&&(o=t);let r;const i=WebAssembly.instantiate(c(o),{}).then(m=>{r=m.instance,r.exports.__wasm_call_ctors()});function c(m){const A=new Uint8Array(m.length);for(let B=0;B<m.length;++B){const C=m.charCodeAt(B);A[B]=C>96?C-71:C>64?C-65:C>47?C+4:C>46?63:62}let y=0;for(let B=0;B<m.length;++B)A[y++]=A[B]<60?d[A[B]]:(A[B]-60)*64+A[++B];return A.buffer.slice(0,y)}function u(m,A,y,B,C,E){const S=r.exports.sbrk,x=y+3&-4,w=S(x*B),T=S(C.length),D=new Uint8Array(r.exports.memory.buffer);D.set(C,T);const P=m(w,y,B,T,C.length);if(P===0&&E&&E(w,x,B),A.set(D.subarray(w,w+y*B)),S(w-S(0)),P!==0)throw new Error(`Malformed buffer data: ${P}`)}const f={0:"",1:"meshopt_decodeFilterOct",2:"meshopt_decodeFilterQuat",3:"meshopt_decodeFilterExp",NONE:"",OCTAHEDRAL:"meshopt_decodeFilterOct",QUATERNION:"meshopt_decodeFilterQuat",EXPONENTIAL:"meshopt_decodeFilterExp"},h={0:"meshopt_decodeVertexBuffer",1:"meshopt_decodeIndexBuffer",2:"meshopt_decodeIndexSequence",ATTRIBUTES:"meshopt_decodeVertexBuffer",TRIANGLES:"meshopt_decodeIndexBuffer",INDICES:"meshopt_decodeIndexSequence"};return Ts={ready:i,supported:!0,decodeVertexBuffer(m,A,y,B,C){u(r.exports.meshopt_decodeVertexBuffer,m,A,y,B,r.exports[f[C]])},decodeIndexBuffer(m,A,y,B){u(r.exports.meshopt_decodeIndexBuffer,m,A,y,B)},decodeIndexSequence(m,A,y,B){u(r.exports.meshopt_decodeIndexSequence,m,A,y,B)},decodeGltfBuffer(m,A,y,B,C,E){u(r.exports[h[C]],m,A,y,B,r.exports[f[E]])}},Ts};function xi(l,t,s){return t in l?Object.defineProperty(l,t,{value:s,enumerable:!0,configurable:!0,writable:!0}):l[t]=s,l}function Bl(l,t){(t==null||t>l.length)&&(t=l.length);for(var s=0,d=new Array(t);s<t;s++)d[s]=l[s];return d}function Fv(l,t){if(l){if(typeof l=="string")return Bl(l,t);var s=Object.prototype.toString.call(l).slice(8,-1);if(s==="Object"&&l.constructor&&(s=l.constructor.name),s==="Map"||s==="Set")return Array.from(l);if(s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s))return Bl(l,t)}}function Tv(l){if(Array.isArray(l))return Bl(l)}function _v(l){if(typeof Symbol<"u"&&l[Symbol.iterator]!=null||l["@@iterator"]!=null)return Array.from(l)}function Rv(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Dv(l){return Tv(l)||_v(l)||Fv(l)||Rv()}new Rt;new Rt;function Iv(l,t,s){return Math.max(t,Math.min(s,l))}function Gv(l,t){return Iv(l-Math.floor(l/t)*t,0,t)}function Uv(l,t){var s=Gv(t-l,Math.PI*2);return s>Math.PI&&(s-=Math.PI*2),s}function Hd(l,t){if(!(l instanceof t))throw new TypeError("Cannot call a class as a function")}var xn=function l(t,s,d){var o=this;Hd(this,l),xi(this,"dot2",function(r,i){return o.x*r+o.y*i}),xi(this,"dot3",function(r,i,c){return o.x*r+o.y*i+o.z*c}),this.x=t,this.y=s,this.z=d},Pv=[new xn(1,1,0),new xn(-1,1,0),new xn(1,-1,0),new xn(-1,-1,0),new xn(1,0,1),new xn(-1,0,1),new xn(1,0,-1),new xn(-1,0,-1),new xn(0,1,1),new xn(0,-1,1),new xn(0,1,-1),new xn(0,-1,-1)],Nc=[151,160,137,91,90,15,131,13,201,95,96,53,194,233,7,225,140,36,103,30,69,142,8,99,37,240,21,10,23,190,6,148,247,120,234,75,0,26,197,62,94,252,219,203,117,35,11,32,57,177,33,88,237,149,56,87,174,20,125,136,171,168,68,175,74,165,71,134,139,48,27,166,77,146,158,231,83,111,229,122,60,211,133,230,220,105,92,41,55,46,245,40,244,102,143,54,65,25,63,161,1,216,80,73,209,76,132,187,208,89,18,169,200,196,135,130,116,188,159,86,164,100,109,198,173,186,3,64,52,217,226,250,124,123,5,202,38,147,118,126,255,82,85,212,207,206,59,227,47,16,58,17,182,189,28,42,223,183,170,213,119,248,152,2,44,154,163,70,221,153,101,155,167,43,172,9,129,22,39,253,19,98,108,110,79,113,224,232,178,185,112,104,218,246,97,228,251,34,242,193,238,210,144,12,191,179,162,241,81,51,145,235,249,14,239,107,49,192,214,31,181,199,106,157,184,84,204,176,115,121,50,45,127,4,150,254,138,236,205,93,222,114,67,29,24,72,243,141,128,195,78,66,215,61,156,180],Jc=new Array(512),jc=new Array(512),kv=function(t){t>0&&t<1&&(t*=65536),t=Math.floor(t),t<256&&(t|=t<<8);for(var s=0;s<256;s++){var d;s&1?d=Nc[s]^t&255:d=Nc[s]^t>>8&255,Jc[s]=Jc[s+256]=d,jc[s]=jc[s+256]=Pv[d%12]}};kv(0);function Lv(l){if(typeof l=="number")l=Math.abs(l);else if(typeof l=="string"){var t=l;l=0;for(var s=0;s<t.length;s++)l=(l+(s+1)*(t.charCodeAt(s)%96))%2147483647}return l===0&&(l=311),l}function zc(l){var t=Lv(l);return function(){var s=t*48271%2147483647;return t=s,s/2147483647}}var Ov=function l(t){var s=this;Hd(this,l),xi(this,"seed",0),xi(this,"init",function(d){s.seed=d,s.value=zc(d)}),xi(this,"value",zc(this.seed)),this.init(t)};new Ov(Math.random());var bv=function(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:.01,d=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,o=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1/(2*Math.PI);return d/Math.atan(1/s)*Math.atan(Math.sin(2*Math.PI*t*o)/s)},Nd=function(t){return 1/(1+t+.48*t*t+.235*t*t*t)},Hv=function(t){return t},Nv={in:function(t){return 1-Math.cos(t*Math.PI/2)},out:function(t){return Math.sin(t*Math.PI/2)},inOut:function(t){return-(Math.cos(Math.PI*t)-1)/2}},Jv={in:function(t){return t*t*t},out:function(t){return 1-Math.pow(1-t,3)},inOut:function(t){return t<.5?4*t*t*t:1-Math.pow(-2*t+2,3)/2}},jv={in:function(t){return t*t*t*t*t},out:function(t){return 1-Math.pow(1-t,5)},inOut:function(t){return t<.5?16*t*t*t*t*t:1-Math.pow(-2*t+2,5)/2}},zv={in:function(t){return 1-Math.sqrt(1-Math.pow(t,2))},out:function(t){return Math.sqrt(1-Math.pow(t-1,2))},inOut:function(t){return t<.5?(1-Math.sqrt(1-Math.pow(2*t,2)))/2:(Math.sqrt(1-Math.pow(-2*t+2,2))+1)/2}},Kv={in:function(t){return t*t*t*t},out:function(t){return 1- --t*t*t*t},inOut:function(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t}},Wv={in:function(t){return t===0?0:Math.pow(2,10*t-10)},out:function(t){return t===1?1:1-Math.pow(2,-10*t)},inOut:function(t){return t===0?0:t===1?1:t<.5?Math.pow(2,20*t-10)/2:(2-Math.pow(2,-20*t+10))/2}};function Ct(l,t,s){var d=arguments.length>3&&arguments[3]!==void 0?arguments[3]:.25,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:.01,r=arguments.length>5&&arguments[5]!==void 0?arguments[5]:1/0,i=arguments.length>6&&arguments[6]!==void 0?arguments[6]:Nd,c=arguments.length>7&&arguments[7]!==void 0?arguments[7]:.001,u="velocity_"+t;if(l.__damp===void 0&&(l.__damp={}),l.__damp[u]===void 0&&(l.__damp[u]=0),Math.abs(l[t]-s)<=c)return l[t]=s,!1;d=Math.max(1e-4,d);var f=2/d,h=i(f*o),m=l[t]-s,A=s,y=r*d;m=Math.min(Math.max(m,-y),y),s=l[t]-m;var B=(l.__damp[u]+f*m)*o;l.__damp[u]=(l.__damp[u]-f*B)*h;var C=s+(m+B)*h;return A-l[t]>0==C>A&&(C=A,l.__damp[u]=(C-A)/o),l[t]=C,!0}var Qv=function(t){return t&&t.isCamera},Xv=function(t){return t&&t.isLight},fi=new Ke,Kc=new Br,Wc=new Br,di=new qt,sl=new Ke;function Yv(l,t,s,d,o,r,i){typeof t=="number"?fi.setScalar(t):Array.isArray(t)?fi.set(t[0],t[1],t[2]):fi.copy(t);var c=l.parent;l.updateWorldMatrix(!0,!1),sl.setFromMatrixPosition(l.matrixWorld),Qv(l)||Xv(l)?di.lookAt(sl,fi,l.up):di.lookAt(fi,sl,l.up),js(l.quaternion,Wc.setFromRotationMatrix(di),s,d,o,r,i),c&&(di.extractRotation(c.matrixWorld),Kc.setFromRotationMatrix(di),js(l.quaternion,Wc.copy(l.quaternion).premultiply(Kc.invert()),s,d,o,r,i))}function wo(l,t,s,d,o,r,i,c){return Ct(l,t,l[t]+Uv(l[t],s),d,o,r,i,c)}var hi=new Rt,Qc,Xc;function Vv(l,t,s,d,o,r,i){return typeof t=="number"?hi.setScalar(t):Array.isArray(t)?hi.set(t[0],t[1]):hi.copy(t),Qc=Ct(l,"x",hi.x,s,d,o,r,i),Xc=Ct(l,"y",hi.y,s,d,o,r,i),Qc||Xc}var Ao=new Ke,Yc,Vc,Zc;function Cl(l,t,s,d,o,r,i){return typeof t=="number"?Ao.setScalar(t):Array.isArray(t)?Ao.set(t[0],t[1],t[2]):Ao.copy(t),Yc=Ct(l,"x",Ao.x,s,d,o,r,i),Vc=Ct(l,"y",Ao.y,s,d,o,r,i),Zc=Ct(l,"z",Ao.z,s,d,o,r,i),Yc||Vc||Zc}var Hr=new ar,qc,$c,ef,tf;function Zv(l,t,s,d,o,r,i){return typeof t=="number"?Hr.setScalar(t):Array.isArray(t)?Hr.set(t[0],t[1],t[2],t[3]):Hr.copy(t),qc=Ct(l,"x",Hr.x,s,d,o,r,i),$c=Ct(l,"y",Hr.y,s,d,o,r,i),ef=Ct(l,"z",Hr.z,s,d,o,r,i),tf=Ct(l,"w",Hr.w,s,d,o,r,i),qc||$c||ef||tf}var pi=new Tp,nf,rf,of;function qv(l,t,s,d,o,r,i){return Array.isArray(t)?pi.set(t[0],t[1],t[2],t[3]):pi.copy(t),nf=wo(l,"x",pi.x,s,d,o,r,i),rf=wo(l,"y",pi.y,s,d,o,r,i),of=wo(l,"z",pi.z,s,d,o,r,i),nf||rf||of}var go=new bt,sf,af,lf;function $v(l,t,s,d,o,r,i){return t instanceof bt?go.copy(t):Array.isArray(t)?go.setRGB(t[0],t[1],t[2]):go.set(t),sf=Ct(l,"r",go.r,s,d,o,r,i),af=Ct(l,"g",go.g,s,d,o,r,i),lf=Ct(l,"b",go.b,s,d,o,r,i),sf||af||lf}var Gn=new Br,or=new ar,uf=new ar,mi=new ar,cf,ff,df,hf;function js(l,t,s,d,o,r,i){var c=l;Array.isArray(t)?Gn.set(t[0],t[1],t[2],t[3]):Gn.copy(t);var u=l.dot(Gn)>0?1:-1;return Gn.x*=u,Gn.y*=u,Gn.z*=u,Gn.w*=u,cf=Ct(l,"x",Gn.x,s,d,o,r,i),ff=Ct(l,"y",Gn.y,s,d,o,r,i),df=Ct(l,"z",Gn.z,s,d,o,r,i),hf=Ct(l,"w",Gn.w,s,d,o,r,i),or.set(l.x,l.y,l.z,l.w).normalize(),uf.set(c.__damp.velocity_x,c.__damp.velocity_y,c.__damp.velocity_z,c.__damp.velocity_w),mi.copy(or).multiplyScalar(uf.dot(or)/or.dot(or)),c.__damp.velocity_x-=mi.x,c.__damp.velocity_y-=mi.y,c.__damp.velocity_z-=mi.z,c.__damp.velocity_w-=mi.w,l.set(or.x,or.y,or.z,or.w),cf||ff||df||hf}var vi=new _p,pf,mf,vf;function e1(l,t,s,d,o,r,i){return Array.isArray(t)?vi.set(t[0],t[1],t[2]):vi.copy(t),pf=Ct(l,"radius",vi.radius,s,d,o,r,i),mf=wo(l,"phi",vi.phi,s,d,o,r,i),vf=wo(l,"theta",vi.theta,s,d,o,r,i),pf||mf||vf}var _s=new qt,Af=new Ke,gf=new Br,yf=new Ke,Bf,Cf,Ef;function t1(l,t,s,d,o,r,i){var c=l;return c.__damp===void 0&&(c.__damp={position:new Ke,rotation:new Br,scale:new Ke},l.decompose(c.__damp.position,c.__damp.rotation,c.__damp.scale)),Array.isArray(t)?_s.set.apply(_s,Dv(t)):_s.copy(t),_s.decompose(Af,gf,yf),Bf=Cl(c.__damp.position,Af,s,d,o,r,i),Cf=js(c.__damp.rotation,gf,s,d,o,r,i),Ef=Cl(c.__damp.scale,yf,s,d,o,r,i),l.compose(c.__damp.position,c.__damp.rotation,c.__damp.scale),Bf||Cf||Ef}var bA=Object.freeze({__proto__:null,rsqw:bv,exp:Nd,linear:Hv,sine:Nv,cubic:Jv,quint:jv,circ:zv,quart:Kv,expo:Wv,damp:Ct,dampLookAt:Yv,dampAngle:wo,damp2:Vv,damp3:Cl,damp4:Zv,dampE:qv,dampC:$v,dampQ:js,dampS:e1,dampM:t1});function wn(){return wn=Object.assign?Object.assign.bind():function(l){for(var t=1;t<arguments.length;t++){var s=arguments[t];for(var d in s)({}).hasOwnProperty.call(s,d)&&(l[d]=s[d])}return l},wn.apply(null,arguments)}const Di=new Ke,Ol=new Ke,n1=new Ke,Sf=new Rt;function r1(l,t,s){const d=Di.setFromMatrixPosition(l.matrixWorld);d.project(t);const o=s.width/2,r=s.height/2;return[d.x*o+o,-(d.y*r)+r]}function o1(l,t){const s=Di.setFromMatrixPosition(l.matrixWorld),d=Ol.setFromMatrixPosition(t.matrixWorld),o=s.sub(d),r=t.getWorldDirection(n1);return o.angleTo(r)>Math.PI/2}function i1(l,t,s,d){const o=Di.setFromMatrixPosition(l.matrixWorld),r=o.clone();r.project(t),Sf.set(r.x,r.y),s.setFromCamera(Sf,t);const i=s.intersectObjects(d,!0);if(i.length){const c=i[0].distance;return o.distanceTo(s.ray.origin)<c}return!0}function s1(l,t){if(t instanceof zs)return t.zoom;if(t instanceof Ri){const s=Di.setFromMatrixPosition(l.matrixWorld),d=Ol.setFromMatrixPosition(t.matrixWorld),o=t.fov*Math.PI/180,r=s.distanceTo(d);return 1/(2*Math.tan(o/2)*r)}else return 1}function a1(l,t,s){if(t instanceof Ri||t instanceof zs){const d=Di.setFromMatrixPosition(l.matrixWorld),o=Ol.setFromMatrixPosition(t.matrixWorld),r=d.distanceTo(o),i=(s[1]-s[0])/(t.far-t.near),c=s[1]-i*t.far;return Math.round(i*r+c)}}const El=l=>Math.abs(l)<1e-10?0:l;function Jd(l,t,s=""){let d="matrix3d(";for(let o=0;o!==16;o++)d+=El(t[o]*l.elements[o])+(o!==15?",":")");return s+d}const l1=(l=>t=>Jd(t,l))([1,-1,1,1,1,-1,1,1,1,-1,1,1,1,-1,1,1]),u1=(l=>(t,s)=>Jd(t,l(s),"translate(-50%,-50%)"))(l=>[1/l,1/l,1/l,1,-1/l,-1/l,-1/l,-1,1/l,1/l,1/l,1,1,1,1,1]);function c1(l){return l&&typeof l=="object"&&"current"in l}const HA=_.forwardRef(({children:l,eps:t=.001,style:s,className:d,prepend:o,center:r,fullscreen:i,portal:c,distanceFactor:u,sprite:f=!1,transform:h=!1,occlude:m,onOcclude:A,castShadow:y,receiveShadow:B,material:C,geometry:E,zIndexRange:S=[16777271,0],calculatePosition:x=r1,as:w="div",wrapperClass:T,pointerEvents:D="auto",...P},G)=>{const{gl:b,camera:H,scene:N,size:W,raycaster:I,events:X,viewport:Q}=Qt(),[$]=_.useState(()=>document.createElement(w)),te=_.useRef(),se=_.useRef(null),Y=_.useRef(0),J=_.useRef([0,0]),k=_.useRef(null),F=_.useRef(null),R=(c==null?void 0:c.current)||X.connected||b.domElement.parentNode,L=_.useRef(null),K=_.useRef(!1),j=_.useMemo(()=>m&&m!=="blending"||Array.isArray(m)&&m.length&&c1(m[0]),[m]);_.useLayoutEffect(()=>{const ue=b.domElement;m&&m==="blending"?(ue.style.zIndex=`${Math.floor(S[0]/2)}`,ue.style.position="absolute",ue.style.pointerEvents="none"):(ue.style.zIndex=null,ue.style.position=null,ue.style.pointerEvents=null)},[m]),_.useLayoutEffect(()=>{if(se.current){const ue=te.current=hd($);if(N.updateMatrixWorld(),h)$.style.cssText="position:absolute;top:0;left:0;pointer-events:none;overflow:hidden;";else{const ee=x(se.current,H,W);$.style.cssText=`position:absolute;top:0;left:0;transform:translate3d(${ee[0]}px,${ee[1]}px,0);transform-origin:0 0;`}return R&&(o?R.prepend($):R.appendChild($)),()=>{R&&R.removeChild($),ue.unmount()}}},[R,h]),_.useLayoutEffect(()=>{T&&($.className=T)},[T]);const ne=_.useMemo(()=>h?{position:"absolute",top:0,left:0,width:W.width,height:W.height,transformStyle:"preserve-3d",pointerEvents:"none"}:{position:"absolute",transform:r?"translate3d(-50%,-50%,0)":"none",...i&&{top:-W.height/2,left:-W.width/2,width:W.width,height:W.height},...s},[s,r,i,W,h]),q=_.useMemo(()=>({position:"absolute",pointerEvents:D}),[D]);_.useLayoutEffect(()=>{if(K.current=!1,h){var ue;(ue=te.current)==null||ue.render(_.createElement("div",{ref:k,style:ne},_.createElement("div",{ref:F,style:q},_.createElement("div",{ref:G,className:d,style:s,children:l}))))}else{var ee;(ee=te.current)==null||ee.render(_.createElement("div",{ref:G,style:ne,className:d,children:l}))}});const re=_.useRef(!0);Qr(ue=>{if(se.current){H.updateMatrixWorld(),se.current.updateWorldMatrix(!0,!1);const ee=h?J.current:x(se.current,H,W);if(h||Math.abs(Y.current-H.zoom)>t||Math.abs(J.current[0]-ee[0])>t||Math.abs(J.current[1]-ee[1])>t){const oe=o1(se.current,H);let ye=!1;j&&(Array.isArray(m)?ye=m.map(Ee=>Ee.current):m!=="blending"&&(ye=[N]));const Te=re.current;if(ye){const Ee=i1(se.current,H,I,ye);re.current=Ee&&!oe}else re.current=!oe;Te!==re.current&&(A?A(!re.current):$.style.display=re.current?"block":"none");const pe=Math.floor(S[0]/2),Se=m?j?[S[0],pe]:[pe-1,0]:S;if($.style.zIndex=`${a1(se.current,H,Se)}`,h){const[Ee,ae]=[W.width/2,W.height/2],Be=H.projectionMatrix.elements[5]*ae,{isOrthographicCamera:me,top:ie,left:Ge,bottom:ve,right:Ce}=H,de=l1(H.matrixWorldInverse),We=me?`scale(${Be})translate(${El(-(Ce+Ge)/2)}px,${El((ie+ve)/2)}px)`:`translateZ(${Be}px)`;let Ae=se.current.matrixWorld;f&&(Ae=H.matrixWorldInverse.clone().transpose().copyPosition(Ae).scale(se.current.scale),Ae.elements[3]=Ae.elements[7]=Ae.elements[11]=0,Ae.elements[15]=1),$.style.width=W.width+"px",$.style.height=W.height+"px",$.style.perspective=me?"":`${Be}px`,k.current&&F.current&&(k.current.style.transform=`${We}${de}translate(${Ee}px,${ae}px)`,F.current.style.transform=u1(Ae,1/((u||10)/400)))}else{const Ee=u===void 0?1:s1(se.current,H)*u;$.style.transform=`translate3d(${ee[0]}px,${ee[1]}px,0) scale(${Ee})`}J.current=ee,Y.current=H.zoom}}if(!j&&L.current&&!K.current)if(h){if(k.current){const ee=k.current.children[0];if(ee!=null&&ee.clientWidth&&ee!=null&&ee.clientHeight){const{isOrthographicCamera:oe}=H;if(oe||E)P.scale&&(Array.isArray(P.scale)?P.scale instanceof Ke?L.current.scale.copy(P.scale.clone().divideScalar(1)):L.current.scale.set(1/P.scale[0],1/P.scale[1],1/P.scale[2]):L.current.scale.setScalar(1/P.scale));else{const ye=(u||10)/400,Te=ee.clientWidth*ye,pe=ee.clientHeight*ye;L.current.scale.set(Te,pe,1)}K.current=!0}}}else{const ee=$.children[0];if(ee!=null&&ee.clientWidth&&ee!=null&&ee.clientHeight){const oe=1/Q.factor,ye=ee.clientWidth*oe,Te=ee.clientHeight*oe;L.current.scale.set(ye,Te,1),K.current=!0}L.current.lookAt(ue.camera.position)}});const ce=_.useMemo(()=>({vertexShader:h?void 0:`
          /*
            This shader is from the THREE's SpriteMaterial.
            We need to turn the backing plane into a Sprite
            (make it always face the camera) if "transfrom"
            is false.
          */
          #include <common>

          void main() {
            vec2 center = vec2(0., 1.);
            float rotation = 0.0;

            // This is somewhat arbitrary, but it seems to work well
            // Need to figure out how to derive this dynamically if it even matters
            float size = 0.03;

            vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
            vec2 scale;
            scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
            scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );

            bool isPerspective = isPerspectiveMatrix( projectionMatrix );
            if ( isPerspective ) scale *= - mvPosition.z;

            vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale * size;
            vec2 rotatedPosition;
            rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
            rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
            mvPosition.xy += rotatedPosition;

            gl_Position = projectionMatrix * mvPosition;
          }
      `,fragmentShader:`
        void main() {
          gl_FragColor = vec4(0.0, 0.0, 0.0, 0.0);
        }
      `}),[h]);return _.createElement("group",wn({},P,{ref:se}),m&&!j&&_.createElement("mesh",{castShadow:y,receiveShadow:B,ref:L},E||_.createElement("planeGeometry",null),C||_.createElement("shaderMaterial",{side:Ws,vertexShader:ce.vertexShader,fragmentShader:ce.fragmentShader})))});function NA(l,t="pointer",s="auto",d=document.body){_.useEffect(()=>{if(l)return d.style.cursor=t,()=>void(d.style.cursor=s)},[l])}function f1(l){let t;const s=new Set,d=(f,h)=>{const m=typeof f=="function"?f(t):f;if(m!==t){const A=t;t=h?m:Object.assign({},t,m),s.forEach(y=>y(t,A))}},o=()=>t,r=(f,h=o,m=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let A=h(t);function y(){const B=h(t);if(!m(A,B)){const C=A;f(A=B,C)}}return s.add(y),()=>s.delete(y)},u={setState:d,getState:o,subscribe:(f,h,m)=>h||m?r(f,h,m):(s.add(f),()=>s.delete(f)),destroy:()=>s.clear()};return t=l(d,o,u),u}const d1=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),xf=d1?_.useEffect:_.useLayoutEffect;function h1(l){const t=typeof l=="function"?f1(l):l,s=(d=t.getState,o=Object.is)=>{const[,r]=_.useReducer(E=>E+1,0),i=t.getState(),c=_.useRef(i),u=_.useRef(d),f=_.useRef(o),h=_.useRef(!1),m=_.useRef();m.current===void 0&&(m.current=d(i));let A,y=!1;(c.current!==i||u.current!==d||f.current!==o||h.current)&&(A=d(i),y=!o(m.current,A)),xf(()=>{y&&(m.current=A),c.current=i,u.current=d,f.current=o,h.current=!1});const B=_.useRef(i);xf(()=>{const E=()=>{try{const x=t.getState(),w=u.current(x);f.current(m.current,w)||(c.current=x,m.current=w,r())}catch{h.current=!0,r()}},S=t.subscribe(E);return t.getState()!==B.current&&E(),S},[]);const C=y?A:m.current;return _.useDebugValue(C),C};return Object.assign(s,t),s[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const d=[s,t];return{next(){const o=d.length<=0;return{value:d.shift(),done:o}}}},s}let Ai=0;const JA=h1(l=>(Ms.onStart=(t,s,d)=>{l({active:!0,item:t,loaded:s,total:d,progress:(s-Ai)/(d-Ai)*100})},Ms.onLoad=()=>{l({active:!1})},Ms.onError=t=>l(s=>({errors:[...s.errors,t]})),Ms.onProgress=(t,s,d)=>{s===d&&(Ai=d),l({active:!0,item:t,loaded:s,total:d,progress:(s-Ai)/(d-Ai)*100||100})},{errors:[],active:!1,progress:0,item:"",loaded:0,total:0}));function p1(){var l=Object.create(null);function t(o,r){var i=o.id,c=o.name,u=o.dependencies;u===void 0&&(u=[]);var f=o.init;f===void 0&&(f=function(){});var h=o.getTransferables;if(h===void 0&&(h=null),!l[i])try{u=u.map(function(A){return A&&A.isWorkerModule&&(t(A,function(y){if(y instanceof Error)throw y}),A=l[A.id].value),A}),f=d("<"+c+">.init",f),h&&(h=d("<"+c+">.getTransferables",h));var m=null;typeof f=="function"?m=f.apply(void 0,u):console.error("worker module init function failed to rehydrate"),l[i]={id:i,value:m,getTransferables:h},r(m)}catch(A){A&&A.noLog||console.error(A),r(A)}}function s(o,r){var i,c=o.id,u=o.args;(!l[c]||typeof l[c].value!="function")&&r(new Error("Worker module "+c+": not found or its 'init' did not return a function"));try{var f=(i=l[c]).value.apply(i,u);f&&typeof f.then=="function"?f.then(h,function(m){return r(m instanceof Error?m:new Error(""+m))}):h(f)}catch(m){r(m)}function h(m){try{var A=l[c].getTransferables&&l[c].getTransferables(m);(!A||!Array.isArray(A)||!A.length)&&(A=void 0),r(m,A)}catch(y){console.error(y),r(y)}}}function d(o,r){var i=void 0;self.troikaDefine=function(u){return i=u};var c=URL.createObjectURL(new Blob(["/** "+o.replace(/\*/g,"")+` **/

troikaDefine(
`+r+`
)`],{type:"application/javascript"}));try{importScripts(c)}catch(u){console.error(u)}return URL.revokeObjectURL(c),delete self.troikaDefine,i}self.addEventListener("message",function(o){var r=o.data,i=r.messageId,c=r.action,u=r.data;try{c==="registerModule"&&t(u,function(f){f instanceof Error?postMessage({messageId:i,success:!1,error:f.message}):postMessage({messageId:i,success:!0,result:{isCallable:typeof f=="function"}})}),c==="callModule"&&s(u,function(f,h){f instanceof Error?postMessage({messageId:i,success:!1,error:f.message}):postMessage({messageId:i,success:!0,result:f},h||void 0)})}catch(f){postMessage({messageId:i,success:!1,error:f.stack})}})}function m1(l){var t=function(){for(var s=[],d=arguments.length;d--;)s[d]=arguments[d];return t._getInitResult().then(function(o){if(typeof o=="function")return o.apply(void 0,s);throw new Error("Worker module function was called but `init` did not return a callable function")})};return t._getInitResult=function(){var s=l.dependencies,d=l.init;s=Array.isArray(s)?s.map(function(r){return r&&r._getInitResult?r._getInitResult():r}):[];var o=Promise.all(s).then(function(r){return d.apply(null,r)});return t._getInitResult=function(){return o},o},t}var jd=function(){var l=!1;if(typeof window<"u"&&typeof window.document<"u")try{var t=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));t.terminate(),l=!0}catch(s){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+s.message+"]")}return jd=function(){return l},l},v1=0,A1=0,al=!1,Mi=Object.create(null),wi=Object.create(null),Sl=Object.create(null);function Do(l){if((!l||typeof l.init!="function")&&!al)throw new Error("requires `options.init` function");var t=l.dependencies,s=l.init,d=l.getTransferables,o=l.workerId;if(!jd())return m1(l);o==null&&(o="#default");var r="workerModule"+ ++v1,i=l.name||r,c=null;t=t&&t.map(function(f){return typeof f=="function"&&!f.workerModuleData&&(al=!0,f=Do({workerId:o,name:"<"+i+"> function dependency: "+f.name,init:`function(){return (
`+Ls(f)+`
)}`}),al=!1),f&&f.workerModuleData&&(f=f.workerModuleData),f});function u(){for(var f=[],h=arguments.length;h--;)f[h]=arguments[h];if(!c){c=Mf(o,"registerModule",u.workerModuleData);var m=function(){c=null,wi[o].delete(m)};(wi[o]||(wi[o]=new Set)).add(m)}return c.then(function(A){var y=A.isCallable;if(y)return Mf(o,"callModule",{id:r,args:f});throw new Error("Worker module function was called but `init` did not return a callable function")})}return u.workerModuleData={isWorkerModule:!0,id:r,name:i,dependencies:t,init:Ls(s),getTransferables:d&&Ls(d)},u}function g1(l){wi[l]&&wi[l].forEach(function(t){t()}),Mi[l]&&(Mi[l].terminate(),delete Mi[l])}function Ls(l){var t=l.toString();return!/^function/.test(t)&&/^\w+\s*\(/.test(t)&&(t="function "+t),t}function y1(l){var t=Mi[l];if(!t){var s=Ls(p1);t=Mi[l]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+l.replace(/\*/g,"")+` **/

;(`+s+")()"],{type:"application/javascript"}))),t.onmessage=function(d){var o=d.data,r=o.messageId,i=Sl[r];if(!i)throw new Error("WorkerModule response with empty or unknown messageId");delete Sl[r],i(o)}}return t}function Mf(l,t,s){return new Promise(function(d,o){var r=++A1;Sl[r]=function(i){i.success?d(i.result):o(new Error("Error in worker "+t+" call: "+i.error))},y1(l).postMessage({messageId:r,action:t,data:s})})}function zd(){var l=function(t){function s(J,k,F,R,L,K,j,ne){var q=1-j;ne.x=q*q*J+2*q*j*F+j*j*L,ne.y=q*q*k+2*q*j*R+j*j*K}function d(J,k,F,R,L,K,j,ne,q,re){var ce=1-q;re.x=ce*ce*ce*J+3*ce*ce*q*F+3*ce*q*q*L+q*q*q*j,re.y=ce*ce*ce*k+3*ce*ce*q*R+3*ce*q*q*K+q*q*q*ne}function o(J,k){for(var F=/([MLQCZ])([^MLQCZ]*)/g,R,L,K,j,ne;R=F.exec(J);){var q=R[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(re){return parseFloat(re)});switch(R[1]){case"M":j=L=q[0],ne=K=q[1];break;case"L":(q[0]!==j||q[1]!==ne)&&k("L",j,ne,j=q[0],ne=q[1]);break;case"Q":{k("Q",j,ne,j=q[2],ne=q[3],q[0],q[1]);break}case"C":{k("C",j,ne,j=q[4],ne=q[5],q[0],q[1],q[2],q[3]);break}case"Z":(j!==L||ne!==K)&&k("L",j,ne,L,K);break}}}function r(J,k,F){F===void 0&&(F=16);var R={x:0,y:0};o(J,function(L,K,j,ne,q,re,ce,ue,ee){switch(L){case"L":k(K,j,ne,q);break;case"Q":{for(var oe=K,ye=j,Te=1;Te<F;Te++)s(K,j,re,ce,ne,q,Te/(F-1),R),k(oe,ye,R.x,R.y),oe=R.x,ye=R.y;break}case"C":{for(var pe=K,Se=j,Ee=1;Ee<F;Ee++)d(K,j,re,ce,ue,ee,ne,q,Ee/(F-1),R),k(pe,Se,R.x,R.y),pe=R.x,Se=R.y;break}}})}var i="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",c="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",u=new WeakMap,f={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function h(J,k){var F=J.getContext?J.getContext("webgl",f):J,R=u.get(F);if(!R){let ce=function(pe){var Se=K[pe];if(!Se&&(Se=K[pe]=F.getExtension(pe),!Se))throw new Error(pe+" not supported");return Se},ue=function(pe,Se){var Ee=F.createShader(Se);return F.shaderSource(Ee,pe),F.compileShader(Ee),Ee},ee=function(pe,Se,Ee,ae){if(!j[pe]){var Be={},me={},ie=F.createProgram();F.attachShader(ie,ue(Se,F.VERTEX_SHADER)),F.attachShader(ie,ue(Ee,F.FRAGMENT_SHADER)),F.linkProgram(ie),j[pe]={program:ie,transaction:function(ve){F.useProgram(ie),ve({setUniform:function(de,We){for(var Ae=[],we=arguments.length-2;we-- >0;)Ae[we]=arguments[we+2];var Re=me[We]||(me[We]=F.getUniformLocation(ie,We));F["uniform"+de].apply(F,[Re].concat(Ae))},setAttribute:function(de,We,Ae,we,Re){var Pe=Be[de];Pe||(Pe=Be[de]={buf:F.createBuffer(),loc:F.getAttribLocation(ie,de),data:null}),F.bindBuffer(F.ARRAY_BUFFER,Pe.buf),F.vertexAttribPointer(Pe.loc,We,F.FLOAT,!1,0,0),F.enableVertexAttribArray(Pe.loc),L?F.vertexAttribDivisor(Pe.loc,we):ce("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(Pe.loc,we),Re!==Pe.data&&(F.bufferData(F.ARRAY_BUFFER,Re,Ae),Pe.data=Re)}})}}}j[pe].transaction(ae)},oe=function(pe,Se){q++;try{F.activeTexture(F.TEXTURE0+q);var Ee=ne[pe];Ee||(Ee=ne[pe]=F.createTexture(),F.bindTexture(F.TEXTURE_2D,Ee),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MIN_FILTER,F.NEAREST),F.texParameteri(F.TEXTURE_2D,F.TEXTURE_MAG_FILTER,F.NEAREST)),F.bindTexture(F.TEXTURE_2D,Ee),Se(Ee,q)}finally{q--}},ye=function(pe,Se,Ee){var ae=F.createFramebuffer();re.push(ae),F.bindFramebuffer(F.FRAMEBUFFER,ae),F.activeTexture(F.TEXTURE0+Se),F.bindTexture(F.TEXTURE_2D,pe),F.framebufferTexture2D(F.FRAMEBUFFER,F.COLOR_ATTACHMENT0,F.TEXTURE_2D,pe,0);try{Ee(ae)}finally{F.deleteFramebuffer(ae),F.bindFramebuffer(F.FRAMEBUFFER,re[--re.length-1]||null)}},Te=function(){K={},j={},ne={},q=-1,re.length=0};var L=typeof WebGL2RenderingContext<"u"&&F instanceof WebGL2RenderingContext,K={},j={},ne={},q=-1,re=[];F.canvas.addEventListener("webglcontextlost",function(pe){Te(),pe.preventDefault()},!1),u.set(F,R={gl:F,isWebGL2:L,getExtension:ce,withProgram:ee,withTexture:oe,withTextureFramebuffer:ye,handleContextLoss:Te})}k(R)}function m(J,k,F,R,L,K,j,ne){j===void 0&&(j=15),ne===void 0&&(ne=null),h(J,function(q){var re=q.gl,ce=q.withProgram,ue=q.withTexture;ue("copy",function(ee,oe){re.texImage2D(re.TEXTURE_2D,0,re.RGBA,L,K,0,re.RGBA,re.UNSIGNED_BYTE,k),ce("copy",i,c,function(ye){var Te=ye.setUniform,pe=ye.setAttribute;pe("aUV",2,re.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),Te("1i","image",oe),re.bindFramebuffer(re.FRAMEBUFFER,ne||null),re.disable(re.BLEND),re.colorMask(j&8,j&4,j&2,j&1),re.viewport(F,R,L,K),re.scissor(F,R,L,K),re.drawArrays(re.TRIANGLES,0,3)})})})}function A(J,k,F){var R=J.width,L=J.height;h(J,function(K){var j=K.gl,ne=new Uint8Array(R*L*4);j.readPixels(0,0,R,L,j.RGBA,j.UNSIGNED_BYTE,ne),J.width=k,J.height=F,m(j,ne,0,0,R,L)})}var y=Object.freeze({__proto__:null,withWebGLContext:h,renderImageData:m,resizeWebGLCanvasWithoutClearing:A});function B(J,k,F,R,L,K){K===void 0&&(K=1);var j=new Uint8Array(J*k),ne=R[2]-R[0],q=R[3]-R[1],re=[];r(F,function(pe,Se,Ee,ae){re.push({x1:pe,y1:Se,x2:Ee,y2:ae,minX:Math.min(pe,Ee),minY:Math.min(Se,ae),maxX:Math.max(pe,Ee),maxY:Math.max(Se,ae)})}),re.sort(function(pe,Se){return pe.maxX-Se.maxX});for(var ce=0;ce<J;ce++)for(var ue=0;ue<k;ue++){var ee=ye(R[0]+ne*(ce+.5)/J,R[1]+q*(ue+.5)/k),oe=Math.pow(1-Math.abs(ee)/L,K)/2;ee<0&&(oe=1-oe),oe=Math.max(0,Math.min(255,Math.round(oe*255))),j[ue*J+ce]=oe}return j;function ye(pe,Se){for(var Ee=1/0,ae=1/0,Be=re.length;Be--;){var me=re[Be];if(me.maxX+ae<=pe)break;if(pe+ae>me.minX&&Se-ae<me.maxY&&Se+ae>me.minY){var ie=S(pe,Se,me.x1,me.y1,me.x2,me.y2);ie<Ee&&(Ee=ie,ae=Math.sqrt(Ee))}}return Te(pe,Se)&&(ae=-ae),ae}function Te(pe,Se){for(var Ee=0,ae=re.length;ae--;){var Be=re[ae];if(Be.maxX<=pe)break;var me=Be.y1>Se!=Be.y2>Se&&pe<(Be.x2-Be.x1)*(Se-Be.y1)/(Be.y2-Be.y1)+Be.x1;me&&(Ee+=Be.y1<Be.y2?1:-1)}return Ee!==0}}function C(J,k,F,R,L,K,j,ne,q,re){K===void 0&&(K=1),ne===void 0&&(ne=0),q===void 0&&(q=0),re===void 0&&(re=0),E(J,k,F,R,L,K,j,null,ne,q,re)}function E(J,k,F,R,L,K,j,ne,q,re,ce){K===void 0&&(K=1),q===void 0&&(q=0),re===void 0&&(re=0),ce===void 0&&(ce=0);for(var ue=B(J,k,F,R,L,K),ee=new Uint8Array(ue.length*4),oe=0;oe<ue.length;oe++)ee[oe*4+ce]=ue[oe];m(j,ee,q,re,J,k,1<<3-ce,ne)}function S(J,k,F,R,L,K){var j=L-F,ne=K-R,q=j*j+ne*ne,re=q?Math.max(0,Math.min(1,((J-F)*j+(k-R)*ne)/q)):0,ce=J-(F+re*j),ue=k-(R+re*ne);return ce*ce+ue*ue}var x=Object.freeze({__proto__:null,generate:B,generateIntoCanvas:C,generateIntoFramebuffer:E}),w="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",T="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",D="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",P=new Float32Array([0,0,2,0,0,2]),G=null,b=!1,H={},N=new WeakMap;function W(J){if(!b&&!$(J))throw new Error("WebGL generation not supported")}function I(J,k,F,R,L,K,j){if(K===void 0&&(K=1),j===void 0&&(j=null),!j&&(j=G,!j)){var ne=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ne)throw new Error("OffscreenCanvas or DOM canvas not supported");j=G=ne.getContext("webgl",{depth:!1})}W(j);var q=new Uint8Array(J*k*4);h(j,function(ee){var oe=ee.gl,ye=ee.withTexture,Te=ee.withTextureFramebuffer;ye("readable",function(pe,Se){oe.texImage2D(oe.TEXTURE_2D,0,oe.RGBA,J,k,0,oe.RGBA,oe.UNSIGNED_BYTE,null),Te(pe,Se,function(Ee){Q(J,k,F,R,L,K,oe,Ee,0,0,0),oe.readPixels(0,0,J,k,oe.RGBA,oe.UNSIGNED_BYTE,q)})})});for(var re=new Uint8Array(J*k),ce=0,ue=0;ce<q.length;ce+=4)re[ue++]=q[ce];return re}function X(J,k,F,R,L,K,j,ne,q,re){K===void 0&&(K=1),ne===void 0&&(ne=0),q===void 0&&(q=0),re===void 0&&(re=0),Q(J,k,F,R,L,K,j,null,ne,q,re)}function Q(J,k,F,R,L,K,j,ne,q,re,ce){K===void 0&&(K=1),q===void 0&&(q=0),re===void 0&&(re=0),ce===void 0&&(ce=0),W(j);var ue=[];r(F,function(ee,oe,ye,Te){ue.push(ee,oe,ye,Te)}),ue=new Float32Array(ue),h(j,function(ee){var oe=ee.gl,ye=ee.isWebGL2,Te=ee.getExtension,pe=ee.withProgram,Se=ee.withTexture,Ee=ee.withTextureFramebuffer,ae=ee.handleContextLoss;if(Se("rawDistances",function(Be,me){(J!==Be._lastWidth||k!==Be._lastHeight)&&oe.texImage2D(oe.TEXTURE_2D,0,oe.RGBA,Be._lastWidth=J,Be._lastHeight=k,0,oe.RGBA,oe.UNSIGNED_BYTE,null),pe("main",w,T,function(ie){var Ge=ie.setAttribute,ve=ie.setUniform,Ce=!ye&&Te("ANGLE_instanced_arrays"),de=!ye&&Te("EXT_blend_minmax");Ge("aUV",2,oe.STATIC_DRAW,0,P),Ge("aLineSegment",4,oe.DYNAMIC_DRAW,1,ue),ve.apply(void 0,["4f","uGlyphBounds"].concat(R)),ve("1f","uMaxDistance",L),ve("1f","uExponent",K),Ee(Be,me,function(We){oe.enable(oe.BLEND),oe.colorMask(!0,!0,!0,!0),oe.viewport(0,0,J,k),oe.scissor(0,0,J,k),oe.blendFunc(oe.ONE,oe.ONE),oe.blendEquationSeparate(oe.FUNC_ADD,ye?oe.MAX:de.MAX_EXT),oe.clear(oe.COLOR_BUFFER_BIT),ye?oe.drawArraysInstanced(oe.TRIANGLES,0,3,ue.length/4):Ce.drawArraysInstancedANGLE(oe.TRIANGLES,0,3,ue.length/4)})}),pe("post",i,D,function(ie){ie.setAttribute("aUV",2,oe.STATIC_DRAW,0,P),ie.setUniform("1i","tex",me),oe.bindFramebuffer(oe.FRAMEBUFFER,ne),oe.disable(oe.BLEND),oe.colorMask(ce===0,ce===1,ce===2,ce===3),oe.viewport(q,re,J,k),oe.scissor(q,re,J,k),oe.drawArrays(oe.TRIANGLES,0,3)})}),oe.isContextLost())throw ae(),new Error("webgl context lost")})}function $(J){var k=!J||J===G?H:J.canvas||J,F=N.get(k);if(F===void 0){b=!0;var R=null;try{var L=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],K=I(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,J);F=K&&L.length===K.length&&K.every(function(j,ne){return j===L[ne]}),F||(R="bad trial run results",console.info(L,K))}catch(j){F=!1,R=j.message}R&&console.warn("WebGL SDF generation not supported:",R),b=!1,N.set(k,F)}return F}var te=Object.freeze({__proto__:null,generate:I,generateIntoCanvas:X,generateIntoFramebuffer:Q,isSupported:$});function se(J,k,F,R,L,K){L===void 0&&(L=Math.max(R[2]-R[0],R[3]-R[1])/2),K===void 0&&(K=1);try{return I.apply(te,arguments)}catch(j){return console.info("WebGL SDF generation failed, falling back to JS",j),B.apply(x,arguments)}}function Y(J,k,F,R,L,K,j,ne,q,re){L===void 0&&(L=Math.max(R[2]-R[0],R[3]-R[1])/2),K===void 0&&(K=1),ne===void 0&&(ne=0),q===void 0&&(q=0),re===void 0&&(re=0);try{return X.apply(te,arguments)}catch(ce){return console.info("WebGL SDF generation failed, falling back to JS",ce),C.apply(x,arguments)}}return t.forEachPathCommand=o,t.generate=se,t.generateIntoCanvas=Y,t.javascript=x,t.pathToLineSegments=r,t.webgl=te,t.webglUtils=y,Object.defineProperty(t,"__esModule",{value:!0}),t}({});return l}function B1(){var l=function(t){var s={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},d={},o={};d.L=1,o[1]="L",Object.keys(s).forEach(function(ae,Be){d[ae]=1<<Be+1,o[d[ae]]=ae}),Object.freeze(d);var r=d.LRI|d.RLI|d.FSI,i=d.L|d.R|d.AL,c=d.B|d.S|d.WS|d.ON|d.FSI|d.LRI|d.RLI|d.PDI,u=d.BN|d.RLE|d.LRE|d.RLO|d.LRO|d.PDF,f=d.S|d.WS|d.B|r|d.PDI|u,h=null;function m(){if(!h){h=new Map;var ae=function(me){if(s.hasOwnProperty(me)){var ie=0;s[me].split(",").forEach(function(Ge){var ve=Ge.split("+"),Ce=ve[0],de=ve[1];Ce=parseInt(Ce,36),de=de?parseInt(de,36):0,h.set(ie+=Ce,d[me]);for(var We=0;We<de;We++)h.set(++ie,d[me])})}};for(var Be in s)ae(Be)}}function A(ae){return m(),h.get(ae.codePointAt(0))||d.L}function y(ae){return o[A(ae)]}var B={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function C(ae,Be){var me=36,ie=0,Ge=new Map,ve=Be&&new Map,Ce;return ae.split(",").forEach(function de(We){if(We.indexOf("+")!==-1)for(var Ae=+We;Ae--;)de(Ce);else{Ce=We;var we=We.split(">"),Re=we[0],Pe=we[1];Re=String.fromCodePoint(ie+=parseInt(Re,me)),Pe=String.fromCodePoint(ie+=parseInt(Pe,me)),Ge.set(Re,Pe),Be&&ve.set(Pe,Re)}}),{map:Ge,reverseMap:ve}}var E,S,x;function w(){if(!E){var ae=C(B.pairs,!0),Be=ae.map,me=ae.reverseMap;E=Be,S=me,x=C(B.canonical,!1).map}}function T(ae){return w(),E.get(ae)||null}function D(ae){return w(),S.get(ae)||null}function P(ae){return w(),x.get(ae)||null}var G=d.L,b=d.R,H=d.EN,N=d.ES,W=d.ET,I=d.AN,X=d.CS,Q=d.B,$=d.S,te=d.ON,se=d.BN,Y=d.NSM,J=d.AL,k=d.LRO,F=d.RLO,R=d.LRE,L=d.RLE,K=d.PDF,j=d.LRI,ne=d.RLI,q=d.FSI,re=d.PDI;function ce(ae,Be){for(var me=125,ie=new Uint32Array(ae.length),Ge=0;Ge<ae.length;Ge++)ie[Ge]=A(ae[Ge]);var ve=new Map;function Ce(Ft,jt){var pt=ie[Ft];ie[Ft]=jt,ve.set(pt,ve.get(pt)-1),pt&c&&ve.set(c,ve.get(c)-1),ve.set(jt,(ve.get(jt)||0)+1),jt&c&&ve.set(c,(ve.get(c)||0)+1)}for(var de=new Uint8Array(ae.length),We=new Map,Ae=[],we=null,Re=0;Re<ae.length;Re++)we||Ae.push(we={start:Re,end:ae.length-1,level:Be==="rtl"?1:Be==="ltr"?0:ro(Re,!1)}),ie[Re]&Q&&(we.end=Re,we=null);for(var Pe=L|R|F|k|r|re|K|Q,$e=function(Ft){return Ft+(Ft&1?1:2)},st=function(Ft){return Ft+(Ft&1?2:1)},be=0;be<Ae.length;be++){we=Ae[be];var He=[{_level:we.level,_override:0,_isolate:0}],_e=void 0,at=0,tt=0,Ut=0;ve.clear();for(var et=we.start;et<=we.end;et++){var Ie=ie[et];if(_e=He[He.length-1],ve.set(Ie,(ve.get(Ie)||0)+1),Ie&c&&ve.set(c,(ve.get(c)||0)+1),Ie&Pe)if(Ie&(L|R)){de[et]=_e._level;var Ye=(Ie===L?st:$e)(_e._level);Ye<=me&&!at&&!tt?He.push({_level:Ye,_override:0,_isolate:0}):at||tt++}else if(Ie&(F|k)){de[et]=_e._level;var Un=(Ie===F?st:$e)(_e._level);Un<=me&&!at&&!tt?He.push({_level:Un,_override:Ie&F?b:G,_isolate:0}):at||tt++}else if(Ie&r){Ie&q&&(Ie=ro(et+1,!0)===1?ne:j),de[et]=_e._level,_e._override&&Ce(et,_e._override);var Ve=(Ie===ne?st:$e)(_e._level);Ve<=me&&at===0&&tt===0?(Ut++,He.push({_level:Ve,_override:0,_isolate:1,_isolInitIndex:et})):at++}else if(Ie&re){if(at>0)at--;else if(Ut>0){for(tt=0;!He[He.length-1]._isolate;)He.pop();var Ne=He[He.length-1]._isolInitIndex;Ne!=null&&(We.set(Ne,et),We.set(et,Ne)),He.pop(),Ut--}_e=He[He.length-1],de[et]=_e._level,_e._override&&Ce(et,_e._override)}else Ie&K?(at===0&&(tt>0?tt--:!_e._isolate&&He.length>1&&(He.pop(),_e=He[He.length-1])),de[et]=_e._level):Ie&Q&&(de[et]=we.level);else de[et]=_e._level,_e._override&&Ie!==se&&Ce(et,_e._override)}for(var ut=[],ot=null,Ue=we.start;Ue<=we.end;Ue++){var nt=ie[Ue];if(!(nt&u)){var Et=de[Ue],St=nt&r,ht=nt===re;ot&&Et===ot._level?(ot._end=Ue,ot._endsWithIsolInit=St):ut.push(ot={_start:Ue,_end:Ue,_level:Et,_startsWithPDI:ht,_endsWithIsolInit:St})}}for(var $t=[],Fn=0;Fn<ut.length;Fn++){var en=ut[Fn];if(!en._startsWithPDI||en._startsWithPDI&&!We.has(en._start)){for(var Pn=[ot=en],tn=void 0;ot&&ot._endsWithIsolInit&&(tn=We.get(ot._end))!=null;)for(var Tn=Fn+1;Tn<ut.length;Tn++)if(ut[Tn]._start===tn){Pn.push(ot=ut[Tn]);break}for(var Dt=[],Qn=0;Qn<Pn.length;Qn++)for(var Ii=Pn[Qn],Io=Ii._start;Io<=Ii._end;Io++)Dt.push(Io);for(var Vs=de[Dt[0]],Gi=we.level,Er=Dt[0]-1;Er>=0;Er--)if(!(ie[Er]&u)){Gi=de[Er];break}var Go=Dt[Dt.length-1],Zs=de[Go],Ui=we.level;if(!(ie[Go]&r)){for(var Xr=Go+1;Xr<=we.end;Xr++)if(!(ie[Xr]&u)){Ui=de[Xr];break}}$t.push({_seqIndices:Dt,_sosType:Math.max(Gi,Vs)%2?b:G,_eosType:Math.max(Ui,Zs)%2?b:G})}}for(var Uo=0;Uo<$t.length;Uo++){var Po=$t[Uo],xe=Po._seqIndices,_n=Po._sosType,ko=Po._eosType,kn=de[xe[0]]&1?b:G;if(ve.get(Y))for(var Yr=0;Yr<xe.length;Yr++){var Vr=xe[Yr];if(ie[Vr]&Y){for(var Ln=_n,nn=Yr-1;nn>=0;nn--)if(!(ie[xe[nn]]&u)){Ln=ie[xe[nn]];break}Ce(Vr,Ln&(r|re)?te:Ln)}}if(ve.get(H))for(var Ze=0;Ze<xe.length;Ze++){var qe=xe[Ze];if(ie[qe]&H)for(var rn=Ze-1;rn>=-1;rn--){var yt=rn===-1?_n:ie[xe[rn]];if(yt&i){yt===J&&Ce(qe,I);break}}}if(ve.get(J))for(var xt=0;xt<xe.length;xt++){var On=xe[xt];ie[On]&J&&Ce(On,b)}if(ve.get(N)||ve.get(X))for(var mn=1;mn<xe.length-1;mn++){var Mt=xe[mn];if(ie[Mt]&(N|X)){for(var Rn=0,Zr=0,qr=mn-1;qr>=0&&(Rn=ie[xe[qr]],!!(Rn&u));qr--);for(var lr=mn+1;lr<xe.length&&(Zr=ie[xe[lr]],!!(Zr&u));lr++);Rn===Zr&&(ie[Mt]===N?Rn===H:Rn&(H|I))&&Ce(Mt,Rn)}}if(ve.get(H))for(var on=0;on<xe.length;on++){var sn=xe[on];if(ie[sn]&H){for(var $r=on-1;$r>=0&&ie[xe[$r]]&(W|u);$r--)Ce(xe[$r],H);for(on++;on<xe.length&&ie[xe[on]]&(W|u|H);on++)ie[xe[on]]!==H&&Ce(xe[on],H)}}if(ve.get(W)||ve.get(N)||ve.get(X))for(var Sr=0;Sr<xe.length;Sr++){var Pi=xe[Sr];if(ie[Pi]&(W|N|X)){Ce(Pi,te);for(var Xn=Sr-1;Xn>=0&&ie[xe[Xn]]&u;Xn--)Ce(xe[Xn],te);for(var Yn=Sr+1;Yn<xe.length&&ie[xe[Yn]]&u;Yn++)Ce(xe[Yn],te)}}if(ve.get(H))for(var Vn=0,xr=_n;Vn<xe.length;Vn++){var ki=xe[Vn],Lo=ie[ki];Lo&H?xr===G&&Ce(ki,G):Lo&i&&(xr=Lo)}if(ve.get(c)){var Zn=b|H|I,eo=Zn|G,bn=[];{for(var ur=[],Hn=0;Hn<xe.length;Hn++)if(ie[xe[Hn]]&c){var je=ae[xe[Hn]],Oo=void 0;if(T(je)!==null)if(ur.length<63)ur.push({char:je,seqIndex:Hn});else break;else if((Oo=D(je))!==null)for(var qn=ur.length-1;qn>=0;qn--){var to=ur[qn].char;if(to===Oo||to===D(P(je))||T(P(to))===je){bn.push([ur[qn].seqIndex,Hn]),ur.length=qn;break}}}bn.sort(function(Ft,jt){return Ft[0]-jt[0]})}for(var bo=0;bo<bn.length;bo++){for(var Li=bn[bo],ct=Li[0],Mr=Li[1],Oi=!1,Ht=0,Ho=ct+1;Ho<Mr;Ho++){var wr=xe[Ho];if(ie[wr]&eo){Oi=!0;var an=ie[wr]&Zn?b:G;if(an===kn){Ht=an;break}}}if(Oi&&!Ht){Ht=_n;for(var No=ct-1;No>=0;No--){var bi=xe[No];if(ie[bi]&eo){var ln=ie[bi]&Zn?b:G;ln!==kn?Ht=ln:Ht=kn;break}}}if(Ht){if(ie[xe[ct]]=ie[xe[Mr]]=Ht,Ht!==kn){for(var Nt=ct+1;Nt<xe.length;Nt++)if(!(ie[xe[Nt]]&u)){A(ae[xe[Nt]])&Y&&(ie[xe[Nt]]=Ht);break}}if(Ht!==kn){for(var Nn=Mr+1;Nn<xe.length;Nn++)if(!(ie[xe[Nn]]&u)){A(ae[xe[Nn]])&Y&&(ie[xe[Nn]]=Ht);break}}}}for(var vn=0;vn<xe.length;vn++)if(ie[xe[vn]]&c){for(var Jo=vn,jo=vn,Xt=_n,Fr=vn-1;Fr>=0;Fr--)if(ie[xe[Fr]]&u)Jo=Fr;else{Xt=ie[xe[Fr]]&Zn?b:G;break}for(var Tr=ko,_r=vn+1;_r<xe.length;_r++)if(ie[xe[_r]]&(c|u))jo=_r;else{Tr=ie[xe[_r]]&Zn?b:G;break}for(var Jt=Jo;Jt<=jo;Jt++)ie[xe[Jt]]=Xt===Tr?Xt:kn;vn=jo}}}for(var wt=we.start;wt<=we.end;wt++){var no=de[wt],Dn=ie[wt];if(no&1?Dn&(G|H|I)&&de[wt]++:Dn&b?de[wt]++:Dn&(I|H)&&(de[wt]+=2),Dn&u&&(de[wt]=wt===0?we.level:de[wt-1]),wt===we.end||A(ae[wt])&($|Q))for(var cr=wt;cr>=0&&A(ae[cr])&f;cr--)de[cr]=we.level}}return{levels:de,paragraphs:Ae};function ro(Ft,jt){for(var pt=Ft;pt<ae.length;pt++){var mt=ie[pt];if(mt&(b|J))return 1;if(mt&(Q|G)||jt&&mt===re)return 0;if(mt&r){var un=Hi(pt);pt=un===-1?ae.length:un}}return 0}function Hi(Ft){for(var jt=1,pt=Ft+1;pt<ae.length;pt++){var mt=ie[pt];if(mt&Q)break;if(mt&re){if(--jt===0)return pt}else mt&r&&jt++}return-1}}var ue="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",ee;function oe(){if(!ee){var ae=C(ue,!0),Be=ae.map,me=ae.reverseMap;me.forEach(function(ie,Ge){Be.set(Ge,ie)}),ee=Be}}function ye(ae){return oe(),ee.get(ae)||null}function Te(ae,Be,me,ie){var Ge=ae.length;me=Math.max(0,me==null?0:+me),ie=Math.min(Ge-1,ie==null?Ge-1:+ie);for(var ve=new Map,Ce=me;Ce<=ie;Ce++)if(Be[Ce]&1){var de=ye(ae[Ce]);de!==null&&ve.set(Ce,de)}return ve}function pe(ae,Be,me,ie){var Ge=ae.length;me=Math.max(0,me==null?0:+me),ie=Math.min(Ge-1,ie==null?Ge-1:+ie);var ve=[];return Be.paragraphs.forEach(function(Ce){var de=Math.max(me,Ce.start),We=Math.min(ie,Ce.end);if(de<We){for(var Ae=Be.levels.slice(de,We+1),we=We;we>=de&&A(ae[we])&f;we--)Ae[we]=Ce.level;for(var Re=Ce.level,Pe=1/0,$e=0;$e<Ae.length;$e++){var st=Ae[$e];st>Re&&(Re=st),st<Pe&&(Pe=st|1)}for(var be=Re;be>=Pe;be--)for(var He=0;He<Ae.length;He++)if(Ae[He]>=be){for(var _e=He;He+1<Ae.length&&Ae[He+1]>=be;)He++;He>_e&&ve.push([_e+de,He+de])}}}),ve}function Se(ae,Be,me,ie){var Ge=Ee(ae,Be,me,ie),ve=[].concat(ae);return Ge.forEach(function(Ce,de){ve[de]=(Be.levels[Ce]&1?ye(ae[Ce]):null)||ae[Ce]}),ve.join("")}function Ee(ae,Be,me,ie){for(var Ge=pe(ae,Be,me,ie),ve=[],Ce=0;Ce<ae.length;Ce++)ve[Ce]=Ce;return Ge.forEach(function(de){for(var We=de[0],Ae=de[1],we=ve.slice(We,Ae+1),Re=we.length;Re--;)ve[Ae-Re]=we[Re]}),ve}return t.closingToOpeningBracket=D,t.getBidiCharType=A,t.getBidiCharTypeName=y,t.getCanonicalBracket=P,t.getEmbeddingLevels=ce,t.getMirroredCharacter=ye,t.getMirroredCharactersMap=Te,t.getReorderSegments=pe,t.getReorderedIndices=Ee,t.getReorderedString=Se,t.openingToClosingBracket=T,Object.defineProperty(t,"__esModule",{value:!0}),t}({});return l}const Kd=/\bvoid\s+main\s*\(\s*\)\s*{/g;function xl(l){const t=/^[ \t]*#include +<([\w\d./]+)>/gm;function s(d,o){let r=Gp[o];return r?xl(r):d}return l.replace(t,s)}const Gt=[];for(let l=0;l<256;l++)Gt[l]=(l<16?"0":"")+l.toString(16);function C1(){const l=Math.random()*4294967295|0,t=Math.random()*4294967295|0,s=Math.random()*4294967295|0,d=Math.random()*4294967295|0;return(Gt[l&255]+Gt[l>>8&255]+Gt[l>>16&255]+Gt[l>>24&255]+"-"+Gt[t&255]+Gt[t>>8&255]+"-"+Gt[t>>16&15|64]+Gt[t>>24&255]+"-"+Gt[s&63|128]+Gt[s>>8&255]+"-"+Gt[s>>16&255]+Gt[s>>24&255]+Gt[d&255]+Gt[d>>8&255]+Gt[d>>16&255]+Gt[d>>24&255]).toUpperCase()}const Nr=Object.assign||function(){let l=arguments[0];for(let t=1,s=arguments.length;t<s;t++){let d=arguments[t];if(d)for(let o in d)Object.prototype.hasOwnProperty.call(d,o)&&(l[o]=d[o])}return l},E1=Date.now(),wf=new WeakMap,Ff=new Map;let S1=1e10;function Ml(l,t){const s=F1(t);let d=wf.get(l);if(d||wf.set(l,d=Object.create(null)),d[s])return new d[s];const o=`_onBeforeCompile${s}`,r=function(f,h){l.onBeforeCompile.call(this,f,h);const m=this.customProgramCacheKey()+"|"+f.vertexShader+"|"+f.fragmentShader;let A=Ff[m];if(!A){const y=x1(this,f,t,s);A=Ff[m]=y}f.vertexShader=A.vertexShader,f.fragmentShader=A.fragmentShader,Nr(f.uniforms,this.uniforms),t.timeUniform&&(f.uniforms[t.timeUniform]={get value(){return Date.now()-E1}}),this[o]&&this[o](f)},i=function(){return c(t.chained?l:l.clone())},c=function(f){const h=Object.create(f,u);return Object.defineProperty(h,"baseMaterial",{value:l}),Object.defineProperty(h,"id",{value:S1++}),h.uuid=C1(),h.uniforms=Nr({},f.uniforms,t.uniforms),h.defines=Nr({},f.defines,t.defines),h.defines[`TROIKA_DERIVED_MATERIAL_${s}`]="",h.extensions=Nr({},f.extensions,t.extensions),h._listeners=void 0,h},u={constructor:{value:i},isDerivedMaterial:{value:!0},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return l.customProgramCacheKey()+"|"+s}},onBeforeCompile:{get(){return r},set(f){this[o]=f}},copy:{writable:!0,configurable:!0,value:function(f){return l.copy.call(this,f),!l.isShaderMaterial&&!l.isDerivedMaterial&&(Nr(this.extensions,f.extensions),Nr(this.defines,f.defines),Nr(this.uniforms,ld.clone(f.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const f=new l.constructor;return c(f).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let f=this._depthMaterial;return f||(f=this._depthMaterial=Ml(l.isDerivedMaterial?l.getDepthMaterial():new Rp({depthPacking:Dp}),t),f.defines.IS_DEPTH_MATERIAL="",f.uniforms=this.uniforms),f}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let f=this._distanceMaterial;return f||(f=this._distanceMaterial=Ml(l.isDerivedMaterial?l.getDistanceMaterial():new Ip,t),f.defines.IS_DISTANCE_MATERIAL="",f.uniforms=this.uniforms),f}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:f,_distanceMaterial:h}=this;f&&f.dispose(),h&&h.dispose(),l.dispose.call(this)}}};return d[s]=i,new i}function x1(l,{vertexShader:t,fragmentShader:s},d,o){let{vertexDefs:r,vertexMainIntro:i,vertexMainOutro:c,vertexTransform:u,fragmentDefs:f,fragmentMainIntro:h,fragmentMainOutro:m,fragmentColorTransform:A,customRewriter:y,timeUniform:B}=d;if(r=r||"",i=i||"",c=c||"",f=f||"",h=h||"",m=m||"",(u||y)&&(t=xl(t)),(A||y)&&(s=s.replace(/^[ \t]*#include <((?:tonemapping|encodings|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),s=xl(s)),y){let C=y({vertexShader:t,fragmentShader:s});t=C.vertexShader,s=C.fragmentShader}if(A){let C=[];s=s.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,E=>(C.push(E),"")),m=`${A}
${C.join(`
`)}
${m}`}if(B){const C=`
uniform float ${B};
`;r=C+r,f=C+f}return u&&(t=`vec3 troika_position_${o};
vec3 troika_normal_${o};
vec2 troika_uv_${o};
${t}
`,r=`${r}
void troikaVertexTransform${o}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${u}
}
`,i=`
troika_position_${o} = vec3(position);
troika_normal_${o} = vec3(normal);
troika_uv_${o} = vec2(uv);
troikaVertexTransform${o}(troika_position_${o}, troika_normal_${o}, troika_uv_${o});
${i}
`,t=t.replace(/\b(position|normal|uv)\b/g,(C,E,S,x)=>/\battribute\s+vec[23]\s+$/.test(x.substr(0,S))?E:`troika_${E}_${o}`),l.map&&l.map.channel>0||(t=t.replace(/\bMAP_UV\b/g,`troika_uv_${o}`))),t=Tf(t,o,r,i,c),s=Tf(s,o,f,h,m),{vertexShader:t,fragmentShader:s}}function Tf(l,t,s,d,o){return(d||o||s)&&(l=l.replace(Kd,`
${s}
void troikaOrigMain${t}() {`),l+=`
void main() {
  ${d}
  troikaOrigMain${t}();
  ${o}
}`),l}function M1(l,t){return l==="uniforms"?void 0:typeof t=="function"?t.toString():t}let w1=0;const _f=new Map;function F1(l){const t=JSON.stringify(l,M1);let s=_f.get(t);return s==null&&_f.set(t,s=++w1),s}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function T1(){return typeof window>"u"&&(self.window=self),function(l){var t={parse:function(o){var r=t._bin,i=new Uint8Array(o);if(r.readASCII(i,0,4)=="ttcf"){var c=4;r.readUshort(i,c),c+=2,r.readUshort(i,c),c+=2;var u=r.readUint(i,c);c+=4;for(var f=[],h=0;h<u;h++){var m=r.readUint(i,c);c+=4,f.push(t._readFont(i,m))}return f}return[t._readFont(i,0)]},_readFont:function(o,r){var i=t._bin,c=r;i.readFixed(o,r),r+=4;var u=i.readUshort(o,r);r+=2,i.readUshort(o,r),r+=2,i.readUshort(o,r),r+=2,i.readUshort(o,r),r+=2;for(var f=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],h={_data:o,_offset:c},m={},A=0;A<u;A++){var y=i.readASCII(o,r,4);r+=4,i.readUint(o,r),r+=4;var B=i.readUint(o,r);r+=4;var C=i.readUint(o,r);r+=4,m[y]={offset:B,length:C}}for(A=0;A<f.length;A++){var E=f[A];m[E]&&(h[E.trim()]=t[E.trim()].parse(o,m[E].offset,m[E].length,h))}return h},_tabOffset:function(o,r,i){for(var c=t._bin,u=c.readUshort(o,i+4),f=i+12,h=0;h<u;h++){var m=c.readASCII(o,f,4);f+=4,c.readUint(o,f),f+=4;var A=c.readUint(o,f);if(f+=4,c.readUint(o,f),f+=4,m==r)return A}return 0}};t._bin={readFixed:function(o,r){return(o[r]<<8|o[r+1])+(o[r+2]<<8|o[r+3])/65540},readF2dot14:function(o,r){return t._bin.readShort(o,r)/16384},readInt:function(o,r){return t._bin._view(o).getInt32(r)},readInt8:function(o,r){return t._bin._view(o).getInt8(r)},readShort:function(o,r){return t._bin._view(o).getInt16(r)},readUshort:function(o,r){return t._bin._view(o).getUint16(r)},readUshorts:function(o,r,i){for(var c=[],u=0;u<i;u++)c.push(t._bin.readUshort(o,r+2*u));return c},readUint:function(o,r){return t._bin._view(o).getUint32(r)},readUint64:function(o,r){return 4294967296*t._bin.readUint(o,r)+t._bin.readUint(o,r+4)},readASCII:function(o,r,i){for(var c="",u=0;u<i;u++)c+=String.fromCharCode(o[r+u]);return c},readUnicode:function(o,r,i){for(var c="",u=0;u<i;u++){var f=o[r++]<<8|o[r++];c+=String.fromCharCode(f)}return c},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(o,r,i){var c=t._bin._tdec;return c&&r==0&&i==o.length?c.decode(o):t._bin.readASCII(o,r,i)},readBytes:function(o,r,i){for(var c=[],u=0;u<i;u++)c.push(o[r+u]);return c},readASCIIArray:function(o,r,i){for(var c=[],u=0;u<i;u++)c.push(String.fromCharCode(o[r+u]));return c},_view:function(o){return o._dataView||(o._dataView=o.buffer?new DataView(o.buffer,o.byteOffset,o.byteLength):new DataView(new Uint8Array(o).buffer))}},t._lctf={},t._lctf.parse=function(o,r,i,c,u){var f=t._bin,h={},m=r;f.readFixed(o,r),r+=4;var A=f.readUshort(o,r);r+=2;var y=f.readUshort(o,r);r+=2;var B=f.readUshort(o,r);return r+=2,h.scriptList=t._lctf.readScriptList(o,m+A),h.featureList=t._lctf.readFeatureList(o,m+y),h.lookupList=t._lctf.readLookupList(o,m+B,u),h},t._lctf.readLookupList=function(o,r,i){var c=t._bin,u=r,f=[],h=c.readUshort(o,r);r+=2;for(var m=0;m<h;m++){var A=c.readUshort(o,r);r+=2;var y=t._lctf.readLookupTable(o,u+A,i);f.push(y)}return f},t._lctf.readLookupTable=function(o,r,i){var c=t._bin,u=r,f={tabs:[]};f.ltype=c.readUshort(o,r),r+=2,f.flag=c.readUshort(o,r),r+=2;var h=c.readUshort(o,r);r+=2;for(var m=f.ltype,A=0;A<h;A++){var y=c.readUshort(o,r);r+=2;var B=i(o,m,u+y,f);f.tabs.push(B)}return f},t._lctf.numOfOnes=function(o){for(var r=0,i=0;i<32;i++)o>>>i&1&&r++;return r},t._lctf.readClassDef=function(o,r){var i=t._bin,c=[],u=i.readUshort(o,r);if(r+=2,u==1){var f=i.readUshort(o,r);r+=2;var h=i.readUshort(o,r);r+=2;for(var m=0;m<h;m++)c.push(f+m),c.push(f+m),c.push(i.readUshort(o,r)),r+=2}if(u==2){var A=i.readUshort(o,r);for(r+=2,m=0;m<A;m++)c.push(i.readUshort(o,r)),r+=2,c.push(i.readUshort(o,r)),r+=2,c.push(i.readUshort(o,r)),r+=2}return c},t._lctf.getInterval=function(o,r){for(var i=0;i<o.length;i+=3){var c=o[i],u=o[i+1];if(o[i+2],c<=r&&r<=u)return i}return-1},t._lctf.readCoverage=function(o,r){var i=t._bin,c={};c.fmt=i.readUshort(o,r),r+=2;var u=i.readUshort(o,r);return r+=2,c.fmt==1&&(c.tab=i.readUshorts(o,r,u)),c.fmt==2&&(c.tab=i.readUshorts(o,r,3*u)),c},t._lctf.coverageIndex=function(o,r){var i=o.tab;if(o.fmt==1)return i.indexOf(r);if(o.fmt==2){var c=t._lctf.getInterval(i,r);if(c!=-1)return i[c+2]+(r-i[c])}return-1},t._lctf.readFeatureList=function(o,r){var i=t._bin,c=r,u=[],f=i.readUshort(o,r);r+=2;for(var h=0;h<f;h++){var m=i.readASCII(o,r,4);r+=4;var A=i.readUshort(o,r);r+=2;var y=t._lctf.readFeatureTable(o,c+A);y.tag=m.trim(),u.push(y)}return u},t._lctf.readFeatureTable=function(o,r){var i=t._bin,c=r,u={},f=i.readUshort(o,r);r+=2,f>0&&(u.featureParams=c+f);var h=i.readUshort(o,r);r+=2,u.tab=[];for(var m=0;m<h;m++)u.tab.push(i.readUshort(o,r+2*m));return u},t._lctf.readScriptList=function(o,r){var i=t._bin,c=r,u={},f=i.readUshort(o,r);r+=2;for(var h=0;h<f;h++){var m=i.readASCII(o,r,4);r+=4;var A=i.readUshort(o,r);r+=2,u[m.trim()]=t._lctf.readScriptTable(o,c+A)}return u},t._lctf.readScriptTable=function(o,r){var i=t._bin,c=r,u={},f=i.readUshort(o,r);r+=2,f>0&&(u.default=t._lctf.readLangSysTable(o,c+f));var h=i.readUshort(o,r);r+=2;for(var m=0;m<h;m++){var A=i.readASCII(o,r,4);r+=4;var y=i.readUshort(o,r);r+=2,u[A.trim()]=t._lctf.readLangSysTable(o,c+y)}return u},t._lctf.readLangSysTable=function(o,r){var i=t._bin,c={};i.readUshort(o,r),r+=2,c.reqFeature=i.readUshort(o,r),r+=2;var u=i.readUshort(o,r);return r+=2,c.features=i.readUshorts(o,r,u),c},t.CFF={},t.CFF.parse=function(o,r,i){var c=t._bin;(o=new Uint8Array(o.buffer,r,i))[r=0],o[++r],o[++r],o[++r],r++;var u=[];r=t.CFF.readIndex(o,r,u);for(var f=[],h=0;h<u.length-1;h++)f.push(c.readASCII(o,r+u[h],u[h+1]-u[h]));r+=u[u.length-1];var m=[];r=t.CFF.readIndex(o,r,m);var A=[];for(h=0;h<m.length-1;h++)A.push(t.CFF.readDict(o,r+m[h],r+m[h+1]));r+=m[m.length-1];var y=A[0],B=[];r=t.CFF.readIndex(o,r,B);var C=[];for(h=0;h<B.length-1;h++)C.push(c.readASCII(o,r+B[h],B[h+1]-B[h]));if(r+=B[B.length-1],t.CFF.readSubrs(o,r,y),y.CharStrings){r=y.CharStrings,B=[],r=t.CFF.readIndex(o,r,B);var E=[];for(h=0;h<B.length-1;h++)E.push(c.readBytes(o,r+B[h],B[h+1]-B[h]));y.CharStrings=E}if(y.ROS){r=y.FDArray;var S=[];for(r=t.CFF.readIndex(o,r,S),y.FDArray=[],h=0;h<S.length-1;h++){var x=t.CFF.readDict(o,r+S[h],r+S[h+1]);t.CFF._readFDict(o,x,C),y.FDArray.push(x)}r+=S[S.length-1],r=y.FDSelect,y.FDSelect=[];var w=o[r];if(r++,w!=3)throw w;var T=c.readUshort(o,r);for(r+=2,h=0;h<T+1;h++)y.FDSelect.push(c.readUshort(o,r),o[r+2]),r+=3}return y.Encoding&&(y.Encoding=t.CFF.readEncoding(o,y.Encoding,y.CharStrings.length)),y.charset&&(y.charset=t.CFF.readCharset(o,y.charset,y.CharStrings.length)),t.CFF._readFDict(o,y,C),y},t.CFF._readFDict=function(o,r,i){var c;for(var u in r.Private&&(c=r.Private[1],r.Private=t.CFF.readDict(o,c,c+r.Private[0]),r.Private.Subrs&&t.CFF.readSubrs(o,c+r.Private.Subrs,r.Private)),r)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(u)!=-1&&(r[u]=i[r[u]-426+35])},t.CFF.readSubrs=function(o,r,i){var c=t._bin,u=[];r=t.CFF.readIndex(o,r,u);var f,h=u.length;f=h<1240?107:h<33900?1131:32768,i.Bias=f,i.Subrs=[];for(var m=0;m<u.length-1;m++)i.Subrs.push(c.readBytes(o,r+u[m],u[m+1]-u[m]))},t.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],t.CFF.glyphByUnicode=function(o,r){for(var i=0;i<o.charset.length;i++)if(o.charset[i]==r)return i;return-1},t.CFF.glyphBySE=function(o,r){return r<0||r>255?-1:t.CFF.glyphByUnicode(o,t.CFF.tableSE[r])},t.CFF.readEncoding=function(o,r,i){t._bin;var c=[".notdef"],u=o[r];if(r++,u!=0)throw"error: unknown encoding format: "+u;var f=o[r];r++;for(var h=0;h<f;h++)c.push(o[r+h]);return c},t.CFF.readCharset=function(o,r,i){var c=t._bin,u=[".notdef"],f=o[r];if(r++,f==0)for(var h=0;h<i;h++){var m=c.readUshort(o,r);r+=2,u.push(m)}else{if(f!=1&&f!=2)throw"error: format: "+f;for(;u.length<i;){m=c.readUshort(o,r),r+=2;var A=0;for(f==1?(A=o[r],r++):(A=c.readUshort(o,r),r+=2),h=0;h<=A;h++)u.push(m),m++}}return u},t.CFF.readIndex=function(o,r,i){var c=t._bin,u=c.readUshort(o,r)+1,f=o[r+=2];if(r++,f==1)for(var h=0;h<u;h++)i.push(o[r+h]);else if(f==2)for(h=0;h<u;h++)i.push(c.readUshort(o,r+2*h));else if(f==3)for(h=0;h<u;h++)i.push(16777215&c.readUint(o,r+3*h-1));else if(u!=1)throw"unsupported offset size: "+f+", count: "+u;return(r+=u*f)-1},t.CFF.getCharString=function(o,r,i){var c=t._bin,u=o[r],f=o[r+1];o[r+2],o[r+3],o[r+4];var h=1,m=null,A=null;u<=20&&(m=u,h=1),u==12&&(m=100*u+f,h=2),21<=u&&u<=27&&(m=u,h=1),u==28&&(A=c.readShort(o,r+1),h=3),29<=u&&u<=31&&(m=u,h=1),32<=u&&u<=246&&(A=u-139,h=1),247<=u&&u<=250&&(A=256*(u-247)+f+108,h=2),251<=u&&u<=254&&(A=256*-(u-251)-f-108,h=2),u==255&&(A=c.readInt(o,r+1)/65535,h=5),i.val=A??"o"+m,i.size=h},t.CFF.readCharString=function(o,r,i){for(var c=r+i,u=t._bin,f=[];r<c;){var h=o[r],m=o[r+1];o[r+2],o[r+3],o[r+4];var A=1,y=null,B=null;h<=20&&(y=h,A=1),h==12&&(y=100*h+m,A=2),h!=19&&h!=20||(y=h,A=2),21<=h&&h<=27&&(y=h,A=1),h==28&&(B=u.readShort(o,r+1),A=3),29<=h&&h<=31&&(y=h,A=1),32<=h&&h<=246&&(B=h-139,A=1),247<=h&&h<=250&&(B=256*(h-247)+m+108,A=2),251<=h&&h<=254&&(B=256*-(h-251)-m-108,A=2),h==255&&(B=u.readInt(o,r+1)/65535,A=5),f.push(B??"o"+y),r+=A}return f},t.CFF.readDict=function(o,r,i){for(var c=t._bin,u={},f=[];r<i;){var h=o[r],m=o[r+1];o[r+2],o[r+3],o[r+4];var A=1,y=null,B=null;if(h==28&&(B=c.readShort(o,r+1),A=3),h==29&&(B=c.readInt(o,r+1),A=5),32<=h&&h<=246&&(B=h-139,A=1),247<=h&&h<=250&&(B=256*(h-247)+m+108,A=2),251<=h&&h<=254&&(B=256*-(h-251)-m-108,A=2),h==255)throw B=c.readInt(o,r+1)/65535,A=5,"unknown number";if(h==30){var C=[];for(A=1;;){var E=o[r+A];A++;var S=E>>4,x=15&E;if(S!=15&&C.push(S),x!=15&&C.push(x),x==15)break}for(var w="",T=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],D=0;D<C.length;D++)w+=T[C[D]];B=parseFloat(w)}h<=21&&(y=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][h],A=1,h==12&&(y=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][m],A=2)),y!=null?(u[y]=f.length==1?f[0]:f,f=[]):f.push(B),r+=A}return u},t.cmap={},t.cmap.parse=function(o,r,i){o=new Uint8Array(o.buffer,r,i),r=0;var c=t._bin,u={};c.readUshort(o,r),r+=2;var f=c.readUshort(o,r);r+=2;var h=[];u.tables=[];for(var m=0;m<f;m++){var A=c.readUshort(o,r);r+=2;var y=c.readUshort(o,r);r+=2;var B=c.readUint(o,r);r+=4;var C="p"+A+"e"+y,E=h.indexOf(B);if(E==-1){var S;E=u.tables.length,h.push(B);var x=c.readUshort(o,B);x==0?S=t.cmap.parse0(o,B):x==4?S=t.cmap.parse4(o,B):x==6?S=t.cmap.parse6(o,B):x==12?S=t.cmap.parse12(o,B):console.debug("unknown format: "+x,A,y,B),u.tables.push(S)}if(u[C]!=null)throw"multiple tables for one platform+encoding";u[C]=E}return u},t.cmap.parse0=function(o,r){var i=t._bin,c={};c.format=i.readUshort(o,r),r+=2;var u=i.readUshort(o,r);r+=2,i.readUshort(o,r),r+=2,c.map=[];for(var f=0;f<u-6;f++)c.map.push(o[r+f]);return c},t.cmap.parse4=function(o,r){var i=t._bin,c=r,u={};u.format=i.readUshort(o,r),r+=2;var f=i.readUshort(o,r);r+=2,i.readUshort(o,r),r+=2;var h=i.readUshort(o,r);r+=2;var m=h/2;u.searchRange=i.readUshort(o,r),r+=2,u.entrySelector=i.readUshort(o,r),r+=2,u.rangeShift=i.readUshort(o,r),r+=2,u.endCount=i.readUshorts(o,r,m),r+=2*m,r+=2,u.startCount=i.readUshorts(o,r,m),r+=2*m,u.idDelta=[];for(var A=0;A<m;A++)u.idDelta.push(i.readShort(o,r)),r+=2;for(u.idRangeOffset=i.readUshorts(o,r,m),r+=2*m,u.glyphIdArray=[];r<c+f;)u.glyphIdArray.push(i.readUshort(o,r)),r+=2;return u},t.cmap.parse6=function(o,r){var i=t._bin,c={};c.format=i.readUshort(o,r),r+=2,i.readUshort(o,r),r+=2,i.readUshort(o,r),r+=2,c.firstCode=i.readUshort(o,r),r+=2;var u=i.readUshort(o,r);r+=2,c.glyphIdArray=[];for(var f=0;f<u;f++)c.glyphIdArray.push(i.readUshort(o,r)),r+=2;return c},t.cmap.parse12=function(o,r){var i=t._bin,c={};c.format=i.readUshort(o,r),r+=2,r+=2,i.readUint(o,r),r+=4,i.readUint(o,r),r+=4;var u=i.readUint(o,r);r+=4,c.groups=[];for(var f=0;f<u;f++){var h=r+12*f,m=i.readUint(o,h+0),A=i.readUint(o,h+4),y=i.readUint(o,h+8);c.groups.push([m,A,y])}return c},t.glyf={},t.glyf.parse=function(o,r,i,c){for(var u=[],f=0;f<c.maxp.numGlyphs;f++)u.push(null);return u},t.glyf._parseGlyf=function(o,r){var i=t._bin,c=o._data,u=t._tabOffset(c,"glyf",o._offset)+o.loca[r];if(o.loca[r]==o.loca[r+1])return null;var f={};if(f.noc=i.readShort(c,u),u+=2,f.xMin=i.readShort(c,u),u+=2,f.yMin=i.readShort(c,u),u+=2,f.xMax=i.readShort(c,u),u+=2,f.yMax=i.readShort(c,u),u+=2,f.xMin>=f.xMax||f.yMin>=f.yMax)return null;if(f.noc>0){f.endPts=[];for(var h=0;h<f.noc;h++)f.endPts.push(i.readUshort(c,u)),u+=2;var m=i.readUshort(c,u);if(u+=2,c.length-u<m)return null;f.instructions=i.readBytes(c,u,m),u+=m;var A=f.endPts[f.noc-1]+1;for(f.flags=[],h=0;h<A;h++){var y=c[u];if(u++,f.flags.push(y),(8&y)!=0){var B=c[u];u++;for(var C=0;C<B;C++)f.flags.push(y),h++}}for(f.xs=[],h=0;h<A;h++){var E=(2&f.flags[h])!=0,S=(16&f.flags[h])!=0;E?(f.xs.push(S?c[u]:-c[u]),u++):S?f.xs.push(0):(f.xs.push(i.readShort(c,u)),u+=2)}for(f.ys=[],h=0;h<A;h++)E=(4&f.flags[h])!=0,S=(32&f.flags[h])!=0,E?(f.ys.push(S?c[u]:-c[u]),u++):S?f.ys.push(0):(f.ys.push(i.readShort(c,u)),u+=2);var x=0,w=0;for(h=0;h<A;h++)x+=f.xs[h],w+=f.ys[h],f.xs[h]=x,f.ys[h]=w}else{var T;f.parts=[];do{T=i.readUshort(c,u),u+=2;var D={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(f.parts.push(D),D.glyphIndex=i.readUshort(c,u),u+=2,1&T){var P=i.readShort(c,u);u+=2;var G=i.readShort(c,u);u+=2}else P=i.readInt8(c,u),u++,G=i.readInt8(c,u),u++;2&T?(D.m.tx=P,D.m.ty=G):(D.p1=P,D.p2=G),8&T?(D.m.a=D.m.d=i.readF2dot14(c,u),u+=2):64&T?(D.m.a=i.readF2dot14(c,u),u+=2,D.m.d=i.readF2dot14(c,u),u+=2):128&T&&(D.m.a=i.readF2dot14(c,u),u+=2,D.m.b=i.readF2dot14(c,u),u+=2,D.m.c=i.readF2dot14(c,u),u+=2,D.m.d=i.readF2dot14(c,u),u+=2)}while(32&T);if(256&T){var b=i.readUshort(c,u);for(u+=2,f.instr=[],h=0;h<b;h++)f.instr.push(c[u]),u++}}return f},t.GDEF={},t.GDEF.parse=function(o,r,i,c){var u=r;r+=4;var f=t._bin.readUshort(o,r);return{glyphClassDef:f===0?null:t._lctf.readClassDef(o,u+f)}},t.GPOS={},t.GPOS.parse=function(o,r,i,c){return t._lctf.parse(o,r,i,c,t.GPOS.subt)},t.GPOS.subt=function(o,r,i,c){var u=t._bin,f=i,h={};if(h.fmt=u.readUshort(o,i),i+=2,r==1||r==2||r==3||r==7||r==8&&h.fmt<=2){var m=u.readUshort(o,i);i+=2,h.coverage=t._lctf.readCoverage(o,m+f)}if(r==1&&h.fmt==1){var A=u.readUshort(o,i);i+=2,A!=0&&(h.pos=t.GPOS.readValueRecord(o,i,A))}else if(r==2&&h.fmt>=1&&h.fmt<=2){A=u.readUshort(o,i),i+=2;var y=u.readUshort(o,i);i+=2;var B=t._lctf.numOfOnes(A),C=t._lctf.numOfOnes(y);if(h.fmt==1){h.pairsets=[];var E=u.readUshort(o,i);i+=2;for(var S=0;S<E;S++){var x=f+u.readUshort(o,i);i+=2;var w=u.readUshort(o,x);x+=2;for(var T=[],D=0;D<w;D++){var P=u.readUshort(o,x);x+=2,A!=0&&(I=t.GPOS.readValueRecord(o,x,A),x+=2*B),y!=0&&(X=t.GPOS.readValueRecord(o,x,y),x+=2*C),T.push({gid2:P,val1:I,val2:X})}h.pairsets.push(T)}}if(h.fmt==2){var G=u.readUshort(o,i);i+=2;var b=u.readUshort(o,i);i+=2;var H=u.readUshort(o,i);i+=2;var N=u.readUshort(o,i);for(i+=2,h.classDef1=t._lctf.readClassDef(o,f+G),h.classDef2=t._lctf.readClassDef(o,f+b),h.matrix=[],S=0;S<H;S++){var W=[];for(D=0;D<N;D++){var I=null,X=null;A!=0&&(I=t.GPOS.readValueRecord(o,i,A),i+=2*B),y!=0&&(X=t.GPOS.readValueRecord(o,i,y),i+=2*C),W.push({val1:I,val2:X})}h.matrix.push(W)}}}else if(r==4&&h.fmt==1)h.markCoverage=t._lctf.readCoverage(o,u.readUshort(o,i)+f),h.baseCoverage=t._lctf.readCoverage(o,u.readUshort(o,i+2)+f),h.markClassCount=u.readUshort(o,i+4),h.markArray=t.GPOS.readMarkArray(o,u.readUshort(o,i+6)+f),h.baseArray=t.GPOS.readBaseArray(o,u.readUshort(o,i+8)+f,h.markClassCount);else if(r==6&&h.fmt==1)h.mark1Coverage=t._lctf.readCoverage(o,u.readUshort(o,i)+f),h.mark2Coverage=t._lctf.readCoverage(o,u.readUshort(o,i+2)+f),h.markClassCount=u.readUshort(o,i+4),h.mark1Array=t.GPOS.readMarkArray(o,u.readUshort(o,i+6)+f),h.mark2Array=t.GPOS.readBaseArray(o,u.readUshort(o,i+8)+f,h.markClassCount);else{if(r==9&&h.fmt==1){var Q=u.readUshort(o,i);i+=2;var $=u.readUint(o,i);if(i+=4,c.ltype==9)c.ltype=Q;else if(c.ltype!=Q)throw"invalid extension substitution";return t.GPOS.subt(o,c.ltype,f+$)}console.debug("unsupported GPOS table LookupType",r,"format",h.fmt)}return h},t.GPOS.readValueRecord=function(o,r,i){var c=t._bin,u=[];return u.push(1&i?c.readShort(o,r):0),r+=1&i?2:0,u.push(2&i?c.readShort(o,r):0),r+=2&i?2:0,u.push(4&i?c.readShort(o,r):0),r+=4&i?2:0,u.push(8&i?c.readShort(o,r):0),r+=8&i?2:0,u},t.GPOS.readBaseArray=function(o,r,i){var c=t._bin,u=[],f=r,h=c.readUshort(o,r);r+=2;for(var m=0;m<h;m++){for(var A=[],y=0;y<i;y++)A.push(t.GPOS.readAnchorRecord(o,f+c.readUshort(o,r))),r+=2;u.push(A)}return u},t.GPOS.readMarkArray=function(o,r){var i=t._bin,c=[],u=r,f=i.readUshort(o,r);r+=2;for(var h=0;h<f;h++){var m=t.GPOS.readAnchorRecord(o,i.readUshort(o,r+2)+u);m.markClass=i.readUshort(o,r),c.push(m),r+=4}return c},t.GPOS.readAnchorRecord=function(o,r){var i=t._bin,c={};return c.fmt=i.readUshort(o,r),c.x=i.readShort(o,r+2),c.y=i.readShort(o,r+4),c},t.GSUB={},t.GSUB.parse=function(o,r,i,c){return t._lctf.parse(o,r,i,c,t.GSUB.subt)},t.GSUB.subt=function(o,r,i,c){var u=t._bin,f=i,h={};if(h.fmt=u.readUshort(o,i),i+=2,r!=1&&r!=2&&r!=4&&r!=5&&r!=6)return null;if(r==1||r==2||r==4||r==5&&h.fmt<=2||r==6&&h.fmt<=2){var m=u.readUshort(o,i);i+=2,h.coverage=t._lctf.readCoverage(o,f+m)}if(r==1&&h.fmt>=1&&h.fmt<=2){if(h.fmt==1)h.delta=u.readShort(o,i),i+=2;else if(h.fmt==2){var A=u.readUshort(o,i);i+=2,h.newg=u.readUshorts(o,i,A),i+=2*h.newg.length}}else if(r==2&&h.fmt==1){A=u.readUshort(o,i),i+=2,h.seqs=[];for(var y=0;y<A;y++){var B=u.readUshort(o,i)+f;i+=2;var C=u.readUshort(o,B);h.seqs.push(u.readUshorts(o,B+2,C))}}else if(r==4)for(h.vals=[],A=u.readUshort(o,i),i+=2,y=0;y<A;y++){var E=u.readUshort(o,i);i+=2,h.vals.push(t.GSUB.readLigatureSet(o,f+E))}else if(r==5&&h.fmt==2){if(h.fmt==2){var S=u.readUshort(o,i);i+=2,h.cDef=t._lctf.readClassDef(o,f+S),h.scset=[];var x=u.readUshort(o,i);for(i+=2,y=0;y<x;y++){var w=u.readUshort(o,i);i+=2,h.scset.push(w==0?null:t.GSUB.readSubClassSet(o,f+w))}}}else if(r==6&&h.fmt==3){if(h.fmt==3){for(y=0;y<3;y++){A=u.readUshort(o,i),i+=2;for(var T=[],D=0;D<A;D++)T.push(t._lctf.readCoverage(o,f+u.readUshort(o,i+2*D)));i+=2*A,y==0&&(h.backCvg=T),y==1&&(h.inptCvg=T),y==2&&(h.ahedCvg=T)}A=u.readUshort(o,i),i+=2,h.lookupRec=t.GSUB.readSubstLookupRecords(o,i,A)}}else{if(r==7&&h.fmt==1){var P=u.readUshort(o,i);i+=2;var G=u.readUint(o,i);if(i+=4,c.ltype==9)c.ltype=P;else if(c.ltype!=P)throw"invalid extension substitution";return t.GSUB.subt(o,c.ltype,f+G)}console.debug("unsupported GSUB table LookupType",r,"format",h.fmt)}return h},t.GSUB.readSubClassSet=function(o,r){var i=t._bin.readUshort,c=r,u=[],f=i(o,r);r+=2;for(var h=0;h<f;h++){var m=i(o,r);r+=2,u.push(t.GSUB.readSubClassRule(o,c+m))}return u},t.GSUB.readSubClassRule=function(o,r){var i=t._bin.readUshort,c={},u=i(o,r),f=i(o,r+=2);r+=2,c.input=[];for(var h=0;h<u-1;h++)c.input.push(i(o,r)),r+=2;return c.substLookupRecords=t.GSUB.readSubstLookupRecords(o,r,f),c},t.GSUB.readSubstLookupRecords=function(o,r,i){for(var c=t._bin.readUshort,u=[],f=0;f<i;f++)u.push(c(o,r),c(o,r+2)),r+=4;return u},t.GSUB.readChainSubClassSet=function(o,r){var i=t._bin,c=r,u=[],f=i.readUshort(o,r);r+=2;for(var h=0;h<f;h++){var m=i.readUshort(o,r);r+=2,u.push(t.GSUB.readChainSubClassRule(o,c+m))}return u},t.GSUB.readChainSubClassRule=function(o,r){for(var i=t._bin,c={},u=["backtrack","input","lookahead"],f=0;f<u.length;f++){var h=i.readUshort(o,r);r+=2,f==1&&h--,c[u[f]]=i.readUshorts(o,r,h),r+=2*c[u[f]].length}return h=i.readUshort(o,r),r+=2,c.subst=i.readUshorts(o,r,2*h),r+=2*c.subst.length,c},t.GSUB.readLigatureSet=function(o,r){var i=t._bin,c=r,u=[],f=i.readUshort(o,r);r+=2;for(var h=0;h<f;h++){var m=i.readUshort(o,r);r+=2,u.push(t.GSUB.readLigature(o,c+m))}return u},t.GSUB.readLigature=function(o,r){var i=t._bin,c={chain:[]};c.nglyph=i.readUshort(o,r),r+=2;var u=i.readUshort(o,r);r+=2;for(var f=0;f<u-1;f++)c.chain.push(i.readUshort(o,r)),r+=2;return c},t.head={},t.head.parse=function(o,r,i){var c=t._bin,u={};return c.readFixed(o,r),r+=4,u.fontRevision=c.readFixed(o,r),r+=4,c.readUint(o,r),r+=4,c.readUint(o,r),r+=4,u.flags=c.readUshort(o,r),r+=2,u.unitsPerEm=c.readUshort(o,r),r+=2,u.created=c.readUint64(o,r),r+=8,u.modified=c.readUint64(o,r),r+=8,u.xMin=c.readShort(o,r),r+=2,u.yMin=c.readShort(o,r),r+=2,u.xMax=c.readShort(o,r),r+=2,u.yMax=c.readShort(o,r),r+=2,u.macStyle=c.readUshort(o,r),r+=2,u.lowestRecPPEM=c.readUshort(o,r),r+=2,u.fontDirectionHint=c.readShort(o,r),r+=2,u.indexToLocFormat=c.readShort(o,r),r+=2,u.glyphDataFormat=c.readShort(o,r),r+=2,u},t.hhea={},t.hhea.parse=function(o,r,i){var c=t._bin,u={};return c.readFixed(o,r),r+=4,u.ascender=c.readShort(o,r),r+=2,u.descender=c.readShort(o,r),r+=2,u.lineGap=c.readShort(o,r),r+=2,u.advanceWidthMax=c.readUshort(o,r),r+=2,u.minLeftSideBearing=c.readShort(o,r),r+=2,u.minRightSideBearing=c.readShort(o,r),r+=2,u.xMaxExtent=c.readShort(o,r),r+=2,u.caretSlopeRise=c.readShort(o,r),r+=2,u.caretSlopeRun=c.readShort(o,r),r+=2,u.caretOffset=c.readShort(o,r),r+=2,r+=8,u.metricDataFormat=c.readShort(o,r),r+=2,u.numberOfHMetrics=c.readUshort(o,r),r+=2,u},t.hmtx={},t.hmtx.parse=function(o,r,i,c){for(var u=t._bin,f={aWidth:[],lsBearing:[]},h=0,m=0,A=0;A<c.maxp.numGlyphs;A++)A<c.hhea.numberOfHMetrics&&(h=u.readUshort(o,r),r+=2,m=u.readShort(o,r),r+=2),f.aWidth.push(h),f.lsBearing.push(m);return f},t.kern={},t.kern.parse=function(o,r,i,c){var u=t._bin,f=u.readUshort(o,r);if(r+=2,f==1)return t.kern.parseV1(o,r-2,i,c);var h=u.readUshort(o,r);r+=2;for(var m={glyph1:[],rval:[]},A=0;A<h;A++){r+=2,i=u.readUshort(o,r),r+=2;var y=u.readUshort(o,r);r+=2;var B=y>>>8;if((B&=15)!=0)throw"unknown kern table format: "+B;r=t.kern.readFormat0(o,r,m)}return m},t.kern.parseV1=function(o,r,i,c){var u=t._bin;u.readFixed(o,r),r+=4;var f=u.readUint(o,r);r+=4;for(var h={glyph1:[],rval:[]},m=0;m<f;m++){u.readUint(o,r),r+=4;var A=u.readUshort(o,r);r+=2,u.readUshort(o,r),r+=2;var y=A>>>8;if((y&=15)!=0)throw"unknown kern table format: "+y;r=t.kern.readFormat0(o,r,h)}return h},t.kern.readFormat0=function(o,r,i){var c=t._bin,u=-1,f=c.readUshort(o,r);r+=2,c.readUshort(o,r),r+=2,c.readUshort(o,r),r+=2,c.readUshort(o,r),r+=2;for(var h=0;h<f;h++){var m=c.readUshort(o,r);r+=2;var A=c.readUshort(o,r);r+=2;var y=c.readShort(o,r);r+=2,m!=u&&(i.glyph1.push(m),i.rval.push({glyph2:[],vals:[]}));var B=i.rval[i.rval.length-1];B.glyph2.push(A),B.vals.push(y),u=m}return r},t.loca={},t.loca.parse=function(o,r,i,c){var u=t._bin,f=[],h=c.head.indexToLocFormat,m=c.maxp.numGlyphs+1;if(h==0)for(var A=0;A<m;A++)f.push(u.readUshort(o,r+(A<<1))<<1);if(h==1)for(A=0;A<m;A++)f.push(u.readUint(o,r+(A<<2)));return f},t.maxp={},t.maxp.parse=function(o,r,i){var c=t._bin,u={},f=c.readUint(o,r);return r+=4,u.numGlyphs=c.readUshort(o,r),r+=2,f==65536&&(u.maxPoints=c.readUshort(o,r),r+=2,u.maxContours=c.readUshort(o,r),r+=2,u.maxCompositePoints=c.readUshort(o,r),r+=2,u.maxCompositeContours=c.readUshort(o,r),r+=2,u.maxZones=c.readUshort(o,r),r+=2,u.maxTwilightPoints=c.readUshort(o,r),r+=2,u.maxStorage=c.readUshort(o,r),r+=2,u.maxFunctionDefs=c.readUshort(o,r),r+=2,u.maxInstructionDefs=c.readUshort(o,r),r+=2,u.maxStackElements=c.readUshort(o,r),r+=2,u.maxSizeOfInstructions=c.readUshort(o,r),r+=2,u.maxComponentElements=c.readUshort(o,r),r+=2,u.maxComponentDepth=c.readUshort(o,r),r+=2),u},t.name={},t.name.parse=function(o,r,i){var c=t._bin,u={};c.readUshort(o,r),r+=2;var f=c.readUshort(o,r);r+=2,c.readUshort(o,r);for(var h,m=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],A=r+=2,y=0;y<f;y++){var B=c.readUshort(o,r);r+=2;var C=c.readUshort(o,r);r+=2;var E=c.readUshort(o,r);r+=2;var S=c.readUshort(o,r);r+=2;var x=c.readUshort(o,r);r+=2;var w=c.readUshort(o,r);r+=2;var T,D=m[S],P=A+12*f+w;if(B==0)T=c.readUnicode(o,P,x/2);else if(B==3&&C==0)T=c.readUnicode(o,P,x/2);else if(C==0)T=c.readASCII(o,P,x);else if(C==1)T=c.readUnicode(o,P,x/2);else if(C==3)T=c.readUnicode(o,P,x/2);else{if(B!=1)throw"unknown encoding "+C+", platformID: "+B;T=c.readASCII(o,P,x),console.debug("reading unknown MAC encoding "+C+" as ASCII")}var G="p"+B+","+E.toString(16);u[G]==null&&(u[G]={}),u[G][D!==void 0?D:S]=T,u[G]._lang=E}for(var b in u)if(u[b].postScriptName!=null&&u[b]._lang==1033)return u[b];for(var b in u)if(u[b].postScriptName!=null&&u[b]._lang==0)return u[b];for(var b in u)if(u[b].postScriptName!=null&&u[b]._lang==3084)return u[b];for(var b in u)if(u[b].postScriptName!=null)return u[b];for(var b in u){h=b;break}return console.debug("returning name table with languageID "+u[h]._lang),u[h]},t["OS/2"]={},t["OS/2"].parse=function(o,r,i){var c=t._bin.readUshort(o,r);r+=2;var u={};if(c==0)t["OS/2"].version0(o,r,u);else if(c==1)t["OS/2"].version1(o,r,u);else if(c==2||c==3||c==4)t["OS/2"].version2(o,r,u);else{if(c!=5)throw"unknown OS/2 table version: "+c;t["OS/2"].version5(o,r,u)}return u},t["OS/2"].version0=function(o,r,i){var c=t._bin;return i.xAvgCharWidth=c.readShort(o,r),r+=2,i.usWeightClass=c.readUshort(o,r),r+=2,i.usWidthClass=c.readUshort(o,r),r+=2,i.fsType=c.readUshort(o,r),r+=2,i.ySubscriptXSize=c.readShort(o,r),r+=2,i.ySubscriptYSize=c.readShort(o,r),r+=2,i.ySubscriptXOffset=c.readShort(o,r),r+=2,i.ySubscriptYOffset=c.readShort(o,r),r+=2,i.ySuperscriptXSize=c.readShort(o,r),r+=2,i.ySuperscriptYSize=c.readShort(o,r),r+=2,i.ySuperscriptXOffset=c.readShort(o,r),r+=2,i.ySuperscriptYOffset=c.readShort(o,r),r+=2,i.yStrikeoutSize=c.readShort(o,r),r+=2,i.yStrikeoutPosition=c.readShort(o,r),r+=2,i.sFamilyClass=c.readShort(o,r),r+=2,i.panose=c.readBytes(o,r,10),r+=10,i.ulUnicodeRange1=c.readUint(o,r),r+=4,i.ulUnicodeRange2=c.readUint(o,r),r+=4,i.ulUnicodeRange3=c.readUint(o,r),r+=4,i.ulUnicodeRange4=c.readUint(o,r),r+=4,i.achVendID=[c.readInt8(o,r),c.readInt8(o,r+1),c.readInt8(o,r+2),c.readInt8(o,r+3)],r+=4,i.fsSelection=c.readUshort(o,r),r+=2,i.usFirstCharIndex=c.readUshort(o,r),r+=2,i.usLastCharIndex=c.readUshort(o,r),r+=2,i.sTypoAscender=c.readShort(o,r),r+=2,i.sTypoDescender=c.readShort(o,r),r+=2,i.sTypoLineGap=c.readShort(o,r),r+=2,i.usWinAscent=c.readUshort(o,r),r+=2,i.usWinDescent=c.readUshort(o,r),r+=2},t["OS/2"].version1=function(o,r,i){var c=t._bin;return r=t["OS/2"].version0(o,r,i),i.ulCodePageRange1=c.readUint(o,r),r+=4,i.ulCodePageRange2=c.readUint(o,r),r+=4},t["OS/2"].version2=function(o,r,i){var c=t._bin;return r=t["OS/2"].version1(o,r,i),i.sxHeight=c.readShort(o,r),r+=2,i.sCapHeight=c.readShort(o,r),r+=2,i.usDefault=c.readUshort(o,r),r+=2,i.usBreak=c.readUshort(o,r),r+=2,i.usMaxContext=c.readUshort(o,r),r+=2},t["OS/2"].version5=function(o,r,i){var c=t._bin;return r=t["OS/2"].version2(o,r,i),i.usLowerOpticalPointSize=c.readUshort(o,r),r+=2,i.usUpperOpticalPointSize=c.readUshort(o,r),r+=2},t.post={},t.post.parse=function(o,r,i){var c=t._bin,u={};return u.version=c.readFixed(o,r),r+=4,u.italicAngle=c.readFixed(o,r),r+=4,u.underlinePosition=c.readShort(o,r),r+=2,u.underlineThickness=c.readShort(o,r),r+=2,u},t==null&&(t={}),t.U==null&&(t.U={}),t.U.codeToGlyph=function(o,r){var i=o.cmap,c=-1;if(i.p0e4!=null?c=i.p0e4:i.p3e1!=null?c=i.p3e1:i.p1e0!=null?c=i.p1e0:i.p0e3!=null&&(c=i.p0e3),c==-1)throw"no familiar platform and encoding!";var u=i.tables[c];if(u.format==0)return r>=u.map.length?0:u.map[r];if(u.format==4){for(var f=-1,h=0;h<u.endCount.length;h++)if(r<=u.endCount[h]){f=h;break}return f==-1||u.startCount[f]>r?0:65535&(u.idRangeOffset[f]!=0?u.glyphIdArray[r-u.startCount[f]+(u.idRangeOffset[f]>>1)-(u.idRangeOffset.length-f)]:r+u.idDelta[f])}if(u.format==12){if(r>u.groups[u.groups.length-1][1])return 0;for(h=0;h<u.groups.length;h++){var m=u.groups[h];if(m[0]<=r&&r<=m[1])return m[2]+(r-m[0])}return 0}throw"unknown cmap table format "+u.format},t.U.glyphToPath=function(o,r){var i={cmds:[],crds:[]};if(o.SVG&&o.SVG.entries[r]){var c=o.SVG.entries[r];return c==null?i:(typeof c=="string"&&(c=t.SVG.toPath(c),o.SVG.entries[r]=c),c)}if(o.CFF){var u={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:o.CFF.Private?o.CFF.Private.defaultWidthX:0,open:!1},f=o.CFF,h=o.CFF.Private;if(f.ROS){for(var m=0;f.FDSelect[m+2]<=r;)m+=2;h=f.FDArray[f.FDSelect[m+1]].Private}t.U._drawCFF(o.CFF.CharStrings[r],u,f,h,i)}else o.glyf&&t.U._drawGlyf(r,o,i);return i},t.U._drawGlyf=function(o,r,i){var c=r.glyf[o];c==null&&(c=r.glyf[o]=t.glyf._parseGlyf(r,o)),c!=null&&(c.noc>-1?t.U._simpleGlyph(c,i):t.U._compoGlyph(c,r,i))},t.U._simpleGlyph=function(o,r){for(var i=0;i<o.noc;i++){for(var c=i==0?0:o.endPts[i-1]+1,u=o.endPts[i],f=c;f<=u;f++){var h=f==c?u:f-1,m=f==u?c:f+1,A=1&o.flags[f],y=1&o.flags[h],B=1&o.flags[m],C=o.xs[f],E=o.ys[f];if(f==c)if(A){if(!y){t.U.P.moveTo(r,C,E);continue}t.U.P.moveTo(r,o.xs[h],o.ys[h])}else y?t.U.P.moveTo(r,o.xs[h],o.ys[h]):t.U.P.moveTo(r,(o.xs[h]+C)/2,(o.ys[h]+E)/2);A?y&&t.U.P.lineTo(r,C,E):B?t.U.P.qcurveTo(r,C,E,o.xs[m],o.ys[m]):t.U.P.qcurveTo(r,C,E,(C+o.xs[m])/2,(E+o.ys[m])/2)}t.U.P.closePath(r)}},t.U._compoGlyph=function(o,r,i){for(var c=0;c<o.parts.length;c++){var u={cmds:[],crds:[]},f=o.parts[c];t.U._drawGlyf(f.glyphIndex,r,u);for(var h=f.m,m=0;m<u.crds.length;m+=2){var A=u.crds[m],y=u.crds[m+1];i.crds.push(A*h.a+y*h.b+h.tx),i.crds.push(A*h.c+y*h.d+h.ty)}for(m=0;m<u.cmds.length;m++)i.cmds.push(u.cmds[m])}},t.U._getGlyphClass=function(o,r){var i=t._lctf.getInterval(r,o);return i==-1?0:r[i+2]},t.U._applySubs=function(o,r,i,c){for(var u=o.length-r-1,f=0;f<i.tabs.length;f++)if(i.tabs[f]!=null){var h,m=i.tabs[f];if(!m.coverage||(h=t._lctf.coverageIndex(m.coverage,o[r]))!=-1){if(i.ltype==1)o[r],m.fmt==1?o[r]=o[r]+m.delta:o[r]=m.newg[h];else if(i.ltype==4)for(var A=m.vals[h],y=0;y<A.length;y++){var B=A[y],C=B.chain.length;if(!(C>u)){for(var E=!0,S=0,x=0;x<C;x++){for(;o[r+S+(1+x)]==-1;)S++;B.chain[x]!=o[r+S+(1+x)]&&(E=!1)}if(E){for(o[r]=B.nglyph,x=0;x<C+S;x++)o[r+x+1]=-1;break}}}else if(i.ltype==5&&m.fmt==2)for(var w=t._lctf.getInterval(m.cDef,o[r]),T=m.cDef[w+2],D=m.scset[T],P=0;P<D.length;P++){var G=D[P],b=G.input;if(!(b.length>u)){for(E=!0,x=0;x<b.length;x++){var H=t._lctf.getInterval(m.cDef,o[r+1+x]);if(w==-1&&m.cDef[H+2]!=b[x]){E=!1;break}}if(E){var N=G.substLookupRecords;for(y=0;y<N.length;y+=2)N[y],N[y+1]}}}else if(i.ltype==6&&m.fmt==3){if(!t.U._glsCovered(o,m.backCvg,r-m.backCvg.length)||!t.U._glsCovered(o,m.inptCvg,r)||!t.U._glsCovered(o,m.ahedCvg,r+m.inptCvg.length))continue;var W=m.lookupRec;for(P=0;P<W.length;P+=2){w=W[P];var I=c[W[P+1]];t.U._applySubs(o,r+w,I,c)}}}}},t.U._glsCovered=function(o,r,i){for(var c=0;c<r.length;c++)if(t._lctf.coverageIndex(r[c],o[i+c])==-1)return!1;return!0},t.U.glyphsToPath=function(o,r,i){for(var c={cmds:[],crds:[]},u=0,f=0;f<r.length;f++){var h=r[f];if(h!=-1){for(var m=f<r.length-1&&r[f+1]!=-1?r[f+1]:0,A=t.U.glyphToPath(o,h),y=0;y<A.crds.length;y+=2)c.crds.push(A.crds[y]+u),c.crds.push(A.crds[y+1]);for(i&&c.cmds.push(i),y=0;y<A.cmds.length;y++)c.cmds.push(A.cmds[y]);i&&c.cmds.push("X"),u+=o.hmtx.aWidth[h],f<r.length-1&&(u+=t.U.getPairAdjustment(o,h,m))}}return c},t.U.P={},t.U.P.moveTo=function(o,r,i){o.cmds.push("M"),o.crds.push(r,i)},t.U.P.lineTo=function(o,r,i){o.cmds.push("L"),o.crds.push(r,i)},t.U.P.curveTo=function(o,r,i,c,u,f,h){o.cmds.push("C"),o.crds.push(r,i,c,u,f,h)},t.U.P.qcurveTo=function(o,r,i,c,u){o.cmds.push("Q"),o.crds.push(r,i,c,u)},t.U.P.closePath=function(o){o.cmds.push("Z")},t.U._drawCFF=function(o,r,i,c,u){for(var f=r.stack,h=r.nStems,m=r.haveWidth,A=r.width,y=r.open,B=0,C=r.x,E=r.y,S=0,x=0,w=0,T=0,D=0,P=0,G=0,b=0,H=0,N=0,W={val:0,size:0};B<o.length;){t.CFF.getCharString(o,B,W);var I=W.val;if(B+=W.size,I=="o1"||I=="o18")f.length%2!=0&&!m&&(A=f.shift()+c.nominalWidthX),h+=f.length>>1,f.length=0,m=!0;else if(I=="o3"||I=="o23")f.length%2!=0&&!m&&(A=f.shift()+c.nominalWidthX),h+=f.length>>1,f.length=0,m=!0;else if(I=="o4")f.length>1&&!m&&(A=f.shift()+c.nominalWidthX,m=!0),y&&t.U.P.closePath(u),E+=f.pop(),t.U.P.moveTo(u,C,E),y=!0;else if(I=="o5")for(;f.length>0;)C+=f.shift(),E+=f.shift(),t.U.P.lineTo(u,C,E);else if(I=="o6"||I=="o7")for(var X=f.length,Q=I=="o6",$=0;$<X;$++){var te=f.shift();Q?C+=te:E+=te,Q=!Q,t.U.P.lineTo(u,C,E)}else if(I=="o8"||I=="o24"){X=f.length;for(var se=0;se+6<=X;)S=C+f.shift(),x=E+f.shift(),w=S+f.shift(),T=x+f.shift(),C=w+f.shift(),E=T+f.shift(),t.U.P.curveTo(u,S,x,w,T,C,E),se+=6;I=="o24"&&(C+=f.shift(),E+=f.shift(),t.U.P.lineTo(u,C,E))}else{if(I=="o11")break;if(I=="o1234"||I=="o1235"||I=="o1236"||I=="o1237")I=="o1234"&&(x=E,w=(S=C+f.shift())+f.shift(),N=T=x+f.shift(),P=T,b=E,C=(G=(D=(H=w+f.shift())+f.shift())+f.shift())+f.shift(),t.U.P.curveTo(u,S,x,w,T,H,N),t.U.P.curveTo(u,D,P,G,b,C,E)),I=="o1235"&&(S=C+f.shift(),x=E+f.shift(),w=S+f.shift(),T=x+f.shift(),H=w+f.shift(),N=T+f.shift(),D=H+f.shift(),P=N+f.shift(),G=D+f.shift(),b=P+f.shift(),C=G+f.shift(),E=b+f.shift(),f.shift(),t.U.P.curveTo(u,S,x,w,T,H,N),t.U.P.curveTo(u,D,P,G,b,C,E)),I=="o1236"&&(S=C+f.shift(),x=E+f.shift(),w=S+f.shift(),N=T=x+f.shift(),P=T,G=(D=(H=w+f.shift())+f.shift())+f.shift(),b=P+f.shift(),C=G+f.shift(),t.U.P.curveTo(u,S,x,w,T,H,N),t.U.P.curveTo(u,D,P,G,b,C,E)),I=="o1237"&&(S=C+f.shift(),x=E+f.shift(),w=S+f.shift(),T=x+f.shift(),H=w+f.shift(),N=T+f.shift(),D=H+f.shift(),P=N+f.shift(),G=D+f.shift(),b=P+f.shift(),Math.abs(G-C)>Math.abs(b-E)?C=G+f.shift():E=b+f.shift(),t.U.P.curveTo(u,S,x,w,T,H,N),t.U.P.curveTo(u,D,P,G,b,C,E));else if(I=="o14"){if(f.length>0&&!m&&(A=f.shift()+i.nominalWidthX,m=!0),f.length==4){var Y=f.shift(),J=f.shift(),k=f.shift(),F=f.shift(),R=t.CFF.glyphBySE(i,k),L=t.CFF.glyphBySE(i,F);t.U._drawCFF(i.CharStrings[R],r,i,c,u),r.x=Y,r.y=J,t.U._drawCFF(i.CharStrings[L],r,i,c,u)}y&&(t.U.P.closePath(u),y=!1)}else if(I=="o19"||I=="o20")f.length%2!=0&&!m&&(A=f.shift()+c.nominalWidthX),h+=f.length>>1,f.length=0,m=!0,B+=h+7>>3;else if(I=="o21")f.length>2&&!m&&(A=f.shift()+c.nominalWidthX,m=!0),E+=f.pop(),C+=f.pop(),y&&t.U.P.closePath(u),t.U.P.moveTo(u,C,E),y=!0;else if(I=="o22")f.length>1&&!m&&(A=f.shift()+c.nominalWidthX,m=!0),C+=f.pop(),y&&t.U.P.closePath(u),t.U.P.moveTo(u,C,E),y=!0;else if(I=="o25"){for(;f.length>6;)C+=f.shift(),E+=f.shift(),t.U.P.lineTo(u,C,E);S=C+f.shift(),x=E+f.shift(),w=S+f.shift(),T=x+f.shift(),C=w+f.shift(),E=T+f.shift(),t.U.P.curveTo(u,S,x,w,T,C,E)}else if(I=="o26")for(f.length%2&&(C+=f.shift());f.length>0;)S=C,x=E+f.shift(),C=w=S+f.shift(),E=(T=x+f.shift())+f.shift(),t.U.P.curveTo(u,S,x,w,T,C,E);else if(I=="o27")for(f.length%2&&(E+=f.shift());f.length>0;)x=E,w=(S=C+f.shift())+f.shift(),T=x+f.shift(),C=w+f.shift(),E=T,t.U.P.curveTo(u,S,x,w,T,C,E);else if(I=="o10"||I=="o29"){var K=I=="o10"?c:i;if(f.length==0)console.debug("error: empty stack");else{var j=f.pop(),ne=K.Subrs[j+K.Bias];r.x=C,r.y=E,r.nStems=h,r.haveWidth=m,r.width=A,r.open=y,t.U._drawCFF(ne,r,i,c,u),C=r.x,E=r.y,h=r.nStems,m=r.haveWidth,A=r.width,y=r.open}}else if(I=="o30"||I=="o31"){var q=f.length,re=(se=0,I=="o31");for(se+=q-(X=-3&q);se<X;)re?(x=E,w=(S=C+f.shift())+f.shift(),E=(T=x+f.shift())+f.shift(),X-se==5?(C=w+f.shift(),se++):C=w,re=!1):(S=C,x=E+f.shift(),w=S+f.shift(),T=x+f.shift(),C=w+f.shift(),X-se==5?(E=T+f.shift(),se++):E=T,re=!0),t.U.P.curveTo(u,S,x,w,T,C,E),se+=4}else{if((I+"").charAt(0)=="o")throw console.debug("Unknown operation: "+I,o),I;f.push(I)}}}r.x=C,r.y=E,r.nStems=h,r.haveWidth=m,r.width=A,r.open=y};var s=t,d={Typr:s};return l.Typr=s,l.default=d,Object.defineProperty(l,"__esModule",{value:!0}),l}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function _1(){return function(l){var t=Uint8Array,s=Uint16Array,d=Uint32Array,o=new t([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),r=new t([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),i=new t([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),c=function(I,X){for(var Q=new s(31),$=0;$<31;++$)Q[$]=X+=1<<I[$-1];var te=new d(Q[30]);for($=1;$<30;++$)for(var se=Q[$];se<Q[$+1];++se)te[se]=se-Q[$]<<5|$;return[Q,te]},u=c(o,2),f=u[0],h=u[1];f[28]=258,h[258]=28;for(var m=c(r,0)[0],A=new s(32768),y=0;y<32768;++y){var B=(43690&y)>>>1|(21845&y)<<1;B=(61680&(B=(52428&B)>>>2|(13107&B)<<2))>>>4|(3855&B)<<4,A[y]=((65280&B)>>>8|(255&B)<<8)>>>1}var C=function(I,X,Q){for(var $=I.length,te=0,se=new s(X);te<$;++te)++se[I[te]-1];var Y,J=new s(X);for(te=0;te<X;++te)J[te]=J[te-1]+se[te-1]<<1;{Y=new s(1<<X);var k=15-X;for(te=0;te<$;++te)if(I[te])for(var F=te<<4|I[te],R=X-I[te],L=J[I[te]-1]++<<R,K=L|(1<<R)-1;L<=K;++L)Y[A[L]>>>k]=F}return Y},E=new t(288);for(y=0;y<144;++y)E[y]=8;for(y=144;y<256;++y)E[y]=9;for(y=256;y<280;++y)E[y]=7;for(y=280;y<288;++y)E[y]=8;var S=new t(32);for(y=0;y<32;++y)S[y]=5;var x=C(E,9),w=C(S,5),T=function(I){for(var X=I[0],Q=1;Q<I.length;++Q)I[Q]>X&&(X=I[Q]);return X},D=function(I,X,Q){var $=X/8|0;return(I[$]|I[$+1]<<8)>>(7&X)&Q},P=function(I,X){var Q=X/8|0;return(I[Q]|I[Q+1]<<8|I[Q+2]<<16)>>(7&X)},G=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],b=function(I,X,Q){var $=new Error(X||G[I]);if($.code=I,Error.captureStackTrace&&Error.captureStackTrace($,b),!Q)throw $;return $},H=function(I,X,Q){var $=I.length;if(!$||Q&&!Q.l&&$<5)return X||new t(0);var te=!X||Q,se=!Q||Q.i;Q||(Q={}),X||(X=new t(3*$));var Y,J=function(_e){var at=X.length;if(_e>at){var tt=new t(Math.max(2*at,_e));tt.set(X),X=tt}},k=Q.f||0,F=Q.p||0,R=Q.b||0,L=Q.l,K=Q.d,j=Q.m,ne=Q.n,q=8*$;do{if(!L){Q.f=k=D(I,F,1);var re=D(I,F+1,3);if(F+=3,!re){var ce=I[(me=((Y=F)/8|0)+(7&Y&&1)+4)-4]|I[me-3]<<8,ue=me+ce;if(ue>$){se&&b(0);break}te&&J(R+ce),X.set(I.subarray(me,ue),R),Q.b=R+=ce,Q.p=F=8*ue;continue}if(re==1)L=x,K=w,j=9,ne=5;else if(re==2){var ee=D(I,F,31)+257,oe=D(I,F+10,15)+4,ye=ee+D(I,F+5,31)+1;F+=14;for(var Te=new t(ye),pe=new t(19),Se=0;Se<oe;++Se)pe[i[Se]]=D(I,F+3*Se,7);F+=3*oe;var Ee=T(pe),ae=(1<<Ee)-1,Be=C(pe,Ee);for(Se=0;Se<ye;){var me,ie=Be[D(I,F,ae)];if(F+=15&ie,(me=ie>>>4)<16)Te[Se++]=me;else{var Ge=0,ve=0;for(me==16?(ve=3+D(I,F,3),F+=2,Ge=Te[Se-1]):me==17?(ve=3+D(I,F,7),F+=3):me==18&&(ve=11+D(I,F,127),F+=7);ve--;)Te[Se++]=Ge}}var Ce=Te.subarray(0,ee),de=Te.subarray(ee);j=T(Ce),ne=T(de),L=C(Ce,j),K=C(de,ne)}else b(1);if(F>q){se&&b(0);break}}te&&J(R+131072);for(var We=(1<<j)-1,Ae=(1<<ne)-1,we=F;;we=F){var Re=(Ge=L[P(I,F)&We])>>>4;if((F+=15&Ge)>q){se&&b(0);break}if(Ge||b(2),Re<256)X[R++]=Re;else{if(Re==256){we=F,L=null;break}var Pe=Re-254;if(Re>264){var $e=o[Se=Re-257];Pe=D(I,F,(1<<$e)-1)+f[Se],F+=$e}var st=K[P(I,F)&Ae],be=st>>>4;if(st||b(3),F+=15&st,de=m[be],be>3&&($e=r[be],de+=P(I,F)&(1<<$e)-1,F+=$e),F>q){se&&b(0);break}te&&J(R+131072);for(var He=R+Pe;R<He;R+=4)X[R]=X[R-de],X[R+1]=X[R+1-de],X[R+2]=X[R+2-de],X[R+3]=X[R+3-de];R=He}}Q.l=L,Q.p=we,Q.b=R,L&&(k=1,Q.m=j,Q.d=K,Q.n=ne)}while(!k);return R==X.length?X:function(_e,at,tt){(tt==null||tt>_e.length)&&(tt=_e.length);var Ut=new(_e instanceof s?s:_e instanceof d?d:t)(tt-at);return Ut.set(_e.subarray(at,tt)),Ut}(X,0,R)},N=new t(0),W=typeof TextDecoder<"u"&&new TextDecoder;try{W.decode(N,{stream:!0})}catch{}return l.convert_streams=function(I){var X=new DataView(I),Q=0;function $(){var ee=X.getUint16(Q);return Q+=2,ee}function te(){var ee=X.getUint32(Q);return Q+=4,ee}function se(ee){ce.setUint16(ue,ee),ue+=2}function Y(ee){ce.setUint32(ue,ee),ue+=4}for(var J={signature:te(),flavor:te(),length:te(),numTables:$(),reserved:$(),totalSfntSize:te(),majorVersion:$(),minorVersion:$(),metaOffset:te(),metaLength:te(),metaOrigLength:te(),privOffset:te(),privLength:te()},k=0;Math.pow(2,k)<=J.numTables;)k++;k--;for(var F=16*Math.pow(2,k),R=16*J.numTables-F,L=12,K=[],j=0;j<J.numTables;j++)K.push({tag:te(),offset:te(),compLength:te(),origLength:te(),origChecksum:te()}),L+=16;var ne,q=new Uint8Array(12+16*K.length+K.reduce(function(ee,oe){return ee+oe.origLength+4},0)),re=q.buffer,ce=new DataView(re),ue=0;return Y(J.flavor),se(J.numTables),se(F),se(k),se(R),K.forEach(function(ee){Y(ee.tag),Y(ee.origChecksum),Y(L),Y(ee.origLength),ee.outOffset=L,(L+=ee.origLength)%4!=0&&(L+=4-L%4)}),K.forEach(function(ee){var oe,ye=I.slice(ee.offset,ee.offset+ee.compLength);if(ee.compLength!=ee.origLength){var Te=new Uint8Array(ee.origLength);oe=new Uint8Array(ye,2),H(oe,Te)}else Te=new Uint8Array(ye);q.set(Te,ee.outOffset);var pe=0;(L=ee.outOffset+ee.origLength)%4!=0&&(pe=4-L%4),q.set(new Uint8Array(pe).buffer,ee.outOffset+ee.origLength),ne=L+pe}),re.slice(0,ne)},Object.defineProperty(l,"__esModule",{value:!0}),l}({}).convert_streams}function R1(l,t){const s={M:2,L:2,Q:4,C:6,Z:0},d={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},o=1,r=2,i=4,c=8,u=16,f=32;let h;function m(G){if(!h){const b={R:r,L:o,D:i,C:u,U:f,T:c};h=new Map;for(let H in d){let N=0;d[H].split(",").forEach(W=>{let[I,X]=W.split("+");I=parseInt(I,36),X=X?parseInt(X,36):0,h.set(N+=I,b[H]);for(let Q=X;Q--;)h.set(++N,b[H])})}}return h.get(G)||f}const A=1,y=2,B=3,C=4,E=[null,"isol","init","fina","medi"];function S(G){const b=new Uint8Array(G.length);let H=f,N=A,W=-1;for(let I=0;I<G.length;I++){const X=G.codePointAt(I);let Q=m(X)|0,$=A;Q&c||(H&(o|i|u)?Q&(r|i|u)?($=B,(N===A||N===B)&&b[W]++):Q&(o|f)&&(N===y||N===C)&&b[W]--:H&(r|f)&&(N===y||N===C)&&b[W]--,N=b[I]=$,H=Q,W=I,X>65535&&I++)}return b}function x(G,b){const H=[];for(let W=0;W<b.length;W++){const I=b.codePointAt(W);I>65535&&W++,H.push(l.U.codeToGlyph(G,I))}const N=G.GSUB;if(N){const{lookupList:W,featureList:I}=N;let X;const Q=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,$=[];I.forEach(te=>{if(Q.test(te.tag))for(let se=0;se<te.tab.length;se++){if($[te.tab[se]])continue;$[te.tab[se]]=!0;const Y=W[te.tab[se]],J=/^(isol|init|fina|medi)$/.test(te.tag);J&&!X&&(X=S(b));for(let k=0;k<H.length;k++)(!X||!J||E[X[k]]===te.tag)&&l.U._applySubs(H,k,Y,W)}})}return H}function w(G,b){const H=new Int16Array(b.length*3);let N=0;for(;N<b.length;N++){const Q=b[N];if(Q===-1)continue;H[N*3+2]=G.hmtx.aWidth[Q];const $=G.GPOS;if($){const te=$.lookupList;for(let se=0;se<te.length;se++){const Y=te[se];for(let J=0;J<Y.tabs.length;J++){const k=Y.tabs[J];if(Y.ltype===1){if(l._lctf.coverageIndex(k.coverage,Q)!==-1&&k.pos){X(k.pos,N);break}}else if(Y.ltype===2){let F=null,R=W();if(R!==-1){const L=l._lctf.coverageIndex(k.coverage,b[R]);if(L!==-1){if(k.fmt===1){const K=k.pairsets[L];for(let j=0;j<K.length;j++)K[j].gid2===Q&&(F=K[j])}else if(k.fmt===2){const K=l.U._getGlyphClass(b[R],k.classDef1),j=l.U._getGlyphClass(Q,k.classDef2);F=k.matrix[K][j]}if(F){F.val1&&X(F.val1,R),F.val2&&X(F.val2,N);break}}}}else if(Y.ltype===4){const F=l._lctf.coverageIndex(k.markCoverage,Q);if(F!==-1){const R=W(I),L=R===-1?-1:l._lctf.coverageIndex(k.baseCoverage,b[R]);if(L!==-1){const K=k.markArray[F],j=k.baseArray[L][K.markClass];H[N*3]=j.x-K.x+H[R*3]-H[R*3+2],H[N*3+1]=j.y-K.y+H[R*3+1];break}}}else if(Y.ltype===6){const F=l._lctf.coverageIndex(k.mark1Coverage,Q);if(F!==-1){const R=W();if(R!==-1){const L=b[R];if(T(G,L)===3){const K=l._lctf.coverageIndex(k.mark2Coverage,L);if(K!==-1){const j=k.mark1Array[F],ne=k.mark2Array[K][j.markClass];H[N*3]=ne.x-j.x+H[R*3]-H[R*3+2],H[N*3+1]=ne.y-j.y+H[R*3+1];break}}}}}}}}else if(G.kern&&!G.cff){const te=W();if(te!==-1){const se=G.kern.glyph1.indexOf(b[te]);if(se!==-1){const Y=G.kern.rval[se].glyph2.indexOf(Q);Y!==-1&&(H[te*3+2]+=G.kern.rval[se].vals[Y])}}}}return H;function W(Q){for(let $=N-1;$>=0;$--)if(b[$]!==-1&&(!Q||Q(b[$])))return $;return-1}function I(Q){return T(G,Q)===1}function X(Q,$){for(let te=0;te<3;te++)H[$*3+te]+=Q[te]||0}}function T(G,b){const H=G.GDEF&&G.GDEF.glyphClassDef;return H?l.U._getGlyphClass(b,H):0}function D(...G){for(let b=0;b<G.length;b++)if(typeof G[b]=="number")return G[b]}function P(G){const b=Object.create(null),H=G["OS/2"],N=G.hhea,W=G.head.unitsPerEm,I=D(H&&H.sTypoAscender,N&&N.ascender,W),X={unitsPerEm:W,ascender:I,descender:D(H&&H.sTypoDescender,N&&N.descender,0),capHeight:D(H&&H.sCapHeight,I),xHeight:D(H&&H.sxHeight,I),lineGap:D(H&&H.sTypoLineGap,N&&N.lineGap),supportsCodePoint(Q){return l.U.codeToGlyph(G,Q)>0},forEachGlyph(Q,$,te,se){let Y=0;const J=1/X.unitsPerEm*$,k=x(G,Q);let F=0;const R=w(G,k);return k.forEach((L,K)=>{if(L!==-1){let j=b[L];if(!j){const{cmds:ne,crds:q}=l.U.glyphToPath(G,L);let re="",ce=0;for(let Te=0,pe=ne.length;Te<pe;Te++){const Se=s[ne[Te]];re+=ne[Te];for(let Ee=1;Ee<=Se;Ee++)re+=(Ee>1?",":"")+q[ce++]}let ue,ee,oe,ye;if(q.length){ue=ee=1/0,oe=ye=-1/0;for(let Te=0,pe=q.length;Te<pe;Te+=2){let Se=q[Te],Ee=q[Te+1];Se<ue&&(ue=Se),Ee<ee&&(ee=Ee),Se>oe&&(oe=Se),Ee>ye&&(ye=Ee)}}else ue=oe=ee=ye=0;j=b[L]={index:L,advanceWidth:G.hmtx.aWidth[L],xMin:ue,yMin:ee,xMax:oe,yMax:ye,path:re}}se.call(null,j,Y+R[K*3]*J,R[K*3+1]*J,F),Y+=R[K*3+2]*J,te&&(Y+=te*$)}F+=Q.codePointAt(F)>65535?2:1}),Y}};return X}return function(b){const H=new Uint8Array(b,0,4),N=l._bin.readASCII(H,0,4);if(N==="wOFF")b=t(b);else if(N==="wOF2")throw new Error("woff2 fonts not supported");return P(l.parse(b)[0])}}const D1=Do({name:"Typr Font Parser",dependencies:[T1,_1,R1],init(l,t,s){const d=l(),o=t();return s(d,o)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function I1(){return function(l){var t=function(){this.buckets=new Map};t.prototype.add=function(w){var T=w>>5;this.buckets.set(T,(this.buckets.get(T)||0)|1<<(31&w))},t.prototype.has=function(w){var T=this.buckets.get(w>>5);return T!==void 0&&(T&1<<(31&w))!=0},t.prototype.serialize=function(){var w=[];return this.buckets.forEach(function(T,D){w.push((+D).toString(36)+":"+T.toString(36))}),w.join(",")},t.prototype.deserialize=function(w){var T=this;this.buckets.clear(),w.split(",").forEach(function(D){var P=D.split(":");T.buckets.set(parseInt(P[0],36),parseInt(P[1],36))})};var s=Math.pow(2,8),d=s-1,o=~d;function r(w){var T=function(P){return P&o}(w).toString(16),D=function(P){return(P&o)+s-1}(w).toString(16);return"codepoint-index/plane"+(w>>16)+"/"+T+"-"+D+".json"}function i(w,T){var D=w&d,P=T.codePointAt(D/6|0);return((P=(P||48)-48)&1<<D%6)!=0}function c(w,T){var D;(D=w,D.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(P){return P.split("-").map(function(G){return parseInt(G.trim(),16)})})).forEach(function(P){var G=P[0],b=P[1];b===void 0&&(b=G),T(G,b)})}function u(w,T){c(w,function(D,P){for(var G=D;G<=P;G++)T(G)})}var f={},h={},m=new WeakMap,A="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function y(w){var T=m.get(w);return T||(T=new t,u(w.ranges,function(D){return T.add(D)}),m.set(w,T)),T}var B,C=new Map;function E(w,T,D){return w[T]?T:w[D]?D:function(P){for(var G in P)return G}(w)}function S(w,T){var D=T;if(!w.includes(D)){D=1/0;for(var P=0;P<w.length;P++)Math.abs(w[P]-T)<Math.abs(D-T)&&(D=w[P])}return D}function x(w){return B||(B=new Set,u("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(T){B.add(T)})),B.has(w)}return l.CodePointSet=t,l.clearCache=function(){f={},h={}},l.getFontsForString=function(w,T){T===void 0&&(T={});var D,P=T.lang;P===void 0&&(P=new RegExp("\\p{Script=Hangul}","u").test(D=w)?"ko":new RegExp("\\p{Script=Hiragana}|\\p{Script=Katakana}","u").test(D)?"ja":"en");var G=T.category;G===void 0&&(G="sans-serif");var b=T.style;b===void 0&&(b="normal");var H=T.weight;H===void 0&&(H=400);var N=(T.dataUrl||A).replace(/\/$/g,""),W=new Map,I=new Uint8Array(w.length),X={},Q={},$=new Array(w.length),te=new Map,se=!1;function Y(F){var R=C.get(F);return R||(R=fetch(N+"/"+F).then(function(L){if(!L.ok)throw new Error(L.statusText);return L.json().then(function(K){if(!Array.isArray(K)||K[0]!==1)throw new Error("Incorrect schema version; need 1, got "+K[0]);return K[1]})}).catch(function(L){if(N!==A)return se||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+N+'", trying default CDN. '+L.message),se=!0),N=A,C.delete(F),Y(F);throw L}),C.set(F,R)),R}for(var J=function(F){var R=w.codePointAt(F),L=r(R);$[F]=L,f[L]||te.has(L)||te.set(L,Y(L).then(function(K){f[L]=K})),R>65535&&(F++,k=F)},k=0;k<w.length;k++)J(k);return Promise.all(te.values()).then(function(){te.clear();for(var F=function(L){var K=w.codePointAt(L),j=null,ne=f[$[L]],q=void 0;for(var re in ne){var ce=Q[re];if(ce===void 0&&(ce=Q[re]=new RegExp(re).test(P||"en")),ce){for(var ue in q=re,ne[re])if(i(K,ne[re][ue])){j=ue;break}break}}if(!j){e:for(var ee in ne)if(ee!==q){for(var oe in ne[ee])if(i(K,ne[ee][oe])){j=oe;break e}}}j||(console.debug("No font coverage for U+"+K.toString(16)),j="latin"),$[L]=j,h[j]||te.has(j)||te.set(j,Y("font-meta/"+j+".json").then(function(ye){h[j]=ye})),K>65535&&(L++,R=L)},R=0;R<w.length;R++)F(R);return Promise.all(te.values())}).then(function(){for(var F,R=null,L=0;L<w.length;L++){var K=w.codePointAt(L);if(R&&(x(K)||y(R).has(K)))I[L]=I[L-1];else{R=h[$[L]];var j=X[R.id];if(!j){var ne=R.typeforms,q=E(ne,G,"sans-serif"),re=E(ne[q],b,"normal"),ce=S((F=ne[q])===null||F===void 0?void 0:F[re],H);j=X[R.id]=N+"/font-files/"+R.id+"/"+q+"."+re+"."+ce+".woff"}var ue=W.get(j);ue==null&&(ue=W.size,W.set(j,ue)),I[L]=ue}K>65535&&(L++,I[L]=I[L-1])}return{fontUrls:Array.from(W.keys()),chars:I}})},Object.defineProperty(l,"__esModule",{value:!0}),l}({})}function G1(l,t){const s=Object.create(null),d=Object.create(null);function o(i,c){const u=f=>{console.error(`Failure loading font ${i}`,f)};try{const f=new XMLHttpRequest;f.open("get",i,!0),f.responseType="arraybuffer",f.onload=function(){if(f.status>=400)u(new Error(f.statusText));else if(f.status>0)try{const h=l(f.response);h.src=i,c(h)}catch(h){u(h)}},f.onerror=u,f.send()}catch(f){u(f)}}function r(i,c){let u=s[i];u?c(u):d[i]?d[i].push(c):(d[i]=[c],o(i,f=>{f.src=i,s[i]=f,d[i].forEach(h=>h(f)),delete d[i]}))}return function(i,c,{lang:u,fonts:f=[],style:h="normal",weight:m="normal",unicodeFontsURL:A}={}){const y=new Uint8Array(i.length),B=[];i.length||x();const C=new Map,E=[];if(h!=="italic"&&(h="normal"),typeof m!="number"&&(m=m==="bold"?700:400),f&&!Array.isArray(f)&&(f=[f]),f=f.slice().filter(T=>!T.lang||T.lang.test(u)).reverse(),f.length){let G=0;(function b(H=0){for(let N=H,W=i.length;N<W;N++){const I=i.codePointAt(N);if(G===1&&B[y[N-1]].supportsCodePoint(I)||/\s/.test(i[N]))y[N]=y[N-1],G===2&&(E[E.length-1][1]=N);else for(let X=y[N],Q=f.length;X<=Q;X++)if(X===Q){const $=G===2?E[E.length-1]:E[E.length]=[N,N];$[1]=N,G=2}else{y[N]=X;const{src:$,unicodeRange:te}=f[X];if(!te||w(I,te)){const se=s[$];if(!se){r($,()=>{b(N)});return}if(se.supportsCodePoint(I)){let Y=C.get(se);typeof Y!="number"&&(Y=B.length,B.push(se),C.set(se,Y)),y[N]=Y,G=1;break}}}I>65535&&N+1<W&&(y[N+1]=y[N],N++,G===2&&(E[E.length-1][1]=N))}S()})()}else E.push([0,i.length-1]),S();function S(){if(E.length){const T=E.map(D=>i.substring(D[0],D[1]+1)).join(`
`);t.getFontsForString(T,{lang:u||void 0,style:h,weight:m,dataUrl:A}).then(({fontUrls:D,chars:P})=>{const G=B.length;let b=0;E.forEach(N=>{for(let W=0,I=N[1]-N[0];W<=I;W++)y[N[0]+W]=P[b++]+G;b++});let H=0;D.forEach((N,W)=>{r(N,I=>{B[W+G]=I,++H===D.length&&x()})})})}else x()}function x(){c({chars:y,fonts:B})}function w(T,D){for(let P=0;P<D.length;P++){const[G,b=G]=D[P];if(G<=T&&T<=b)return!0}return!1}}}const U1=Do({name:"FontResolver",dependencies:[G1,D1,I1],init(l,t,s){return l(t,s())}});function P1(l,t){const d=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,o="[^\\S\\u00A0]",r=new RegExp(`${o}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function i({text:B,lang:C,fonts:E,style:S,weight:x,preResolvedFonts:w,unicodeFontsURL:T},D){const P=({chars:G,fonts:b})=>{let H,N;const W=[];for(let I=0;I<G.length;I++)G[I]!==N?(N=G[I],W.push(H={start:I,end:I,fontObj:b[G[I]]})):H.end=I;D(W)};w?P(w):l(B,P,{lang:C,fonts:E,style:S,weight:x,unicodeFontsURL:T})}function c({text:B="",font:C,lang:E,sdfGlyphSize:S=64,fontSize:x=400,fontWeight:w=1,fontStyle:T="normal",letterSpacing:D=0,lineHeight:P="normal",maxWidth:G=1/0,direction:b,textAlign:H="left",textIndent:N=0,whiteSpace:W="normal",overflowWrap:I="normal",anchorX:X=0,anchorY:Q=0,metricsOnly:$=!1,unicodeFontsURL:te,preResolvedFonts:se=null,includeCaretPositions:Y=!1,chunkedBoundsSize:J=8192,colorRanges:k=null},F){const R=m(),L={fontLoad:0,typesetting:0};B.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),x=+x,D=+D,G=+G,P=P||"normal",N=+N,i({text:B,lang:E,style:T,weight:w,fonts:typeof C=="string"?[{src:C}]:C,unicodeFontsURL:te,preResolvedFonts:se},K=>{L.fontLoad=m()-R;const j=isFinite(G);let ne=null,q=null,re=null,ce=null,ue=null,ee=null,oe=null,ye=null,Te=0,pe=0,Se=W!=="nowrap";const Ee=new Map,ae=m();let Be=N,me=0,ie=new A;const Ge=[ie];K.forEach(Ae=>{const{fontObj:we}=Ae,{ascender:Re,descender:Pe,unitsPerEm:$e,lineGap:st,capHeight:be,xHeight:He}=we;let _e=Ee.get(we);if(!_e){const Ie=x/$e,Ye=P==="normal"?(Re-Pe+st)*Ie:P*x,Un=(Ye-(Re-Pe)*Ie)/2,Ve=Math.min(Ye,(Re-Pe)*Ie),Ne=(Re+Pe)/2*Ie+Ve/2;_e={index:Ee.size,src:we.src,fontObj:we,fontSizeMult:Ie,unitsPerEm:$e,ascender:Re*Ie,descender:Pe*Ie,capHeight:be*Ie,xHeight:He*Ie,lineHeight:Ye,baseline:-Un-Re*Ie,caretTop:Ne,caretBottom:Ne-Ve},Ee.set(we,_e)}const{fontSizeMult:at}=_e,tt=B.slice(Ae.start,Ae.end+1);let Ut,et;we.forEachGlyph(tt,x,D,(Ie,Ye,Un,Ve)=>{Ye+=me,Ve+=Ae.start,Ut=Ye,et=Ie;const Ne=B.charAt(Ve),ut=Ie.advanceWidth*at,ot=ie.count;let Ue;if("isEmpty"in Ie||(Ie.isWhitespace=!!Ne&&new RegExp(o).test(Ne),Ie.canBreakAfter=!!Ne&&r.test(Ne),Ie.isEmpty=Ie.xMin===Ie.xMax||Ie.yMin===Ie.yMax||d.test(Ne)),!Ie.isWhitespace&&!Ie.isEmpty&&pe++,Se&&j&&!Ie.isWhitespace&&Ye+ut+Be>G&&ot){if(ie.glyphAt(ot-1).glyphObj.canBreakAfter)Ue=new A,Be=-Ye;else for(let Et=ot;Et--;)if(Et===0&&I==="break-word"){Ue=new A,Be=-Ye;break}else if(ie.glyphAt(Et).glyphObj.canBreakAfter){Ue=ie.splitAt(Et+1);const St=Ue.glyphAt(0).x;Be-=St;for(let ht=Ue.count;ht--;)Ue.glyphAt(ht).x-=St;break}Ue&&(ie.isSoftWrapped=!0,ie=Ue,Ge.push(ie),Te=G)}let nt=ie.glyphAt(ie.count);nt.glyphObj=Ie,nt.x=Ye+Be,nt.y=Un,nt.width=ut,nt.charIndex=Ve,nt.fontData=_e,Ne===`
`&&(ie=new A,Ge.push(ie),Be=-(Ye+ut+D*x)+N)}),me=Ut+et.advanceWidth*at+D*x});let ve=0;Ge.forEach(Ae=>{let we=!0;for(let Re=Ae.count;Re--;){const Pe=Ae.glyphAt(Re);we&&!Pe.glyphObj.isWhitespace&&(Ae.width=Pe.x+Pe.width,Ae.width>Te&&(Te=Ae.width),we=!1);let{lineHeight:$e,capHeight:st,xHeight:be,baseline:He}=Pe.fontData;$e>Ae.lineHeight&&(Ae.lineHeight=$e);const _e=He-Ae.baseline;_e<0&&(Ae.baseline+=_e,Ae.cap+=_e,Ae.ex+=_e),Ae.cap=Math.max(Ae.cap,Ae.baseline+st),Ae.ex=Math.max(Ae.ex,Ae.baseline+be)}Ae.baseline-=ve,Ae.cap-=ve,Ae.ex-=ve,ve+=Ae.lineHeight});let Ce=0,de=0;if(X&&(typeof X=="number"?Ce=-X:typeof X=="string"&&(Ce=-Te*(X==="left"?0:X==="center"?.5:X==="right"?1:f(X)))),Q&&(typeof Q=="number"?de=-Q:typeof Q=="string"&&(de=Q==="top"?0:Q==="top-baseline"?-Ge[0].baseline:Q==="top-cap"?-Ge[0].cap:Q==="top-ex"?-Ge[0].ex:Q==="middle"?ve/2:Q==="bottom"?ve:Q==="bottom-baseline"?-Ge[Ge.length-1].baseline:f(Q)*ve)),!$){const Ae=t.getEmbeddingLevels(B,b);ne=new Uint16Array(pe),q=new Uint8Array(pe),re=new Float32Array(pe*2),ce={},oe=[1/0,1/0,-1/0,-1/0],ye=[],Y&&(ee=new Float32Array(B.length*4)),k&&(ue=new Uint8Array(pe*3));let we=0,Re=-1,Pe=-1,$e,st;if(Ge.forEach((be,He)=>{let{count:_e,width:at}=be;if(_e>0){let tt=0;for(let Ve=_e;Ve--&&be.glyphAt(Ve).glyphObj.isWhitespace;)tt++;let Ut=0,et=0;if(H==="center")Ut=(Te-at)/2;else if(H==="right")Ut=Te-at;else if(H==="justify"&&be.isSoftWrapped){let Ve=0;for(let Ne=_e-tt;Ne--;)be.glyphAt(Ne).glyphObj.isWhitespace&&Ve++;et=(Te-at)/Ve}if(et||Ut){let Ve=0;for(let Ne=0;Ne<_e;Ne++){let ut=be.glyphAt(Ne);const ot=ut.glyphObj;ut.x+=Ut+Ve,et!==0&&ot.isWhitespace&&Ne<_e-tt&&(Ve+=et,ut.width+=et)}}const Ie=t.getReorderSegments(B,Ae,be.glyphAt(0).charIndex,be.glyphAt(be.count-1).charIndex);for(let Ve=0;Ve<Ie.length;Ve++){const[Ne,ut]=Ie[Ve];let ot=1/0,Ue=-1/0;for(let nt=0;nt<_e;nt++)if(be.glyphAt(nt).charIndex>=Ne){let Et=nt,St=nt;for(;St<_e;St++){let ht=be.glyphAt(St);if(ht.charIndex>ut)break;St<_e-tt&&(ot=Math.min(ot,ht.x),Ue=Math.max(Ue,ht.x+ht.width))}for(let ht=Et;ht<St;ht++){const $t=be.glyphAt(ht);$t.x=Ue-($t.x+$t.width-ot)}break}}let Ye;const Un=Ve=>Ye=Ve;for(let Ve=0;Ve<_e;Ve++){const Ne=be.glyphAt(Ve);Ye=Ne.glyphObj;const ut=Ye.index,ot=Ae.levels[Ne.charIndex]&1;if(ot){const Ue=t.getMirroredCharacter(B[Ne.charIndex]);Ue&&Ne.fontData.fontObj.forEachGlyph(Ue,0,0,Un)}if(Y){const{charIndex:Ue,fontData:nt}=Ne,Et=Ne.x+Ce,St=Ne.x+Ne.width+Ce;ee[Ue*4]=ot?St:Et,ee[Ue*4+1]=ot?Et:St,ee[Ue*4+2]=be.baseline+nt.caretBottom+de,ee[Ue*4+3]=be.baseline+nt.caretTop+de;const ht=Ue-Re;ht>1&&h(ee,Re,ht),Re=Ue}if(k){const{charIndex:Ue}=Ne;for(;Ue>Pe;)Pe++,k.hasOwnProperty(Pe)&&(st=k[Pe])}if(!Ye.isWhitespace&&!Ye.isEmpty){const Ue=we++,{fontSizeMult:nt,src:Et,index:St}=Ne.fontData,ht=ce[Et]||(ce[Et]={});ht[ut]||(ht[ut]={path:Ye.path,pathBounds:[Ye.xMin,Ye.yMin,Ye.xMax,Ye.yMax]});const $t=Ne.x+Ce,Fn=Ne.y+be.baseline+de;re[Ue*2]=$t,re[Ue*2+1]=Fn;const en=$t+Ye.xMin*nt,Pn=Fn+Ye.yMin*nt,tn=$t+Ye.xMax*nt,Tn=Fn+Ye.yMax*nt;en<oe[0]&&(oe[0]=en),Pn<oe[1]&&(oe[1]=Pn),tn>oe[2]&&(oe[2]=tn),Tn>oe[3]&&(oe[3]=Tn),Ue%J===0&&($e={start:Ue,end:Ue,rect:[1/0,1/0,-1/0,-1/0]},ye.push($e)),$e.end++;const Dt=$e.rect;if(en<Dt[0]&&(Dt[0]=en),Pn<Dt[1]&&(Dt[1]=Pn),tn>Dt[2]&&(Dt[2]=tn),Tn>Dt[3]&&(Dt[3]=Tn),ne[Ue]=ut,q[Ue]=St,k){const Qn=Ue*3;ue[Qn]=st>>16&255,ue[Qn+1]=st>>8&255,ue[Qn+2]=st&255}}}}}),ee){const be=B.length-Re;be>1&&h(ee,Re,be)}}const We=[];Ee.forEach(({index:Ae,src:we,unitsPerEm:Re,ascender:Pe,descender:$e,lineHeight:st,capHeight:be,xHeight:He})=>{We[Ae]={src:we,unitsPerEm:Re,ascender:Pe,descender:$e,lineHeight:st,capHeight:be,xHeight:He}}),L.typesetting=m()-ae,F({glyphIds:ne,glyphFontIndices:q,glyphPositions:re,glyphData:ce,fontData:We,caretPositions:ee,glyphColors:ue,chunkedBounds:ye,fontSize:x,topBaseline:de+Ge[0].baseline,blockBounds:[Ce,de-ve,Ce+Te,de],visibleBounds:oe,timings:L})})}function u(B,C){c({...B,metricsOnly:!0},E=>{const[S,x,w,T]=E.blockBounds;C({width:w-S,height:T-x})})}function f(B){let C=B.match(/^([\d.]+)%$/),E=C?parseFloat(C[1]):NaN;return isNaN(E)?0:E/100}function h(B,C,E){const S=B[C*4],x=B[C*4+1],w=B[C*4+2],T=B[C*4+3],D=(x-S)/E;for(let P=0;P<E;P++){const G=(C+P)*4;B[G]=S+D*P,B[G+1]=S+D*(P+1),B[G+2]=w,B[G+3]=T}}function m(){return(self.performance||Date).now()}function A(){this.data=[]}const y=["glyphObj","x","y","width","charIndex","fontData"];return A.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/y.length)},glyphAt(B){let C=A.flyweight;return C.data=this.data,C.index=B,C},splitAt(B){let C=new A;return C.data=this.data.splice(B*y.length),C}},A.flyweight=y.reduce((B,C,E,S)=>(Object.defineProperty(B,C,{get(){return this.data[this.index*y.length+E]},set(x){this.data[this.index*y.length+E]=x}}),B),{data:null,index:0}),{typeset:c,measure:u}}const Kr=()=>(self.performance||Date).now(),Ys=zd();let Rf;function k1(l,t,s,d,o,r,i,c,u,f,h=!0){return h?O1(l,t,s,d,o,r,i,c,u,f).then(null,m=>(Rf||(console.warn("WebGL SDF generation failed, falling back to JS",m),Rf=!0),If(l,t,s,d,o,r,i,c,u,f))):If(l,t,s,d,o,r,i,c,u,f)}const Os=[],L1=5;let wl=0;function Wd(){const l=Kr();for(;Os.length&&Kr()-l<L1;)Os.shift()();wl=Os.length?setTimeout(Wd,0):0}const O1=(...l)=>new Promise((t,s)=>{Os.push(()=>{const d=Kr();try{Ys.webgl.generateIntoCanvas(...l),t({timing:Kr()-d})}catch(o){s(o)}}),wl||(wl=setTimeout(Wd,0))}),b1=4,H1=2e3,Df={};let N1=0;function If(l,t,s,d,o,r,i,c,u,f){const h="TroikaTextSDFGenerator_JS_"+N1++%b1;let m=Df[h];return m||(m=Df[h]={workerModule:Do({name:h,workerId:h,dependencies:[zd,Kr],init(A,y){const B=A().javascript.generate;return function(...C){const E=y();return{textureData:B(...C),timing:y()-E}}},getTransferables(A){return[A.textureData.buffer]}}),requests:0,idleTimer:null}),m.requests++,clearTimeout(m.idleTimer),m.workerModule(l,t,s,d,o,r).then(({textureData:A,timing:y})=>{const B=Kr(),C=new Uint8Array(A.length*4);for(let E=0;E<A.length;E++)C[E*4+f]=A[E];return Ys.webglUtils.renderImageData(i,C,c,u,l,t,1<<3-f),y+=Kr()-B,--m.requests===0&&(m.idleTimer=setTimeout(()=>{g1(h)},H1)),{timing:y}})}function J1(l){l._warm||(Ys.webgl.isSupported(l),l._warm=!0)}const j1=Ys.webglUtils.resizeWebGLCanvasWithoutClearing,Eo={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048},z1=new bt;function yo(){return(self.performance||Date).now()}const Gf=Object.create(null);function Qd(l,t){l=Q1({},l);const s=yo(),{defaultFontURL:d}=Eo,o=[];if(d&&o.push({label:"default",src:Uf(d)}),l.font&&o.push({label:"user",src:Uf(l.font)}),l.font=o,l.text=""+l.text,l.sdfGlyphSize=l.sdfGlyphSize||Eo.sdfGlyphSize,l.unicodeFontsURL=l.unicodeFontsURL||Eo.unicodeFontsURL,l.colorRanges!=null){let A={};for(let y in l.colorRanges)if(l.colorRanges.hasOwnProperty(y)){let B=l.colorRanges[y];typeof B!="number"&&(B=z1.set(B).getHex()),A[y]=B}l.colorRanges=A}Object.freeze(l);const{textureWidth:r,sdfExponent:i}=Eo,{sdfGlyphSize:c}=l,u=r/c*4;let f=Gf[c];if(!f){const A=document.createElement("canvas");A.width=r,A.height=c*256/u,f=Gf[c]={glyphCount:0,sdfGlyphSize:c,sdfCanvas:A,sdfTexture:new Fo(A,void 0,void 0,void 0,Kn,Kn),contextLost:!1,glyphsByFont:new Map},f.sdfTexture.generateMipmaps=!1,K1(f)}const{sdfTexture:h,sdfCanvas:m}=f;Y1(l).then(A=>{const{glyphIds:y,glyphFontIndices:B,fontData:C,glyphPositions:E,fontSize:S,timings:x}=A,w=[],T=new Float32Array(y.length*4);let D=0,P=0;const G=yo(),b=C.map(X=>{let Q=f.glyphsByFont.get(X.src);return Q||f.glyphsByFont.set(X.src,Q=new Map),Q});y.forEach((X,Q)=>{const $=B[Q],{src:te,unitsPerEm:se}=C[$];let Y=b[$].get(X);if(!Y){const{path:L,pathBounds:K}=A.glyphData[te][X],j=Math.max(K[2]-K[0],K[3]-K[1])/c*(Eo.sdfMargin*c+.5),ne=f.glyphCount++,q=[K[0]-j,K[1]-j,K[2]+j,K[3]+j];b[$].set(X,Y={path:L,atlasIndex:ne,sdfViewBox:q}),w.push(Y)}const{sdfViewBox:J}=Y,k=E[P++],F=E[P++],R=S/se;T[D++]=k+J[0]*R,T[D++]=F+J[1]*R,T[D++]=k+J[2]*R,T[D++]=F+J[3]*R,y[Q]=Y.atlasIndex}),x.quads=(x.quads||0)+(yo()-G);const H=yo();x.sdf={};const N=m.height,W=Math.ceil(f.glyphCount/u),I=Math.pow(2,Math.ceil(Math.log2(W*c)));I>N&&(console.info(`Increasing SDF texture size ${N}->${I}`),j1(m,r,I),h.dispose()),Promise.all(w.map(X=>Xd(X,f,l.gpuAccelerateSDF).then(({timing:Q})=>{x.sdf[X.atlasIndex]=Q}))).then(()=>{w.length&&!f.contextLost&&(Yd(f),h.needsUpdate=!0),x.sdfTotal=yo()-H,x.total=yo()-s,t(Object.freeze({parameters:l,sdfTexture:h,sdfGlyphSize:c,sdfExponent:i,glyphBounds:T,glyphAtlasIndices:y,glyphColors:A.glyphColors,caretPositions:A.caretPositions,chunkedBounds:A.chunkedBounds,ascender:A.ascender,descender:A.descender,lineHeight:A.lineHeight,capHeight:A.capHeight,xHeight:A.xHeight,topBaseline:A.topBaseline,blockBounds:A.blockBounds,visibleBounds:A.visibleBounds,timings:A.timings}))})}),Promise.resolve().then(()=>{f.contextLost||J1(m)})}function Xd({path:l,atlasIndex:t,sdfViewBox:s},{sdfGlyphSize:d,sdfCanvas:o,contextLost:r},i){if(r)return Promise.resolve({timing:-1});const{textureWidth:c,sdfExponent:u}=Eo,f=Math.max(s[2]-s[0],s[3]-s[1]),h=Math.floor(t/4),m=h%(c/d)*d,A=Math.floor(h/(c/d))*d,y=t%4;return k1(d,d,l,s,f,u,o,m,A,y,i)}function K1(l){const t=l.sdfCanvas;t.addEventListener("webglcontextlost",s=>{console.log("Context Lost",s),s.preventDefault(),l.contextLost=!0}),t.addEventListener("webglcontextrestored",s=>{console.log("Context Restored",s),l.contextLost=!1;const d=[];l.glyphsByFont.forEach(o=>{o.forEach(r=>{d.push(Xd(r,l,!0))})}),Promise.all(d).then(()=>{Yd(l),l.sdfTexture.needsUpdate=!0})})}function W1({font:l,characters:t,sdfGlyphSize:s},d){let o=Array.isArray(t)?t.join(`
`):""+t;Qd({font:l,sdfGlyphSize:s,text:o},d)}function Q1(l,t){for(let s in t)t.hasOwnProperty(s)&&(l[s]=t[s]);return l}let Rs;function Uf(l){return Rs||(Rs=typeof document>"u"?{}:document.createElement("a")),Rs.href=l,Rs.href}function Yd(l){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:t,sdfTexture:s}=l,{width:d,height:o}=t,r=l.sdfCanvas.getContext("webgl");let i=s.image.data;(!i||i.length!==d*o*4)&&(i=new Uint8Array(d*o*4),s.image={width:d,height:o,data:i},s.flipY=!1,s.isDataTexture=!0),r.readPixels(0,0,d,o,r.RGBA,r.UNSIGNED_BYTE,i)}}const X1=Do({name:"Typesetter",dependencies:[P1,U1,B1],init(l,t,s){return l(t,s())}}),Y1=Do({name:"Typesetter",dependencies:[X1],init(l){return function(t){return new Promise(s=>{l.typeset(t,s)})}},getTransferables(l){const t=[];for(let s in l)l[s]&&l[s].buffer&&t.push(l[s].buffer);return t}}),Pf={};function V1(l){let t=Pf[l];if(!t){const s=new Rl(1,1,l,l),d=s.clone(),o=s.attributes,r=d.attributes,i=new _i,c=o.uv.count;for(let u=0;u<c;u++)r.position.array[u*3]*=-1,r.normal.array[u*3+2]*=-1;["position","normal","uv"].forEach(u=>{i.setAttribute(u,new Lp([...o[u].array,...r[u].array],o[u].itemSize))}),i.setIndex([...s.index.array,...d.index.array.map(u=>u+c)]),i.translate(.5,.5,0),t=Pf[l]=i}return t}const Z1="aTroikaGlyphBounds",kf="aTroikaGlyphIndex",q1="aTroikaGlyphColor";class $1 extends Up{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new ad,this.boundingBox=new sd}computeBoundingSphere(){}computeBoundingBox(){}setSide(t){const s=this.getIndex().count;this.setDrawRange(t===Pp?s/2:0,t===Ws?s:s/2)}set detail(t){if(t!==this._detail){this._detail=t,(typeof t!="number"||t<1)&&(t=1);let s=V1(t);["position","normal","uv"].forEach(d=>{this.attributes[d]=s.attributes[d].clone()}),this.setIndex(s.getIndex().clone())}}get detail(){return this._detail}set curveRadius(t){t!==this._curveRadius&&(this._curveRadius=t,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(t,s,d,o,r){ll(this,Z1,t,4),ll(this,kf,s,1),ll(this,q1,r,3),this._blockBounds=d,this._chunkedBounds=o,this.instanceCount=s.length,this._updateBounds()}_updateBounds(){const t=this._blockBounds;if(t){const{curveRadius:s,boundingBox:d}=this;if(s){const{PI:o,floor:r,min:i,max:c,sin:u,cos:f}=Math,h=o/2,m=o*2,A=Math.abs(s),y=t[0]/A,B=t[2]/A,C=r((y+h)/m)!==r((B+h)/m)?-A:i(u(y)*A,u(B)*A),E=r((y-h)/m)!==r((B-h)/m)?A:c(u(y)*A,u(B)*A),S=r((y+o)/m)!==r((B+o)/m)?A*2:c(A-f(y)*A,A-f(B)*A);d.min.set(C,t[1],s<0?-S:0),d.max.set(E,t[3],s<0?0:S)}else d.min.set(t[0],t[1],0),d.max.set(t[2],t[3],0);d.getBoundingSphere(this.boundingSphere)}}applyClipRect(t){let s=this.getAttribute(kf).count,d=this._chunkedBounds;if(d)for(let o=d.length;o--;){s=d[o].end;let r=d[o].rect;if(r[1]<t.w&&r[3]>t.y&&r[0]<t.z&&r[2]>t.x)break}this.instanceCount=s}}function ll(l,t,s,d){const o=l.getAttribute(t);s?o&&o.array.length===s.length?(o.array.set(s),o.needsUpdate=!0):(l.setAttribute(t,new nd(s,d)),delete l._maxInstanceCount,l.dispose()):o&&l.deleteAttribute(t)}const eA=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaDistanceOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,tA=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaDistanceOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaDistanceOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,nA=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaDistanceOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaOutlineOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,rA=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaDistanceOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function oA(l){const t=Ml(l,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new Rt},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new ar(0,0,0,0)},uTroikaClipRect:{value:new ar(0,0,0,0)},uTroikaDistanceOffset:{value:0},uTroikaOutlineOpacity:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new Rt},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new bt},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new kp},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:eA,vertexTransform:tA,fragmentDefs:nA,fragmentColorTransform:rA,customRewriter({vertexShader:s,fragmentShader:d}){let o=/\buniform\s+vec3\s+diffuse\b/;return o.test(d)&&(d=d.replace(o,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),o.test(s)||(s=s.replace(Kd,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:s,fragmentShader:d}}});return t.transparent=!0,Object.defineProperties(t,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),t}const bl=new So({color:16777215,side:Ws,transparent:!0}),Lf=8421504,Of=new qt,Ds=new Ke,ul=new Ke,gi=[],iA=new Ke,cl="+x+y";function bf(l){return Array.isArray(l)?l[0]:l}let Vd=()=>{const l=new _o(new Rl(1,1),bl);return Vd=()=>l,l},Zd=()=>{const l=new _o(new Rl(1,1,32,1),bl);return Zd=()=>l,l};const sA={type:"syncstart"},aA={type:"synccomplete"},qd=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],lA=qd.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let $d=class extends _o{constructor(){const t=new $1;super(t,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=Lf,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=cl,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(t){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(t):(this._isSyncing=!0,this.dispatchEvent(sA),Qd({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},s=>{this._isSyncing=!1,this._textRenderInfo=s,this.geometry.updateGlyphs(s.glyphBounds,s.glyphAtlasIndices,s.blockBounds,s.chunkedBounds,s.glyphColors);const d=this._queuedSyncs;d&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{d.forEach(o=>o&&o())})),this.dispatchEvent(aA),t&&t()})))}onBeforeRender(t,s,d,o,r,i){this.sync(),r.isTroikaTextMaterial&&this._prepareForRender(r),r._hadOwnSide=r.hasOwnProperty("side"),this.geometry.setSide(r._actualSide=r.side),r.side=id}onAfterRender(t,s,d,o,r,i){r._hadOwnSide?r.side=r._actualSide:delete r.side}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}get material(){let t=this._derivedMaterial;const s=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=bl.clone());if((!t||t.baseMaterial!==s)&&(t=this._derivedMaterial=oA(s),s.addEventListener("dispose",function d(){s.removeEventListener("dispose",d),t.dispose()})),this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY){let d=t._outlineMtl;return d||(d=t._outlineMtl=Object.create(t,{id:{value:t.id+.1}}),d.isTextOutlineMaterial=!0,d.depthWrite=!1,d.map=null,t.addEventListener("dispose",function o(){t.removeEventListener("dispose",o),d.dispose()})),[d,t]}else return t}set material(t){t&&t.isTroikaTextMaterial?(this._derivedMaterial=t,this._baseMaterial=t.baseMaterial):this._baseMaterial=t}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(t){this.geometry.detail=t}get curveRadius(){return this.geometry.curveRadius}set curveRadius(t){this.geometry.curveRadius=t}get customDepthMaterial(){return bf(this.material).getDepthMaterial()}get customDistanceMaterial(){return bf(this.material).getDistanceMaterial()}_prepareForRender(t){const s=t.isTextOutlineMaterial,d=t.uniforms,o=this.textRenderInfo;if(o){const{sdfTexture:c,blockBounds:u}=o;d.uTroikaSDFTexture.value=c,d.uTroikaSDFTextureSize.value.set(c.image.width,c.image.height),d.uTroikaSDFGlyphSize.value=o.sdfGlyphSize,d.uTroikaSDFExponent.value=o.sdfExponent,d.uTroikaTotalBounds.value.fromArray(u),d.uTroikaUseGlyphColors.value=!s&&!!o.glyphColors;let f=0,h=0,m=0,A,y,B,C=0,E=0;if(s){let{outlineWidth:x,outlineOffsetX:w,outlineOffsetY:T,outlineBlur:D,outlineOpacity:P}=this;f=this._parsePercent(x)||0,h=Math.max(0,this._parsePercent(D)||0),A=P,C=this._parsePercent(w)||0,E=this._parsePercent(T)||0}else m=Math.max(0,this._parsePercent(this.strokeWidth)||0),m&&(B=this.strokeColor,d.uTroikaStrokeColor.value.set(B??Lf),y=this.strokeOpacity,y==null&&(y=1)),A=this.fillOpacity;d.uTroikaDistanceOffset.value=f,d.uTroikaPositionOffset.value.set(C,E),d.uTroikaBlurRadius.value=h,d.uTroikaStrokeWidth.value=m,d.uTroikaStrokeOpacity.value=y,d.uTroikaFillOpacity.value=A??1,d.uTroikaCurveRadius.value=this.curveRadius||0;let S=this.clipRect;if(S&&Array.isArray(S)&&S.length===4)d.uTroikaClipRect.value.fromArray(S);else{const x=(this.fontSize||.1)*100;d.uTroikaClipRect.value.set(u[0]-x,u[1]-x,u[2]+x,u[3]+x)}this.geometry.applyClipRect(d.uTroikaClipRect.value)}d.uTroikaSDFDebug.value=!!this.debugSDF,t.polygonOffset=!!this.depthOffset,t.polygonOffsetFactor=t.polygonOffsetUnits=this.depthOffset||0;const r=s?this.outlineColor||0:this.color;if(r==null)delete t.color;else{const c=t.hasOwnProperty("color")?t.color:t.color=new bt;(r!==c._input||typeof r=="object")&&c.set(c._input=r)}let i=this.orientation||cl;if(i!==t._orientation){let c=d.uTroikaOrient.value;i=i.replace(/[^-+xyz]/g,"");let u=i!==cl&&i.match(/^([-+])([xyz])([-+])([xyz])$/);if(u){let[,f,h,m,A]=u;Ds.set(0,0,0)[h]=f==="-"?1:-1,ul.set(0,0,0)[A]=m==="-"?-1:1,Of.lookAt(iA,Ds.cross(ul),ul),c.setFromMatrix4(Of)}else c.identity();t._orientation=i}}_parsePercent(t){if(typeof t=="string"){let s=t.match(/^(-?[\d.]+)%$/),d=s?parseFloat(s[1]):NaN;t=(isNaN(d)?0:d/100)*this.fontSize}return t}localPositionToTextCoords(t,s=new Rt){s.copy(t);const d=this.curveRadius;return d&&(s.x=Math.atan2(t.x,Math.abs(d)-Math.abs(t.z))*Math.abs(d)),s}worldPositionToTextCoords(t,s=new Rt){return Ds.copy(t),this.localPositionToTextCoords(this.worldToLocal(Ds),s)}raycast(t,s){const{textRenderInfo:d,curveRadius:o}=this;if(d){const r=d.blockBounds,i=o?Zd():Vd(),c=i.geometry,{position:u,uv:f}=c.attributes;for(let h=0;h<f.count;h++){let m=r[0]+f.getX(h)*(r[2]-r[0]);const A=r[1]+f.getY(h)*(r[3]-r[1]);let y=0;o&&(y=o-Math.cos(m/o)*o,m=Math.sin(m/o)*o),u.setXYZ(h,m,A,y)}c.boundingSphere=this.geometry.boundingSphere,c.boundingBox=this.geometry.boundingBox,i.matrixWorld=this.matrixWorld,i.material.side=this.material.side,gi.length=0,i.raycast(t,gi);for(let h=0;h<gi.length;h++)gi[h].object=this,s.push(gi[h])}}copy(t){const s=this.geometry;return super.copy(t),this.geometry=s,lA.forEach(d=>{this[d]=t[d]}),this}clone(){return new this.constructor().copy(this)}};qd.forEach(l=>{const t="_private_"+l;Object.defineProperty($d.prototype,l,{get(){return this[t]},set(s){s!==this[t]&&(this[t]=s,this._needsSync=!0)}})});const zA=_.forwardRef(({sdfGlyphSize:l=64,anchorX:t="center",anchorY:s="middle",font:d,fontSize:o=1,children:r,characters:i,onSync:c,...u},f)=>{const h=Qt(({invalidate:B})=>B),[m]=_.useState(()=>new $d),[A,y]=_.useMemo(()=>{const B=[];let C="";return _.Children.forEach(r,E=>{typeof E=="string"||typeof E=="number"?C+=E:B.push(E)}),[B,C]},[r]);return Il(()=>new Promise(B=>W1({font:d,characters:i},B)),["troika-text",d,i]),_.useLayoutEffect(()=>void m.sync(()=>{h(),c&&c(m)})),_.useEffect(()=>()=>m.dispose(),[m]),_.createElement("primitive",wn({object:m,ref:f,font:d,text:y,anchorX:t,anchorY:s,fontSize:o,sdfGlyphSize:l},u),A)});function uA(l,t,s,d){const o=class extends ud{constructor(i={}){const c=Object.entries(l);super({uniforms:c.reduce((u,[f,h])=>{const m=ld.clone({[f]:{value:h}});return{...u,...m}},{}),vertexShader:t,fragmentShader:s}),this.key="",c.forEach(([u])=>Object.defineProperty(this,u,{get:()=>this.uniforms[u].value,set:f=>this.uniforms[u].value=f})),Object.assign(this,i)}};return o.key=_l.generateUUID(),o}const fl=l=>l===Object(l)&&!Array.isArray(l)&&typeof l!="function";function eh(l,t){const s=Qt(r=>r.gl),d=Cr(Ks,fl(l)?Object.values(l):l);return _.useLayoutEffect(()=>{t==null||t(d)},[t]),_.useEffect(()=>{if("initTexture"in s){let r=[];Array.isArray(d)?r=d:d instanceof Fo?r=[d]:fl(d)&&(r=Object.values(d)),r.forEach(i=>{i instanceof Fo&&s.initTexture(i)})}},[s,d]),_.useMemo(()=>{if(fl(l)){const r={};let i=0;for(const c in l)r[c]=d[i++];return r}else return d},[l,d])}eh.preload=l=>Cr.preload(Ks,l);eh.clear=l=>Cr.clear(Ks,l);const cA=()=>parseInt($f.replace(/\D+/g,"")),th=cA();let Is=null,nh="https://www.gstatic.com/draco/versioned/decoders/1.5.5/";function rh(l=!0,t=!0,s){return d=>{s&&s(d),l&&(Is||(Is=new Mv),Is.setDecoderPath(typeof l=="string"?l:nh),d.setDRACOLoader(Is)),t&&d.setMeshoptDecoder(typeof il=="function"?il():il)}}const Hl=(l,t,s,d)=>Cr(Ll,l,rh(t,s,d));Hl.preload=(l,t,s,d)=>Cr.preload(Ll,l,rh(t,s,d));Hl.clear=l=>Cr.clear(Ll,l);Hl.setDecoderPath=l=>{nh=l};function oh(l,t,s){const d=Qt(A=>A.size),o=Qt(A=>A.viewport),r=typeof l=="number"?l:d.width*o.dpr,i=typeof t=="number"?t:d.height*o.dpr,c=(typeof l=="number"?s:l)||{},{samples:u=0,depth:f,...h}=c,m=_.useMemo(()=>{const A=new Ns(r,i,{minFilter:Kn,magFilter:Kn,type:Dl,...h});return f&&(A.depthTexture=new cd(r,i,Op)),A.samples=u,A},[]);return _.useLayoutEffect(()=>{m.setSize(r,i),u&&(m.samples=u)},[u,m,r,i]),_.useEffect(()=>()=>m.dispose(),[]),m}const fA=l=>typeof l=="function",WA=_.forwardRef(({envMap:l,resolution:t=256,frames:s=1/0,makeDefault:d,children:o,...r},i)=>{const c=Qt(({set:E})=>E),u=Qt(({camera:E})=>E),f=Qt(({size:E})=>E),h=_.useRef(null);_.useImperativeHandle(i,()=>h.current,[]);const m=_.useRef(null),A=oh(t);_.useLayoutEffect(()=>{r.manual||(h.current.aspect=f.width/f.height)},[f,r]),_.useLayoutEffect(()=>{h.current.updateProjectionMatrix()});let y=0,B=null;const C=fA(o);return Qr(E=>{C&&(s===1/0||y<s)&&(m.current.visible=!1,E.gl.setRenderTarget(A),B=E.scene.background,l&&(E.scene.background=l),E.gl.render(E.scene,h.current),E.scene.background=B,E.gl.setRenderTarget(null),m.current.visible=!0,y++)}),_.useLayoutEffect(()=>{if(d){const E=u;return c(()=>({camera:h.current})),()=>c(()=>({camera:E}))}},[h,d,c]),_.createElement(_.Fragment,null,_.createElement("perspectiveCamera",wn({ref:h},r),!C&&o),_.createElement("group",{ref:m},C&&o(A.texture)))}),dA="modulepreload",hA=function(l){return"/"+l},Hf={},pA=function(t,s,d){let o=Promise.resolve();if(s&&s.length>0){document.getElementsByTagName("link");const i=document.querySelector("meta[property=csp-nonce]"),c=(i==null?void 0:i.nonce)||(i==null?void 0:i.getAttribute("nonce"));o=Promise.allSettled(s.map(u=>{if(u=hA(u),u in Hf)return;Hf[u]=!0;const f=u.endsWith(".css"),h=f?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${u}"]${h}`))return;const m=document.createElement("link");if(m.rel=f?"stylesheet":dA,f||(m.as="script"),m.crossOrigin="",m.href=u,c&&m.setAttribute("nonce",c),document.head.appendChild(m),f)return new Promise((A,y)=>{m.addEventListener("load",A),m.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${u}`)))})}))}function r(i){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=i,window.dispatchEvent(c),!c.defaultPrevented)throw i}return o.then(i=>{for(const c of i||[])c.status==="rejected"&&r(c.reason);return t().catch(r)})};var Nf,Jf;const mA=typeof window<"u"&&typeof((Nf=window.document)==null?void 0:Nf.createElement)=="function"&&typeof((Jf=window.navigator)==null?void 0:Jf.userAgent)=="string";let Gs=null;async function vA(l,t){if(mA&&l.pathname.endsWith(".m3u8")){var s;if((s=Gs)!==null&&s!==void 0||(Gs=await pA(()=>import("./hls-BzwHmAES.js").then(d=>d.h),__vite__mapDeps([0,1]))),Gs.default.isSupported())return new Gs.default({...t})}return null}function QA(l,{unsuspend:t="loadedmetadata",start:s=!0,crossOrigin:d="anonymous",muted:o=!0,loop:r=!0,hls:i={},...c}={}){const u=new URL(typeof l=="string"?l:"",window.location.href),f=_.useRef(null),h=_.useRef(null),m=Qt(y=>y.gl),A=Il(()=>new Promise(async y=>{const B=Object.assign(document.createElement("video"),{src:typeof l=="string"&&l||void 0,srcObject:l instanceof MediaStream&&l||void 0,crossOrigin:d,loop:r,muted:o,...c});if(h.current=B,typeof l=="string"){const E=f.current=await vA(u,i);E?(E.attachMedia(B),E.on("hlsMediaAttached",()=>{E.loadSource(l)})):B.src=l}else l instanceof MediaStream&&(B.srcObject=l);const C=new bp(B);"colorSpace"in C?C.colorSpace=m.outputColorSpace:C.encoding=m.outputEncoding,B.addEventListener(t,()=>y(C))}),[l]);return _.useEffect(()=>(s&&A.image.play(),()=>{f.current&&(f.current.destroy(),f.current=null)}),[A,s]),A}function XA(l,t){const s=_.useRef(),[d]=_.useState(()=>t?t instanceof Fi?{current:t}:t:s),[o]=_.useState(()=>new Hp(void 0));_.useLayoutEffect(()=>{t&&(d.current=t instanceof Fi?t:t.current),o._root=d.current});const r=_.useRef({}),i=_.useMemo(()=>{const c={};return l.forEach(u=>Object.defineProperty(c,u.name,{enumerable:!0,get(){if(d.current)return r.current[u.name]||(r.current[u.name]=o.clipAction(u,d.current))},configurable:!0})),{ref:d,clips:l,actions:c,names:l.map(u=>u.name),mixer:o}},[l]);return Qr((c,u)=>o.update(u)),_.useEffect(()=>{const c=d.current;return()=>{r.current={},o.stopAllAction(),Object.values(i.actions).forEach(u=>{c&&o.uncacheAction(u,c)})}},[l]),i}var ih={exports:{}},AA="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",gA=AA,yA=gA;function sh(){}function ah(){}ah.resetWarningCache=sh;var BA=function(){function l(d,o,r,i,c,u){if(u!==yA){var f=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw f.name="Invariant Violation",f}}l.isRequired=l;function t(){return l}var s={array:l,bigint:l,bool:l,func:l,number:l,object:l,string:l,symbol:l,any:l,arrayOf:t,element:l,elementType:l,instanceOf:t,node:l,objectOf:t,oneOf:t,oneOfType:t,shape:t,exact:t,checkPropTypes:ah,resetWarningCache:sh};return s.PropTypes=s,s};ih.exports=BA();var CA=ih.exports;const yi=Fl(CA);function lh(l){return uh(l.children,l.components)}lh.propTypes={children:yi.func.isRequired,components:yi.arrayOf(yi.oneOfType([yi.element,yi.func])).isRequired};function uh(l,t,s){if(s=s||[],!t[0])return l(s);function d(o){return uh(l,t.slice(1),s.concat([o]))}return typeof t[0]=="function"?t[0]({results:s,render:d}):_.cloneElement(t[0],{children:d})}const jf=(l,t)=>{"updateRanges"in l?l.updateRanges[0]=t:l.updateRange=t};function EA(l){return typeof l=="function"}const zf=new qt,Kf=new qt,Us=[],Bi=new _o;class SA extends Ps{constructor(){super(),this.color=new bt("white"),this.instance={current:void 0},this.instanceKey={current:void 0}}get geometry(){var t;return(t=this.instance.current)==null?void 0:t.geometry}raycast(t,s){const d=this.instance.current;if(!d||!d.geometry||!d.material)return;Bi.geometry=d.geometry;const o=d.matrixWorld,r=d.userData.instances.indexOf(this.instanceKey);if(!(r===-1||r>d.count)){d.getMatrixAt(r,zf),Kf.multiplyMatrices(o,zf),Bi.matrixWorld=Kf,d.material instanceof Ei?Bi.material.side=d.material.side:Bi.material.side=d.material[0].side,Bi.raycast(t,Us);for(let i=0,c=Us.length;i<c;i++){const u=Us[i];u.instanceId=r,u.object=this,s.push(u)}Us.length=0}}}const ch=_.createContext(null),Wf=new qt,Qf=new qt,xA=new qt,Xf=new Ke,Yf=new Br,Vf=new Ke,MA=l=>l.isInstancedBufferAttribute,wA=_.forwardRef(({context:l,children:t,...s},d)=>{_.useMemo(()=>Xs({PositionMesh:SA}),[]);const o=_.useRef();_.useImperativeHandle(d,()=>o.current,[]);const{subscribe:r,getParent:i}=_.useContext(l||ch);return _.useLayoutEffect(()=>r(o),[]),_.createElement("positionMesh",wn({instance:i(),instanceKey:o,ref:o},s),t)}),FA=_.forwardRef(({context:l,children:t,range:s,limit:d=1e3,frames:o=1/0,...r},i)=>{const[{localContext:c,instance:u}]=_.useState(()=>{const x=_.createContext(null);return{localContext:x,instance:_.forwardRef((w,T)=>_.createElement(wA,wn({context:x},w,{ref:T})))}}),f=_.useRef(null);_.useImperativeHandle(i,()=>f.current,[]);const[h,m]=_.useState([]),[[A,y]]=_.useState(()=>{const x=new Float32Array(d*16);for(let w=0;w<d;w++)xA.identity().toArray(x,w*16);return[x,new Float32Array([...new Array(d*3)].map(()=>1))]});_.useEffect(()=>{f.current.instanceMatrix.needsUpdate=!0});let B=0,C=0;const E=_.useRef([]);_.useLayoutEffect(()=>{E.current=Object.entries(f.current.geometry.attributes).filter(([x,w])=>MA(w))}),Qr(()=>{if(o===1/0||B<o){f.current.updateMatrix(),f.current.updateMatrixWorld(),Wf.copy(f.current.matrixWorld).invert(),C=Math.min(d,s!==void 0?s:d,h.length),f.current.count=C,jf(f.current.instanceMatrix,{offset:0,count:C*16}),jf(f.current.instanceColor,{offset:0,count:C*3});for(let x=0;x<h.length;x++){const w=h[x].current;w.matrixWorld.decompose(Xf,Yf,Vf),Qf.compose(Xf,Yf,Vf).premultiply(Wf),Qf.toArray(A,x*16),f.current.instanceMatrix.needsUpdate=!0,w.color.toArray(y,x*3),f.current.instanceColor.needsUpdate=!0}B++}});const S=_.useMemo(()=>({getParent:()=>f,subscribe:x=>(m(w=>[...w,x]),()=>m(w=>w.filter(T=>T.current!==x.current)))}),[]);return _.createElement("instancedMesh",wn({userData:{instances:h,limit:d,frames:o},matrixAutoUpdate:!1,ref:f,args:[null,null,0],raycast:()=>null},r),_.createElement("instancedBufferAttribute",{attach:"instanceMatrix",count:A.length/16,array:A,itemSize:16,usage:Ac}),_.createElement("instancedBufferAttribute",{attach:"instanceColor",count:y.length/3,array:y,itemSize:3,usage:Ac}),EA(t)?_.createElement(c.Provider,{value:S},t(u)):l?_.createElement(l.Provider,{value:S},t):_.createElement(ch.Provider,{value:S},t))}),YA=_.forwardRef(function({meshes:t,children:s,...d},o){const r=Array.isArray(t);if(!r)for(const i of Object.keys(t))t[i].isMesh||delete t[i];return _.createElement("group",{ref:o},_.createElement(lh,{components:(r?t:Object.values(t)).map(({geometry:i,material:c})=>_.createElement(FA,wn({key:i.uuid,geometry:i,material:c},d)))},i=>r?s(...i):s(Object.keys(t).filter(c=>t[c].isMesh).reduce((c,u,f)=>({...c,[u]:i[f]}),{}))))});class TA extends ud{constructor(t=new Rt){super({uniforms:{inputBuffer:new pn(null),depthBuffer:new pn(null),resolution:new pn(new Rt),texelSize:new pn(new Rt),halfTexelSize:new pn(new Rt),kernel:new pn(0),scale:new pn(1),cameraNear:new pn(0),cameraFar:new pn(1),minDepthThreshold:new pn(0),maxDepthThreshold:new pn(1),depthScale:new pn(0),depthToBlurRatioBias:new pn(.25)},fragmentShader:`#include <common>
        #include <dithering_pars_fragment>      
        uniform sampler2D inputBuffer;
        uniform sampler2D depthBuffer;
        uniform float cameraNear;
        uniform float cameraFar;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          float depthFactor = 0.0;
          
          #ifdef USE_DEPTH
            vec4 depth = texture2D(depthBuffer, vUv);
            depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
            depthFactor *= depthScale;
            depthFactor = max(0.0, min(1.0, depthFactor + 0.25));
          #endif
          
          vec4 sum = texture2D(inputBuffer, mix(vUv0, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv1, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv2, vUv, depthFactor));
          sum += texture2D(inputBuffer, mix(vUv3, vUv, depthFactor));
          gl_FragColor = sum * 0.25 ;

          #include <dithering_fragment>
          #include <tonemapping_fragment>
          #include <${th>=154?"colorspace_fragment":"encodings_fragment"}>
        }`,vertexShader:`uniform vec2 texelSize;
        uniform vec2 halfTexelSize;
        uniform float kernel;
        uniform float scale;
        varying vec2 vUv;
        varying vec2 vUv0;
        varying vec2 vUv1;
        varying vec2 vUv2;
        varying vec2 vUv3;

        void main() {
          vec2 uv = position.xy * 0.5 + 0.5;
          vUv = uv;

          vec2 dUv = (texelSize * vec2(kernel) + halfTexelSize) * scale;
          vUv0 = vec2(uv.x - dUv.x, uv.y + dUv.y);
          vUv1 = vec2(uv.x + dUv.x, uv.y + dUv.y);
          vUv2 = vec2(uv.x + dUv.x, uv.y - dUv.y);
          vUv3 = vec2(uv.x - dUv.x, uv.y - dUv.y);

          gl_Position = vec4(position.xy, 1.0, 1.0);
        }`,blending:Np,depthWrite:!1,depthTest:!1}),this.toneMapped=!1,this.setTexelSize(t.x,t.y),this.kernel=new Float32Array([0,1,2,2,3])}setTexelSize(t,s){this.uniforms.texelSize.value.set(t,s),this.uniforms.halfTexelSize.value.set(t,s).multiplyScalar(.5)}setResolution(t){this.uniforms.resolution.value.copy(t)}}class _A{constructor({gl:t,resolution:s,width:d=500,height:o=500,minDepthThreshold:r=0,maxDepthThreshold:i=1,depthScale:c=0,depthToBlurRatioBias:u=.25}){this.renderToScreen=!1,this.renderTargetA=new Ns(s,s,{minFilter:Kn,magFilter:Kn,stencilBuffer:!1,depthBuffer:!1,type:Dl}),this.renderTargetB=this.renderTargetA.clone(),this.convolutionMaterial=new TA,this.convolutionMaterial.setTexelSize(1/d,1/o),this.convolutionMaterial.setResolution(new Rt(d,o)),this.scene=new bs,this.camera=new qf,this.convolutionMaterial.uniforms.minDepthThreshold.value=r,this.convolutionMaterial.uniforms.maxDepthThreshold.value=i,this.convolutionMaterial.uniforms.depthScale.value=c,this.convolutionMaterial.uniforms.depthToBlurRatioBias.value=u,this.convolutionMaterial.defines.USE_DEPTH=c>0;const f=new Float32Array([-1,-1,0,3,-1,0,-1,3,0]),h=new Float32Array([0,0,2,0,0,2]),m=new _i;m.setAttribute("position",new zr(f,3)),m.setAttribute("uv",new zr(h,2)),this.screen=new _o(m,this.convolutionMaterial),this.screen.frustumCulled=!1,this.scene.add(this.screen)}render(t,s,d){const o=this.scene,r=this.camera,i=this.renderTargetA,c=this.renderTargetB;let u=this.convolutionMaterial,f=u.uniforms;f.depthBuffer.value=s.depthTexture;const h=u.kernel;let m=s,A,y,B;for(y=0,B=h.length-1;y<B;++y)A=y&1?c:i,f.kernel.value=h[y],f.inputBuffer.value=m.texture,t.setRenderTarget(A),t.render(o,r),m=A;f.kernel.value=h[y],f.inputBuffer.value=m.texture,t.setRenderTarget(this.renderToScreen?null:d),t.render(o,r)}}let RA=class extends Tl{constructor(t={}){super(t),this._tDepth={value:null},this._distortionMap={value:null},this._tDiffuse={value:null},this._tDiffuseBlur={value:null},this._textureMatrix={value:null},this._hasBlur={value:!1},this._mirror={value:0},this._mixBlur={value:0},this._blurStrength={value:.5},this._minDepthThreshold={value:.9},this._maxDepthThreshold={value:1},this._depthScale={value:0},this._depthToBlurRatioBias={value:.25},this._distortion={value:1},this._mixContrast={value:1},this.setValues(t)}onBeforeCompile(t){var s;(s=t.defines)!=null&&s.USE_UV||(t.defines.USE_UV=""),t.uniforms.hasBlur=this._hasBlur,t.uniforms.tDiffuse=this._tDiffuse,t.uniforms.tDepth=this._tDepth,t.uniforms.distortionMap=this._distortionMap,t.uniforms.tDiffuseBlur=this._tDiffuseBlur,t.uniforms.textureMatrix=this._textureMatrix,t.uniforms.mirror=this._mirror,t.uniforms.mixBlur=this._mixBlur,t.uniforms.mixStrength=this._blurStrength,t.uniforms.minDepthThreshold=this._minDepthThreshold,t.uniforms.maxDepthThreshold=this._maxDepthThreshold,t.uniforms.depthScale=this._depthScale,t.uniforms.depthToBlurRatioBias=this._depthToBlurRatioBias,t.uniforms.distortion=this._distortion,t.uniforms.mixContrast=this._mixContrast,t.vertexShader=`
        uniform mat4 textureMatrix;
        varying vec4 my_vUv;
      ${t.vertexShader}`,t.vertexShader=t.vertexShader.replace("#include <project_vertex>",`#include <project_vertex>
        my_vUv = textureMatrix * vec4( position, 1.0 );
        gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );`),t.fragmentShader=`
        uniform sampler2D tDiffuse;
        uniform sampler2D tDiffuseBlur;
        uniform sampler2D tDepth;
        uniform sampler2D distortionMap;
        uniform float distortion;
        uniform float cameraNear;
			  uniform float cameraFar;
        uniform bool hasBlur;
        uniform float mixBlur;
        uniform float mirror;
        uniform float mixStrength;
        uniform float minDepthThreshold;
        uniform float maxDepthThreshold;
        uniform float mixContrast;
        uniform float depthScale;
        uniform float depthToBlurRatioBias;
        varying vec4 my_vUv;
        ${t.fragmentShader}`,t.fragmentShader=t.fragmentShader.replace("#include <emissivemap_fragment>",`#include <emissivemap_fragment>

      float distortionFactor = 0.0;
      #ifdef USE_DISTORTION
        distortionFactor = texture2D(distortionMap, vUv).r * distortion;
      #endif

      vec4 new_vUv = my_vUv;
      new_vUv.x += distortionFactor;
      new_vUv.y += distortionFactor;

      vec4 base = texture2DProj(tDiffuse, new_vUv);
      vec4 blur = texture2DProj(tDiffuseBlur, new_vUv);

      vec4 merge = base;

      #ifdef USE_NORMALMAP
        vec2 normal_uv = vec2(0.0);
        vec4 normalColor = texture2D(normalMap, vUv * normalScale);
        vec3 my_normal = normalize( vec3( normalColor.r * 2.0 - 1.0, normalColor.b,  normalColor.g * 2.0 - 1.0 ) );
        vec3 coord = new_vUv.xyz / new_vUv.w;
        normal_uv = coord.xy + coord.z * my_normal.xz * 0.05;
        vec4 base_normal = texture2D(tDiffuse, normal_uv);
        vec4 blur_normal = texture2D(tDiffuseBlur, normal_uv);
        merge = base_normal;
        blur = blur_normal;
      #endif

      float depthFactor = 0.0001;
      float blurFactor = 0.0;

      #ifdef USE_DEPTH
        vec4 depth = texture2DProj(tDepth, new_vUv);
        depthFactor = smoothstep(minDepthThreshold, maxDepthThreshold, 1.0-(depth.r * depth.a));
        depthFactor *= depthScale;
        depthFactor = max(0.0001, min(1.0, depthFactor));

        #ifdef USE_BLUR
          blur = blur * min(1.0, depthFactor + depthToBlurRatioBias);
          merge = merge * min(1.0, depthFactor + 0.5);
        #else
          merge = merge * depthFactor;
        #endif

      #endif

      float reflectorRoughnessFactor = roughness;
      #ifdef USE_ROUGHNESSMAP
        vec4 reflectorTexelRoughness = texture2D( roughnessMap, vUv );
        reflectorRoughnessFactor *= reflectorTexelRoughness.g;
      #endif

      #ifdef USE_BLUR
        blurFactor = min(1.0, mixBlur * reflectorRoughnessFactor);
        merge = mix(merge, blur, blurFactor);
      #endif

      vec4 newMerge = vec4(0.0, 0.0, 0.0, 1.0);
      newMerge.r = (merge.r - 0.5) * mixContrast + 0.5;
      newMerge.g = (merge.g - 0.5) * mixContrast + 0.5;
      newMerge.b = (merge.b - 0.5) * mixContrast + 0.5;

      diffuseColor.rgb = diffuseColor.rgb * ((1.0 - min(1.0, mirror)) + newMerge.rgb * mixStrength);
      `)}get tDiffuse(){return this._tDiffuse.value}set tDiffuse(t){this._tDiffuse.value=t}get tDepth(){return this._tDepth.value}set tDepth(t){this._tDepth.value=t}get distortionMap(){return this._distortionMap.value}set distortionMap(t){this._distortionMap.value=t}get tDiffuseBlur(){return this._tDiffuseBlur.value}set tDiffuseBlur(t){this._tDiffuseBlur.value=t}get textureMatrix(){return this._textureMatrix.value}set textureMatrix(t){this._textureMatrix.value=t}get hasBlur(){return this._hasBlur.value}set hasBlur(t){this._hasBlur.value=t}get mirror(){return this._mirror.value}set mirror(t){this._mirror.value=t}get mixBlur(){return this._mixBlur.value}set mixBlur(t){this._mixBlur.value=t}get mixStrength(){return this._blurStrength.value}set mixStrength(t){this._blurStrength.value=t}get minDepthThreshold(){return this._minDepthThreshold.value}set minDepthThreshold(t){this._minDepthThreshold.value=t}get maxDepthThreshold(){return this._maxDepthThreshold.value}set maxDepthThreshold(t){this._maxDepthThreshold.value=t}get depthScale(){return this._depthScale.value}set depthScale(t){this._depthScale.value=t}get depthToBlurRatioBias(){return this._depthToBlurRatioBias.value}set depthToBlurRatioBias(t){this._depthToBlurRatioBias.value=t}get distortion(){return this._distortion.value}set distortion(t){this._distortion.value=t}get mixContrast(){return this._mixContrast.value}set mixContrast(t){this._mixContrast.value=t}};const ZA=_.forwardRef(({mixBlur:l=0,mixStrength:t=1,resolution:s=256,blur:d=[0,0],minDepthThreshold:o=.9,maxDepthThreshold:r=1,depthScale:i=0,depthToBlurRatioBias:c=.25,mirror:u=0,distortion:f=1,mixContrast:h=1,distortionMap:m,reflectorOffset:A=0,...y},B)=>{Xs({MeshReflectorMaterialImpl:RA});const C=Qt(({gl:F})=>F),E=Qt(({camera:F})=>F),S=Qt(({scene:F})=>F);d=Array.isArray(d)?d:[d,d];const x=d[0]+d[1]>0,w=_.useRef(null);_.useImperativeHandle(B,()=>w.current,[]);const[T]=_.useState(()=>new Jp),[D]=_.useState(()=>new Ke),[P]=_.useState(()=>new Ke),[G]=_.useState(()=>new Ke),[b]=_.useState(()=>new qt),[H]=_.useState(()=>new Ke(0,0,-1)),[N]=_.useState(()=>new ar),[W]=_.useState(()=>new Ke),[I]=_.useState(()=>new Ke),[X]=_.useState(()=>new ar),[Q]=_.useState(()=>new qt),[$]=_.useState(()=>new Ri),te=_.useCallback(()=>{var F;const R=w.current.parent||((F=w.current)==null?void 0:F.__r3f.parent);if(!R||(P.setFromMatrixPosition(R.matrixWorld),G.setFromMatrixPosition(E.matrixWorld),b.extractRotation(R.matrixWorld),D.set(0,0,1),D.applyMatrix4(b),P.addScaledVector(D,A),W.subVectors(P,G),W.dot(D)>0))return;W.reflect(D).negate(),W.add(P),b.extractRotation(E.matrixWorld),H.set(0,0,-1),H.applyMatrix4(b),H.add(G),I.subVectors(P,H),I.reflect(D).negate(),I.add(P),$.position.copy(W),$.up.set(0,1,0),$.up.applyMatrix4(b),$.up.reflect(D),$.lookAt(I),$.far=E.far,$.updateMatrixWorld(),$.projectionMatrix.copy(E.projectionMatrix),Q.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),Q.multiply($.projectionMatrix),Q.multiply($.matrixWorldInverse),Q.multiply(R.matrixWorld),T.setFromNormalAndCoplanarPoint(D,P),T.applyMatrix4($.matrixWorldInverse),N.set(T.normal.x,T.normal.y,T.normal.z,T.constant);const L=$.projectionMatrix;X.x=(Math.sign(N.x)+L.elements[8])/L.elements[0],X.y=(Math.sign(N.y)+L.elements[9])/L.elements[5],X.z=-1,X.w=(1+L.elements[10])/L.elements[14],N.multiplyScalar(2/N.dot(X)),L.elements[2]=N.x,L.elements[6]=N.y,L.elements[10]=N.z+1,L.elements[14]=N.w},[E,A]),[se,Y,J,k]=_.useMemo(()=>{const F={minFilter:Kn,magFilter:Kn,type:Dl},R=new Ns(s,s,F);R.depthBuffer=!0,R.depthTexture=new cd(s,s),R.depthTexture.format=jp,R.depthTexture.type=zp;const L=new Ns(s,s,F),K=new _A({gl:C,resolution:s,width:d[0],height:d[1],minDepthThreshold:o,maxDepthThreshold:r,depthScale:i,depthToBlurRatioBias:c}),j={mirror:u,textureMatrix:Q,mixBlur:l,tDiffuse:R.texture,tDepth:R.depthTexture,tDiffuseBlur:L.texture,hasBlur:x,mixStrength:t,minDepthThreshold:o,maxDepthThreshold:r,depthScale:i,depthToBlurRatioBias:c,distortion:f,distortionMap:m,mixContrast:h,"defines-USE_BLUR":x?"":void 0,"defines-USE_DEPTH":i>0?"":void 0,"defines-USE_DISTORTION":m?"":void 0};return[R,L,K,j]},[C,d,Q,s,u,x,l,t,o,r,i,c,f,m,h]);return Qr(()=>{var F;const R=w.current.parent||((F=w.current)==null?void 0:F.__r3f.parent);if(!R)return;R.visible=!1;const L=C.xr.enabled,K=C.shadowMap.autoUpdate;te(),C.xr.enabled=!1,C.shadowMap.autoUpdate=!1,C.setRenderTarget(se),C.state.buffers.depth.setMask(!0),C.autoClear||C.clear(),C.render(S,$),x&&J.render(C,se,Y),C.xr.enabled=L,C.shadowMap.autoUpdate=K,R.visible=!0,C.setRenderTarget(null)}),_.createElement("meshReflectorMaterialImpl",wn({attach:"material",key:"key"+k["defines-USE_BLUR"]+k["defines-USE_DEPTH"]+k["defines-USE_DISTORTION"],ref:w},k,y))}),DA=uA({time:0,pixelRatio:1},` uniform float pixelRatio;
    uniform float time;
    attribute float size;  
    attribute float speed;  
    attribute float opacity;
    attribute vec3 noise;
    attribute vec3 color;
    varying vec3 vColor;
    varying float vOpacity;
    void main() {
      vec4 modelPosition = modelMatrix * vec4(position, 1.0);
      modelPosition.y += sin(time * speed + modelPosition.x * noise.x * 100.0) * 0.2;
      modelPosition.z += cos(time * speed + modelPosition.x * noise.y * 100.0) * 0.2;
      modelPosition.x += cos(time * speed + modelPosition.x * noise.z * 100.0) * 0.2;
      vec4 viewPosition = viewMatrix * modelPosition;
      vec4 projectionPostion = projectionMatrix * viewPosition;
      gl_Position = projectionPostion;
      gl_PointSize = size * 25. * pixelRatio;
      gl_PointSize *= (1.0 / - viewPosition.z);
      vColor = color;
      vOpacity = opacity;
    }`,` varying vec3 vColor;
    varying float vOpacity;
    void main() {
      float distanceToCenter = distance(gl_PointCoord, vec2(0.5));
      float strength = 0.05 / distanceToCenter - 0.1;
      gl_FragColor = vec4(vColor, strength * vOpacity);
      #include <tonemapping_fragment>
      #include <${th>=154?"colorspace_fragment":"encodings_fragment"}>
    }`),fh=l=>l&&l.constructor===Float32Array,IA=l=>[l.r,l.g,l.b],dh=l=>l instanceof Rt||l instanceof Ke||l instanceof ar,hh=l=>Array.isArray(l)?l:dh(l)?l.toArray():[l,l,l];function Ci(l,t,s){return _.useMemo(()=>{if(t!==void 0){if(fh(t))return t;if(t instanceof bt){const d=Array.from({length:l*3},()=>IA(t)).flat();return Float32Array.from(d)}else if(dh(t)||Array.isArray(t)){const d=Array.from({length:l*3},()=>hh(t)).flat();return Float32Array.from(d)}return Float32Array.from({length:l},()=>t)}return Float32Array.from({length:l},s)},[t])}const qA=_.forwardRef(({noise:l=1,count:t=100,speed:s=1,opacity:d=1,scale:o=1,size:r,color:i,children:c,...u},f)=>{_.useMemo(()=>Xs({SparklesImplMaterial:DA}),[]);const h=_.useRef(null),m=Qt(w=>w.viewport.dpr),A=hh(o),y=_.useMemo(()=>Float32Array.from(Array.from({length:t},()=>A.map(_l.randFloatSpread)).flat()),[t,...A]),B=Ci(t,r,Math.random),C=Ci(t,d),E=Ci(t,s),S=Ci(t*3,l),x=Ci(i===void 0?t*3:t,fh(i)?i:new bt(i),()=>1);return Qr(w=>{h.current&&h.current.material&&(h.current.material.time=w.clock.elapsedTime)}),_.useImperativeHandle(f,()=>h.current,[]),_.createElement("points",wn({key:`particle-${t}-${JSON.stringify(o)}`},u,{ref:h}),_.createElement("bufferGeometry",null,_.createElement("bufferAttribute",{attach:"attributes-position",args:[y,3]}),_.createElement("bufferAttribute",{attach:"attributes-size",args:[B,1]}),_.createElement("bufferAttribute",{attach:"attributes-opacity",args:[C,1]}),_.createElement("bufferAttribute",{attach:"attributes-speed",args:[E,1]}),_.createElement("bufferAttribute",{attach:"attributes-color",args:[x,3]}),_.createElement("bufferAttribute",{attach:"attributes-noise",args:[S,3]})),c||_.createElement("sparklesImplMaterial",{transparent:!0,pixelRatio:m,depthWrite:!1}))});function $A(){const l=Qt(t=>t.gl);return _.useEffect(()=>(l.shadowMap.autoUpdate=!1,l.shadowMap.needsUpdate=!0,()=>{l.shadowMap.autoUpdate=l.shadowMap.needsUpdate=!0}),[l.shadowMap]),null}const eg=_.forwardRef(({children:l,compute:t,width:s,height:d,samples:o=8,renderPriority:r=0,eventPriority:i=0,frames:c=1/0,stencilBuffer:u=!1,depthBuffer:f=!0,generateMipmaps:h=!1,...m},A)=>{const{size:y,viewport:B}=Qt(),C=oh((s||y.width)*B.dpr,(d||y.height)*B.dpr,{samples:o,stencilBuffer:u,depthBuffer:f,generateMipmaps:h}),[E]=_.useState(()=>new bs),S=_.useCallback((x,w,T)=>{var D,P;let G=(D=C.texture)==null?void 0:D.__r3f.parent;for(;G&&!(G instanceof Fi);)G=G.__r3f.parent;if(!G)return!1;T.raycaster.camera||T.events.compute(x,T,(P=T.previousRoot)==null?void 0:P.getState());const[b]=T.raycaster.intersectObject(G);if(!b)return!1;const H=b.uv;if(!H)return!1;w.raycaster.setFromCamera(w.pointer.set(H.x*2-1,H.y*2-1),w.camera)},[]);return _.useImperativeHandle(A,()=>C.texture,[C]),_.createElement(_.Fragment,null,xm(_.createElement(GA,{renderPriority:r,frames:c,fbo:C},l,_.createElement("group",{onPointerOver:()=>null})),E,{events:{compute:t||S,priority:i}}),_.createElement("primitive",wn({object:C.texture},m)))});function GA({frames:l,renderPriority:t,children:s,fbo:d}){let o=0,r,i,c,u;return Qr(f=>{(l===1/0||o<l)&&(r=f.gl.autoClear,i=f.gl.xr.enabled,c=f.gl.getRenderTarget(),u=f.gl.xr.isPresenting,f.gl.autoClear=!0,f.gl.xr.enabled=!1,f.gl.xr.isPresenting=!1,f.gl.setRenderTarget(d),f.gl.render(f.scene,f.camera),f.gl.setRenderTarget(c),f.gl.autoClear=r,f.gl.xr.enabled=i,f.gl.xr.isPresenting=u,o++)},t),_.createElement(_.Fragment,null,s)}export{$A as B,LA as C,HA as H,YA as M,WA as P,eg as R,qA as S,zA as T,wn as _,Qr as a,PA as b,QA as c,NA as d,Xs as e,Hl as f,kA as g,XA as h,OA as i,Wt as j,eh as k,ZA as l,bA as m,JA as n,hd as o,uA as s,Qt as u};
